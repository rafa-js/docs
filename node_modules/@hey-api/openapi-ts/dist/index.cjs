'use strict';var Xe=require('ansi-colors'),Rb=require('color-support'),qe=require('fs'),U=require('path'),url=require('url'),S=require('typescript'),c12=require('c12'),codegenCore=require('@hey-api/codegen-core'),os$1=require('os'),Xn=require('semver'),jsonSchemaRefParser=require('@hey-api/json-schema-ref-parser'),O=require('handlebars');var _documentCurrentScript=typeof document!=='undefined'?document.currentScript:null;function _interopDefault(e){return e&&e.__esModule?e:{default:e}}function _interopNamespace(e){if(e&&e.__esModule)return e;var n=Object.create(null);if(e){Object.keys(e).forEach(function(k){if(k!=='default'){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:true,get:function(){return e[k]}});}})}n.default=e;return Object.freeze(n)}var Xe__default=/*#__PURE__*/_interopDefault(Xe);var Rb__default=/*#__PURE__*/_interopDefault(Rb);var qe__default=/*#__PURE__*/_interopDefault(qe);var U__default=/*#__PURE__*/_interopDefault(U);var S__default=/*#__PURE__*/_interopDefault(S);var Xn__namespace=/*#__PURE__*/_interopNamespace(Xn);var O__default=/*#__PURE__*/_interopDefault(O);var mu=Object.create;var pa=Object.defineProperty;var lu=Object.getOwnPropertyDescriptor;var fu=Object.getOwnPropertyNames;var uu=Object.getPrototypeOf,du=Object.prototype.hasOwnProperty;var Je=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var Ie=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var yu=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of fu(t))!du.call(e,o)&&o!==r&&pa(e,o,{get:()=>t[o],enumerable:!(n=lu(t,o))||n.enumerable});return e};var gu=(e,t,r)=>(r=e!=null?mu(uu(e)):{},yu(pa(r,"default",{value:e,enumerable:true}),e));var vl=Ie((W0,El)=>{El.exports=Cl;Cl.sync=Fx;var Al=Je("fs");function $x(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return  true;for(var n=0;n<r.length;n++){var o=r[n].toLowerCase();if(o&&e.substr(-o.length).toLowerCase()===o)return  true}return  false}function Il(e,t,r){return !e.isSymbolicLink()&&!e.isFile()?false:$x(t,r)}function Cl(e,t,r){Al.stat(e,function(n,o){r(n,n?false:Il(o,e,t));});}function Fx(e,t){return Il(Al.statSync(e),e,t)}});var ql=Ie((K0,wl)=>{wl.exports=jl;jl.sync=Dx;var kl=Je("fs");function jl(e,t,r){kl.stat(e,function(n,o){r(n,n?false:Nl(o,t));});}function Dx(e,t){return Nl(kl.statSync(e),t)}function Nl(e,t){return e.isFile()&&Mx(e,t)}function Mx(e,t){var r=e.mode,n=e.uid,o=e.gid,s=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),a=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),p=parseInt("100",8),c=parseInt("010",8),m=parseInt("001",8),l=p|c,f=r&m||r&c&&o===a||r&p&&n===s||r&l&&s===0;return f}});var Fl=Ie((Q0,$l)=>{Je("fs");var Bs;process.platform==="win32"||global.TESTING_WINDOWS?Bs=vl():Bs=ql();$l.exports=Ui;Ui.sync=Lx;function Ui(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,o){Ui(e,t||{},function(s,a){s?o(s):n(a);});})}Bs(e,t||{},function(n,o){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,o=false),r(n,o);});}function Lx(e,t){try{return Bs.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return  false;throw r}}});var _l=Ie((U0,Hl)=>{var Zr=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Dl=Je("path"),Bx=Zr?";":":",Ml=Fl(),Ll=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Bl=(e,t)=>{let r=t.colon||Bx,n=e.match(/\//)||Zr&&e.match(/\\/)?[""]:[...Zr?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],o=Zr?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=Zr?o.split(r):[""];return Zr&&e.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:n,pathExt:s,pathExtExe:o}},Vl=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:o,pathExtExe:s}=Bl(e,t),a=[],p=m=>new Promise((l,f)=>{if(m===n.length)return t.all&&a.length?l(a):f(Ll(e));let u=n[m],d=/^".*"$/.test(u)?u.slice(1,-1):u,y=Dl.join(d,e),h=!d&&/^\.[\\\/]/.test(e)?e.slice(0,2)+y:y;l(c(h,m,0));}),c=(m,l,f)=>new Promise((u,d)=>{if(f===o.length)return u(p(l+1));let y=o[f];Ml(m+y,{pathExt:s},(h,x)=>{if(!h&&x)if(t.all)a.push(m+y);else return u(m+y);return u(c(m,l,f+1))});});return r?p(0).then(m=>r(null,m),r):p(0)},Vx=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:o}=Bl(e,t),s=[];for(let a=0;a<r.length;a++){let p=r[a],c=/^".*"$/.test(p)?p.slice(1,-1):p,m=Dl.join(c,e),l=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+m:m;for(let f=0;f<n.length;f++){let u=l+n[f];try{if(Ml.sync(u,{pathExt:o}))if(t.all)s.push(u);else return u}catch{}}}if(t.all&&s.length)return s;if(t.nothrow)return null;throw Ll(e)};Hl.exports=Vl;Vl.sync=Vx;});var Kl=Ie((Z0,Zi)=>{var Wl=(e={})=>{let t=e.env||process.env;return (e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Zi.exports=Wl;Zi.exports.default=Wl;});var Zl=Ie((X0,Ul)=>{var zl=Je("path"),Hx=_l(),_x=Kl();function Ql(e,t){let r=e.options.env||process.env,n=process.cwd(),o=e.options.cwd!=null,s=o&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(e.options.cwd);}catch{}let a;try{a=Hx.sync(e.command,{path:r[_x({env:r})],pathExt:t?zl.delimiter:void 0});}catch{}finally{s&&process.chdir(n);}return a&&(a=zl.resolve(o?e.options.cwd:"",a)),a}function Wx(e){return Ql(e)||Ql(e,true)}Ul.exports=Wx;});var Xl=Ie((G0,Gi)=>{var Xi=/([()\][%!^"`<>&|;, *?])/g;function Kx(e){return e=e.replace(Xi,"^$1"),e}function zx(e,t){return e=`${e}`,e=e.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),e=e.replace(/(?=(\\+?)?)\1$/,"$1$1"),e=`"${e}"`,e=e.replace(Xi,"^$1"),t&&(e=e.replace(Xi,"^$1")),e}Gi.exports.command=Kx;Gi.exports.argument=zx;});var Jl=Ie((J0,Gl)=>{Gl.exports=/^#!(.*)/;});var ef=Ie((Y0,Yl)=>{var Qx=Jl();Yl.exports=(e="")=>{let t=e.match(Qx);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),o=r.split("/").pop();return o==="env"?n:n?`${o} ${n}`:o};});var rf=Ie((eB,tf)=>{var Ji=Je("fs"),Ux=ef();function Zx(e){let r=Buffer.alloc(150),n;try{n=Ji.openSync(e,"r"),Ji.readSync(n,r,0,150,0),Ji.closeSync(n);}catch{}return Ux(r.toString())}tf.exports=Zx;});var af=Ie((tB,sf)=>{var Xx=Je("path"),nf=Zl(),of=Xl(),Gx=rf(),Jx=process.platform==="win32",Yx=/\.(?:com|exe)$/i,eb=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function tb(e){e.file=nf(e);let t=e.file&&Gx(e.file);return t?(e.args.unshift(e.file),e.command=t,nf(e)):e.file}function rb(e){if(!Jx)return e;let t=tb(e),r=!Yx.test(t);if(e.options.forceShell||r){let n=eb.test(t);e.command=Xx.normalize(e.command),e.command=of.command(e.command),e.args=e.args.map(s=>of.argument(s,n));let o=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${o}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=true;}return e}function nb(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:rb(n)}sf.exports=nb;});var mf=Ie((rB,cf)=>{var Yi=process.platform==="win32";function ea(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function ob(e,t){if(!Yi)return;let r=e.emit;e.emit=function(n,o){if(n==="exit"){let s=pf(o,t);if(s)return r.call(e,"error",s)}return r.apply(e,arguments)};}function pf(e,t){return Yi&&e===1&&!t.file?ea(t.original,"spawn"):null}function sb(e,t){return Yi&&e===1&&!t.file?ea(t.original,"spawnSync"):null}cf.exports={hookChildProcess:ob,verifyENOENT:pf,verifyENOENTSync:sb,notFoundError:ea};});var uf=Ie((nB,Xr)=>{var lf=Je("child_process"),ta=af(),ra=mf();function ff(e,t,r){let n=ta(e,t,r),o=lf.spawn(n.command,n.args,n.options);return ra.hookChildProcess(o,n),o}function ib(e,t,r){let n=ta(e,t,r),o=lf.spawnSync(n.command,n.args,n.options);return o.error=o.error||ra.verifyENOENTSync(o.status,n),o}Xr.exports=ff;Xr.exports.spawn=ff;Xr.exports.sync=ib;Xr.exports._parse=ta;Xr.exports._enoent=ra;});var xu=url.fileURLToPath((typeof document === 'undefined' ? require('u' + 'rl').pathToFileURL(__filename).href : (_documentCurrentScript && _documentCurrentScript.tagName.toUpperCase() === 'SCRIPT' && _documentCurrentScript.src || new URL('index.cjs', document.baseURI).href))),Vs=U__default.default.dirname(xu),Hs=()=>{let e=Vs;for(;e!==U__default.default.dirname(e);){let r=qe__default.default.readdirSync(e).filter(n=>n==="package.json");if(r[0]){let n=U__default.default.join(e,r[0]);return JSON.parse(qe__default.default.readFileSync(n,{encoding:"utf8"}))}e=U__default.default.dirname(e);}},Nn=e=>{if(e==="off")return null;if(e){let r=U__default.default.isAbsolute(e)?e:U__default.default.resolve(Vs,e);return qe__default.default.existsSync(r)?r:null}let t=Vs;for(;t!==U__default.default.dirname(t);){let n=qe__default.default.readdirSync(t).filter(o=>o.startsWith("tsconfig")&&o.endsWith(".json")).sort(o=>o==="tsconfig.json"?-1:1);if(n[0])return U__default.default.join(t,n[0]);t=U__default.default.dirname(t);}return null},wn=e=>{if(!e)return null;let t=S__default.default.readConfigFile(e,S__default.default.sys.readFile);if(t.error)throw new Error(`Couldn't read tsconfig from path: ${e}`);return S__default.default.parseJsonConfigFileContent(t.config,S__default.default.sys,U__default.default.dirname(e))};var Le=e=>{qe__default.default.existsSync(e)||qe__default.default.mkdirSync(e,{recursive:true});},$n=e=>{qe__default.default.existsSync(e)&&qe__default.default.rmSync(e,{force:true,recursive:true});},mr=({moduleOutput:e,sourceOutput:t})=>{let r=t.split("/");return `${Array.from({length:r.length}).fill("").join("../")||"./"}${e}`};var et=class extends Error{},lr=class extends Error{args;event;pluginName;constructor({args:t,error:r,event:n,name:o,pluginName:s}){let a=r instanceof Error?r.message:"Unknown error";super(a),this.args=t,this.cause=r.cause,this.event=n,this.name=o||r.name,this.pluginName=s,this.stack=r.stack;}},ma=(e,t)=>{if(e instanceof et)return;let r=`openapi-ts-error-${Date.now()}.log`,n=U__default.default.resolve(process.cwd(),t);Le(n);let o=U__default.default.resolve(n,r),s=`[${new Date().toISOString()}] `;e instanceof lr&&(s+=`${e.name} during event "${e.event}"
`,e.pluginName&&(s+=`Plugin: ${e.pluginName}
`),s+=`Arguments: ${JSON.stringify(e.args,null,2)}

`);let a=e instanceof Error?e.message:String(e),p=e instanceof Error?e.stack:void 0;return s+=`Error: ${a}
`,p&&(s+=`Stack:
${p}
`),qe__default.default.writeFileSync(o,s),o},la=async e=>{let t="";e instanceof lr&&(e.pluginName&&(t+=`**Plugin**: \`${e.pluginName}\`
`),t+=`**Event**: \`${e.event}\`
`,t+=`**Arguments**:
\`\`\`ts
${JSON.stringify(e.args,null,2)}
\`\`\`

`);let r=e instanceof Error?e.message:String(e),n=e instanceof Error?e.stack:void 0;t+=`**Error**: \`${r}\`
`,n&&(t+=`
**Stack Trace**:
\`\`\`
${n}
\`\`\``);let o=new URLSearchParams({body:t,labels:"bug \u{1F525}",title:"Crash Report"}),s=Hs(),a;if(s&&typeof s=="object"&&"bugs"in s&&s.bugs&&typeof s.bugs=="object"&&"url"in s.bugs&&typeof s.bugs.url=="string"&&(a=s.bugs.url,a&&!a.endsWith("/")&&(a+="/")),a){let p=`${a}new?${o.toString()}`,c=(await import('open')).default;await c(p);}},fa=({error:e,logPath:t})=>{let r=Hs(),n;r&&typeof r=="object"&&"name"in r&&typeof r.name=="string"&&(n=r.name),process.stderr.write(`
\u{1F6D1} ${Xe__default.default.cyan(n||"")} ${Xe__default.default.red("encountered an error.")}

${Xe__default.default.red("\u2757\uFE0F Error:")} ${Xe__default.default.white(typeof e=="string"?e:e instanceof Error?e.message:"Unknown error")}`+(t?`

${Xe__default.default.cyan("\u{1F4C4} Crash log saved to:")} ${Xe__default.default.gray(t)}`:"")+`
`);},ua=async({error:e,isInteractive:t})=>!t||e instanceof et?false:new Promise(r=>{process.stdout.write(`${Xe__default.default.yellow(`
\u{1F4E2} Open a GitHub issue with crash details?`)} ${Xe__default.default.yellow("(y/N):")}`),process.stdin.setEncoding("utf8"),process.stdin.once("data",n=>{r(n.trim().toLowerCase()==="y");});});var da=()=>{if(typeof Bun<"u"){let[e]=Bun.version.split(".").map(Number);if(e<1)throw new et(`Unsupported Bun version ${Bun.version}. Please use Bun 1.0.0 or newer.`)}else if(typeof process<"u"&&process.versions?.node){let[e]=process.versions.node.split(".").map(Number);if(e<18)throw new et(`Unsupported Node version ${process.versions.node}. Please use Node 18 or newer.`)}};var be=e=>{let t=A(e);return t.name==="@hey-api/client-axios"||t.name==="@hey-api/client-nuxt"?"baseURL":"baseUrl"},A=e=>{for(let t of e.pluginOrder){let r=e.plugins[t];if(r?.tags?.includes("client"))return r}return {config:{name:""},name:""}};var ya,T=()=>{let e=ya,t=A(e);return e.client=t,e},ga=e=>(ya=e,T()),K=e=>A(e).name.startsWith("legacy/"),G=e=>{if(K(e))return e.name};var Su=/^([\w-]+)\/([\w-]+)(?:\?([\w=&.-]*))?$/,$t="https://get.heyapi.dev",Ou=(e,t,r)=>`${$t}/${e}/${t}${r?`?${r}`:""}`,Ru=e=>{let t=e.organization,r=e.project,n;if(e.path){let s=e.path.match(Su);if(!s)throw new Error(`Invalid Hey API shorthand format. Expected "organization/project?queryParams" or "organization/project", received: ${e.path}`);t=s[1],r=s[2],n=s[3];}if(!t)throw new Error("The Hey API organization cannot be empty.");if(!r)throw new Error("The Hey API project cannot be empty.");return {organization:t,project:r,queryParams:n}},_s=e=>{let t=Ru(e);return Ou(t.organization,t.project,t.queryParams)};var Tu=/^(@([\w-]+)\/([\w\-.]+)#)?([\w-]+)$/,Pu=e=>`https://dash.readme.com/api/v1/api-registry/${e}`,Fn="readme",Au=e=>{let t=e.match(Tu);if(!t)throw new Error(`Invalid ReadMe shorthand format. Expected "${Fn}:@organization/project#uuid" or "${Fn}:uuid", received: ${Fn}:${e}`);let[,,r,n,o]=t;if(!o)throw new Error("The ReadMe UUID cannot be empty.");return {organization:r,project:n,uuid:o}},ha=e=>{let t=e.slice(`${Fn}:`.length),r=Au(t);return Pu(r.uuid)};var Iu=/^(@[\w-]+)\/([\w.-]+)$/,Cu=(e,t)=>`https://registry.scalar.com/${e}/apis/${t}/latest?format=json`,Ws="scalar",Eu=e=>{let t=e.match(Iu);if(!t)throw new Error(`Invalid Scalar shorthand format. Expected "${Ws}:@organization/project", received: ${Ws}:${e}`);let[,r,n]=t;if(!r)throw new Error("The Scalar organization cannot be empty.");if(!n)throw new Error("The Scalar project cannot be empty.");return {organization:r,project:n}},xa=e=>{let t=e.slice(`${Ws}:`.length),r=Eu(t);return Cu(r.organization,r.project)};var ba=e=>{if(e.path.startsWith("readme:")){e.path=ha(e.path);return}if(e.path.startsWith("scalar:")){e.path=xa(e.path);return}if(e.path.startsWith("."))return;if(e.path.startsWith($t)){e.path=e.path.slice($t.length+1),e.path=_s(e);return}let t=e.path.split("/"),r=t.filter(Boolean);t.length===2&&r.length===2&&(e.path=_s(e));};var Gr={enabled:false,interval:1e3,timeout:6e4},Sa=e=>{let t={...Gr};return typeof e.path!="string"||(typeof e.watch=="boolean"?t.enabled=e.watch:typeof e.watch=="number"?(t.enabled=true,t.interval=e.watch):e.watch&&(t={...t,...e.watch})),t},Oa=e=>{let t={path:"",watch:Gr};return typeof e.input=="string"?t.path=e.input:e.input&&(e.input.path!==void 0||e.input.organization!==void 0)?(t={...t,path:$t,...e.input},t.watch!==void 0&&(t.watch=Sa(t))):t={...t,path:e.input},typeof t.path=="string"&&ba(t),e.watch!==void 0&&t.watch.enabled===Gr.enabled&&t.watch.interval===Gr.interval&&t.watch.timeout===Gr.timeout&&(t.watch=Sa({path:t.path,watch:e.watch})),t};var Dn=e=>{let t={file:true,level:"info",path:process.cwd()};return typeof e?.logs=="string"?t.path=e.logs:t={...t,...e?.logs},t};var vu=(e,t)=>({...e||{},...t||{}}),Ks=(e,t)=>{let r=e||{},n=t||{},o={...r,...n};return typeof o.logs=="object"&&(o.logs=vu(r.logs,n.logs)),o};var Ra=e=>{let t={clean:true,format:false,indexFile:true,lint:false,path:"",tsConfigPath:""};return typeof e.output=="string"?t.path=e.output:t={...t,...e.output},t};var Pa=e=>{let t=e?U__default.default.dirname(e):process.cwd();for(;t!==U__default.default.dirname(t);){let r=U__default.default.join(t,"package.json");if(qe__default.default.existsSync(r))try{let o=JSON.parse(qe__default.default.readFileSync(r,"utf8"));return {...o.dependencies,...o.devDependencies,...o.peerDependencies,...o.optionalDependencies}}catch{}let n=U__default.default.dirname(t);if(n===t)break;t=n;}return {}};var ku=e=>typeof e=="object"&&e!==null&&!Array.isArray(e)&&typeof e!="function",fr=(e,t)=>{for(let[r,n]of Object.entries(t))n!==void 0&&n!==""&&(e[r]=n);return e},Qt=({defaultValue:e,mappers:t,value:r})=>{let n={...e};switch(typeof r){case "boolean":if(t&&"boolean"in t){let o=t.boolean;n=fr(n,o(r));}break;case "function":if(t&&"function"in t){let o=t.function;n=fr(n,o(r));}break;case "number":if(t&&"number"in t){let o=t.number;n=fr(n,o(r));}break;case "string":if(t&&"string"in t){let o=t.string;n=fr(n,o(r));}break;case "object":if(ku(r))if(t&&"object"in t&&typeof t.object=="function"){let o=t.object;n=fr(n,o(r,e));}else n=fr(n,r);break}return n};var Aa=["after","before","cursor","offset","page","start"],Ia=e=>{let t={...e.parser,hooks:{},pagination:{keywords:Aa},transforms:{enums:{case:"PascalCase",enabled:false,mode:"root",name:"{{name}}Enum"},readWrite:{enabled:true,requests:{case:"preserve",name:"{{name}}Writable"},responses:{case:"preserve",name:"{{name}}"}}},validate_EXPERIMENTAL:false};return e.parser&&(e.parser.hooks&&(t.hooks=e.parser.hooks),e.parser.pagination?.keywords&&(t.pagination.keywords=e.parser.pagination.keywords),e.parser.transforms&&(e.parser.transforms.enums!==void 0&&(t.transforms.enums=Qt({defaultValue:{...t.transforms.enums,enabled:!!e.parser.transforms.enums},mappers:{boolean:r=>({enabled:r}),string:r=>({mode:r})},value:e.parser.transforms.enums})),e.parser.transforms.readWrite!==void 0&&(t.transforms.readWrite=Qt({defaultValue:{...t.transforms.readWrite,enabled:!!e.parser.transforms.readWrite},mappers:{boolean:r=>({enabled:r}),object:r=>({...r,requests:Qt({defaultValue:t.transforms.readWrite.requests,mappers:{function:n=>({name:n}),string:n=>({name:n})},value:r.requests}),responses:Qt({defaultValue:t.transforms.readWrite.responses,mappers:{function:n=>({name:n}),string:n=>({name:n})},value:r.responses})})},value:e.parser.transforms.readWrite}))),e.parser.validate_EXPERIMENTAL&&(t.validate_EXPERIMENTAL=e.parser.validate_EXPERIMENTAL===true?"warn":e.parser.validate_EXPERIMENTAL)),t};var C=e=>t=>({...e,config:{...e.config,...t}}),tt={boolean:e=>({enabled:e}),function:e=>({name:e}),string:e=>({name:e})};var Ln=class{constructor(t){this.meta=t;}getSelector(...t){return [this.meta.name,...t]}};var ur=/^[^$_\p{ID_Start}]+/u,ae=/^-?\d+(\.\d+)?$/,Ca=/^(document|history|location|navigator|window)$/g,Ea=/^(console|Array|Date|Error|Function|JSON|Map|Math|Object|Promise|RegExp|Set|WeakMap|WeakSet)$/g,Se=/^(arguments|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|eval|export|extends|false|finally|for|from|function|if|implements|import|in|instanceof|interface|let|new|null|package|private|protected|public|return|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)$/g,va=/^(global|process|Buffer)$/g,ka=/^(any|as|bigint|boolean|namespace|never|null|number|string|symbol|type|undefined|unknown|void)$/g,Be=/^[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*$/u;var ju=[Se,ka,Ea,va,Ca],rt=e=>{let t=e.replace(/[^$\u200c\u200d\p{ID_Continue}]/gu,"_");if(ur.lastIndex=0,ur.test(t))return `_${t}`;for(let r of ju){if(t.startsWith("_"))return t;t=t.replace(r,"_$1");}return t};var je=e=>(e||e==="")&&(Be.lastIndex=0,!Be.test(e))?`'${e}'`:e,dr=e=>e&&e.startsWith("'")&&e.endsWith("'")?e.slice(1,e.length-1):e,Q=e=>e.replace(/\*\//g,"*").replace(/\/\*/g,"*").replace(/\r?\n(.*)/g,(t,r)=>os$1.EOL+r.trim());var wu=S__default.default.createPrinter({newLine:S__default.default.NewLineKind.LineFeed,removeComments:false}),qu=e=>S__default.default.createSourceFile("",e,S__default.default.ScriptTarget.ESNext,false,S__default.default.ScriptKind.TS),$u=qu(""),Fu=e=>e.replace(/\\u([0-9a-fA-F]{4})/g,(t,r)=>String.fromCharCode(Number.parseInt(r,16)));function fe({node:e,unescape:t=false}){let r=wu.printNode(S__default.default.EmitHint.Unspecified,e,$u);if(!t)return r;try{return Fu(r)}catch{return T().logs.level==="debug"&&console.warn("Could not decode value:",r),r}}var v=({text:e})=>S__default.default.factory.createIdentifier(e),ja=()=>S__default.default.factory.createThis(),re=({keyword:e})=>{let t=zs({keyword:e});return S__default.default.factory.createModifier(t)},Na=({initializer:e,modifier:t,name:r,type:n})=>S__default.default.factory.createPropertyDeclaration(t?[re({keyword:t})]:void 0,r,void 0,n,e),Ce={boolean:e=>e?S__default.default.factory.createTrue():S__default.default.factory.createFalse(),export:({alias:e,asType:t=false,name:r})=>{let n=v({text:r});if(e){let o=v({text:e});return S__default.default.factory.createExportSpecifier(t,n,o)}return S__default.default.factory.createExportSpecifier(t,void 0,n)},import:({alias:e,asType:t=false,name:r})=>{let n=v({text:r});if(e){let o=v({text:e});return S__default.default.factory.createImportSpecifier(t,n,o)}return S__default.default.factory.createImportSpecifier(t,void 0,n)},number:e=>e<0?S__default.default.factory.createPrefixUnaryExpression(S__default.default.SyntaxKind.MinusToken,S__default.default.factory.createNumericLiteral(Math.abs(e))):S__default.default.factory.createNumericLiteral(e),string:(e,t=false)=>{let r=e;t&&(r=dr(r));let n=r.includes("'")&&r.includes('"'),o=r.includes(`
`),s=r.startsWith("`"),a=r.startsWith("\\`")&&r.endsWith("\\`");return (o||n||s)&&!a&&(r=`\`${r.replace(/(?<!\\)`/g,"\\`").replace(/\${/g,"\\${")}\``),r.startsWith("`")?v({text:r}):Zt({text:r})}},Ut=e=>e!==null&&typeof e=="object"&&typeof e.kind=="number"&&typeof e.flags=="number"&&typeof e.pos=="number"&&typeof e.end=="number",Ft=e=>e!==void 0,Du=({commentObject:e,node:t})=>{let r=e.lines.filter(a=>!!a||a==="");if(!r.length)return;if(!e.jsdoc){for(let a of r)S__default.default.addSyntheticLeadingComment(t,S__default.default.SyntaxKind.SingleLineCommentTrivia,` ${a}`,true);return}let n=r.map((a,p)=>{let c=a;return p!==r.length&&(c=`${c}
`),S__default.default.factory.createJSDocText(c)}),o=S__default.default.factory.createJSDocComment(S__default.default.factory.createNodeArray(n),void 0),s=fe({node:o,unescape:true}).replace("/*","").replace("*  */","");S__default.default.addSyntheticLeadingComment(t,S__default.default.SyntaxKind.MultiLineCommentTrivia,s,true);},ue=({comments:e=[],node:t})=>{let r=!!e.find(o=>typeof o=="object"&&o),n=e;r||(n=[{jsdoc:true,lines:e}]);for(let o of n)Du({commentObject:o,node:t});};var de=(e,t)=>S__default.default.isTypeNode(e)?e:typeof e=="number"?S__default.default.factory.createLiteralTypeNode(Ce.number(e)):Ne({typeArguments:t?.map(r=>de(r)),typeName:S__default.default.isIdentifier(e)?e.text:e}),Qs=({expression:e,name:t})=>S__default.default.factory.createPropertyAccessChain(e,S__default.default.factory.createToken(S__default.default.SyntaxKind.QuestionDotToken),t),ot=({expression:e,isOptional:t,name:r})=>{let n=typeof e=="string"?v({text:e}):e;if(t&&typeof r!="number")return Qs({expression:n,name:r});if(typeof r=="string"){if(Be.lastIndex=0,!Be.test(r)){!r.startsWith("'")&&!r.endsWith("'")&&(r=`'${r}'`);let s=v({text:r});return S__default.default.factory.createElementAccessExpression(n,s)}let o=v({text:r});return S__default.default.factory.createPropertyAccessExpression(n,o)}if(typeof r=="number"){let o=S__default.default.factory.createNumericLiteral(r);return S__default.default.factory.createElementAccessExpression(n,o)}return S__default.default.factory.createPropertyAccessExpression(n,r)},Us=()=>S__default.default.factory.createNull(),nt=({identifiers:e=[],isValueAccess:t,shorthand:r,unescape:n,value:o})=>{if(o===null)return Us();if(Array.isArray(o))return Zs({elements:o});if(typeof o=="object")return _n({identifiers:e,obj:o,shorthand:r});if(typeof o=="number")return Ce.number(o);if(typeof o=="boolean")return Ce.boolean(o);if(typeof o=="string"){if(t){let s=o.split(".");return ot({expression:s[0],name:s[1]})}return Ce.string(o,n)}},Jr=e=>e.map(t=>{if("destructure"in t)return yr({name:S__default.default.factory.createObjectBindingPattern(t.destructure.map(n=>"destructure"in n?void 0:S__default.default.factory.createBindingElement(void 0,void 0,v({text:n.name}),void 0)).filter(Boolean)),type:t.type!==void 0?de(t.type):void 0});let r=t.accessLevel?[re({keyword:t.accessLevel})]:[];return t.isReadOnly&&r.push(re({keyword:"readonly"})),yr({initializer:t.default!==void 0?nt({value:t.default}):void 0,modifiers:r,name:v({text:t.name}),required:t.isRequired!==false,type:t.type!==void 0?de(t.type):void 0})}),zs=({keyword:e})=>{switch(e){case "any":return S__default.default.SyntaxKind.AnyKeyword;case "async":return S__default.default.SyntaxKind.AsyncKeyword;case "boolean":return S__default.default.SyntaxKind.BooleanKeyword;case "export":return S__default.default.SyntaxKind.ExportKeyword;case "never":return S__default.default.SyntaxKind.NeverKeyword;case "number":return S__default.default.SyntaxKind.NumberKeyword;case "private":return S__default.default.SyntaxKind.PrivateKeyword;case "protected":return S__default.default.SyntaxKind.ProtectedKeyword;case "public":return S__default.default.SyntaxKind.PublicKeyword;case "readonly":return S__default.default.SyntaxKind.ReadonlyKeyword;case "static":return S__default.default.SyntaxKind.StaticKeyword;case "string":return S__default.default.SyntaxKind.StringKeyword;case "undefined":return S__default.default.SyntaxKind.UndefinedKeyword;case "unknown":return S__default.default.SyntaxKind.UnknownKeyword;case "void":return S__default.default.SyntaxKind.VoidKeyword;default:throw new Error(`unsupported syntax kind keyword "${e}"`)}},Xt=({keyword:e})=>{let t=zs({keyword:e});return S__default.default.factory.createKeywordTypeNode(t)},Yr=e=>e.map(t=>S__default.default.isTypeParameterDeclaration(t)?t:en({constraint:t.extends?typeof t.extends=="string"?Xt({keyword:"boolean"}):t.extends:void 0,defaultType:t.default!==void 0?Ut(t.default)?t.default:S__default.default.factory.createLiteralTypeNode(t.default?S__default.default.factory.createTrue():S__default.default.factory.createFalse()):void 0,name:t.name})),wa=({operator:e,type:t})=>{let r=e==="keyof"?S__default.default.SyntaxKind.KeyOfKeyword:e==="readonly"?S__default.default.SyntaxKind.ReadonlyKeyword:S__default.default.SyntaxKind.UniqueKeyword;return S__default.default.factory.createTypeOperatorNode(r,t)},en=({constraint:e,defaultType:t,modifiers:r,name:n})=>S__default.default.factory.createTypeParameterDeclaration(r,n,e,t),Vn=({members:e,nameType:t,questionToken:r,readonlyToken:n,type:o,typeParameter:s})=>S__default.default.factory.createMappedTypeNode(n,s,t,r,o,e),qa=({literal:e})=>S__default.default.factory.createLiteralTypeNode(e),Hn=({async:e,comment:t,multiLine:r,parameters:n=[],returnType:o,statements:s=[],types:a=[]})=>{let p=S__default.default.factory.createArrowFunction(e?[re({keyword:"async"})]:void 0,a?Yr(a):void 0,Jr(n),o?de(o):void 0,void 0,Array.isArray(s)?Ee({multiLine:r,statements:s}):s);return ue({comments:t,node:p}),p},$a=({async:e,comment:t,multiLine:r,parameters:n=[],returnType:o,statements:s=[],types:a=[]})=>{let p=S__default.default.factory.createFunctionExpression(e?[re({keyword:"async"})]:void 0,void 0,void 0,a?Yr(a):void 0,Jr(n),o?de(o):void 0,Ee({multiLine:r,statements:s}));return ue({comments:t,node:p}),p},Zs=({elements:e,multiLine:t=false})=>S__default.default.factory.createArrayLiteralExpression(e.map(n=>Ut(n)?n:nt({value:n})).filter(Ft),t||!Array.isArray(e[0])&&typeof e[0]=="object"),Fa=({expression:e})=>S__default.default.factory.createAwaitExpression(e),Da=({parameters:e=[],returnType:t,typeParameters:r})=>S__default.default.factory.createFunctionTypeNode(r,e,t),_n=({comments:e,identifiers:t=[],multiLine:r=true,obj:n,shorthand:o,unescape:s=false})=>{let a=Array.isArray(n)?n.map(c=>{let m=false;if("key"in c){let{key:f}=c;m=f===c.value,(f.match(/^[0-9]/)&&f.match(/\D+/g)||f.match(/\W/g)||f==="")&&!f.startsWith("'")&&!f.endsWith("'")&&(c.key=`'${f}'`);}let l;if("spread"in c){let f=Ut(c.spread)?c.spread:v({text:c.spread});l=S__default.default.factory.createSpreadAssignment(c.assertion?rn({expression:f,type:typeof c.assertion=="string"?Xt({keyword:c.assertion}):c.assertion}):f);}else if(c.shorthand||o&&m)l=S__default.default.factory.createShorthandPropertyAssignment(c.value);else {let f=Ut(c.value)?c.value:Array.isArray(c.value)&&(!c.value.length||typeof c.value[0]=="object")?_n({multiLine:r,obj:c.value,shorthand:o,unescape:s}):nt({identifiers:t.includes(c.key)?Object.keys(c.value):[],isValueAccess:c.isValueAccess,shorthand:o,unescape:s,value:c.value});if(!f)return;t.includes(c.key)&&!S__default.default.isObjectLiteralExpression(f)&&(f=v({text:c.value})),l=Bn({initializer:f,name:c.key});}return ue({comments:c.comments,node:l}),l}).filter(Ft):Object.entries(n).map(([c,m])=>{let l=nt({identifiers:t.includes(c)?Object.keys(m):[],shorthand:o,unescape:s,value:m});if(!l)return;t.includes(c)&&!S__default.default.isObjectLiteralExpression(l)&&(l=v({text:m}));let f=c===m;return c.match(/^[0-9]/)&&c.match(/\D+/g)&&!c.startsWith("'")&&!c.endsWith("'")&&(c=`'${c}'`),c.match(/\W/g)&&!c.startsWith("'")&&!c.endsWith("'")&&(c=`'${c}'`),o&&f?S__default.default.factory.createShorthandPropertyAssignment(m):Bn({initializer:l,name:c})}).filter(Ft),p=S__default.default.factory.createObjectLiteralExpression(a,r);return ue({comments:e,node:p}),p},Ma=({asConst:e,comments:t={},leadingComment:r,name:n,obj:o})=>{let s=Array.isArray(o)?o.map(l=>{let f=Lu({initializer:nt({value:l.value}),name:l.key});return ue({comments:l.comments,node:f}),f}):Object.entries(o).map(([l,f])=>{let u=S__default.default.factory.createEnumMember(l,nt({unescape:true,value:f}));return ue({comments:t[l],node:u}),u}),a=[re({keyword:"export"})],p=e?[S__default.default.factory.createToken(S__default.default.SyntaxKind.ConstKeyword)]:[],c=[...a,...p],m=S__default.default.factory.createEnumDeclaration(c,typeof n=="string"?v({text:n}):n,s);return ue({comments:r,node:m}),m},Lu=({initializer:e,name:t})=>{let r=t;return typeof r=="string"&&(r.includes("'")?r=Zt({isSingleQuote:false,text:r}):r=je(r)),S__default.default.factory.createEnumMember(r,e)},La=({name:e,statements:t})=>S__default.default.factory.createModuleDeclaration([re({keyword:"export"})],v({text:e}),S__default.default.factory.createModuleBlock(t),S__default.default.NodeFlags.Namespace),Ba=({indexType:e,objectType:t})=>S__default.default.factory.createIndexedAccessTypeNode(t,e),Va=({name:e,returnType:t,statements:r})=>S__default.default.factory.createGetAccessorDeclaration(void 0,e,[],t?Ne({typeName:t}):void 0,Ee({statements:r})),Zt=({isSingleQuote:e,text:t})=>(e===void 0&&(e=!t.includes("'")),S__default.default.factory.createStringLiteral(t,e)),Ha=({condition:e,whenFalse:t,whenTrue:r})=>S__default.default.factory.createConditionalExpression(e,S__default.default.factory.createToken(S__default.default.SyntaxKind.QuestionToken),r,S__default.default.factory.createToken(S__default.default.SyntaxKind.ColonToken),t),_a=({text:e})=>S__default.default.factory.createTypeOfExpression(typeof e=="string"?v({text:e}):e),Wa=({comment:e,exportType:t,name:r,type:n,typeParameters:o=[]})=>{let s=S__default.default.factory.createTypeAliasDeclaration(t?[re({keyword:"export"})]:void 0,typeof r=="string"?v({text:r}):r,Yr(o),de(n));return ue({comments:e,node:s}),s},Ne=({typeArguments:e,typeName:t})=>S__default.default.factory.createTypeReferenceNode(t,e),Ka=({type:e})=>S__default.default.factory.createParenthesizedType(e),yr=({initializer:e,modifiers:t,name:r,required:n=true,type:o})=>S__default.default.factory.createParameterDeclaration(t,void 0,r,n?void 0:S__default.default.factory.createToken(S__default.default.SyntaxKind.QuestionToken),o,e),tn=({argumentsArray:e,expression:t,typeArguments:r})=>S__default.default.factory.createNewExpression(t,r,e),za=({awaitModifier:e,expression:t,initializer:r,statement:n})=>S__default.default.factory.createForOfStatement(e,r,t,n),Qa=({left:e,right:t})=>S__default.default.factory.createAssignment(e,t),Ee=({multiLine:e=true,statements:t})=>S__default.default.factory.createBlock(t,e),Bn=({initializer:e,name:t})=>S__default.default.factory.createPropertyAssignment(t,e),Ua=({flags:e=[],text:t})=>{let r=t.startsWith("/")&&t.endsWith("/")?t:`/${t}/`;return S__default.default.factory.createRegularExpressionLiteral(`${r}${e.join("")}`)},rn=({expression:e,type:t})=>S__default.default.factory.createAsExpression(e,t),Za=({value:e})=>{let t=[],r="";for(let o of e.slice(0).reverse())if(typeof o=="string")r=`${o}${r}`;else {let s=t.length?S__default.default.factory.createTemplateMiddle(r):S__default.default.factory.createTemplateTail(r),a=S__default.default.factory.createTemplateLiteralTypeSpan(o,s);t.push(a),r="";}return S__default.default.factory.createTemplateLiteralType(S__default.default.factory.createTemplateHead(r),t.reverse())};var Xa=({module:e,shouldAppendJs:t})=>S__default.default.factory.createExportDeclaration(void 0,false,void 0,Ce.string(t?`${e}.js`:e)),st=({functionName:e,parameters:t=[],types:r})=>{let n=typeof e=="string"?v({text:e}):e,o=t.filter(a=>a!==void 0).map(a=>typeof a=="string"?v({text:a}):a);return S__default.default.factory.createCallExpression(n,r,o)},Ga=({exports:e,module:t})=>{let r=Array.isArray(e)?e:[e],n=r.some(c=>typeof c!="object"||!c.asType),o=r.map(c=>{let m=typeof c=="string"?{name:c}:c;return Ce.export({alias:m.alias,asType:n&&m.asType,name:m.name})}),s=S__default.default.factory.createNamedExports(o),a=Ce.string(t);return S__default.default.factory.createExportDeclaration(void 0,!n,s,a)},Ja=({assertion:e,comment:t,destructure:r,exportConst:n,expression:o,name:s,typeName:a})=>{let p=e?rn({expression:o,type:typeof e=="string"?Ne({typeName:e}):e}):o,c=typeof s=="string"?v({text:s}):s,m=S__default.default.factory.createVariableDeclaration(r?S__default.default.factory.createObjectBindingPattern([S__default.default.factory.createBindingElement(void 0,void 0,c,void 0)]):c,void 0,a?typeof a=="string"?Ne({typeName:a}):a:void 0,p),l=S__default.default.factory.createVariableStatement(n?[re({keyword:"export"})]:void 0,S__default.default.factory.createVariableDeclarationList([m],S__default.default.NodeFlags.Const));return ue({comments:t,node:l}),l},Ya=({imports:e,module:t})=>{let r=Array.isArray(e)?e:[e],n=r.some(l=>typeof l!="object"||!l.asType),o,s=[];r.forEach(l=>{let f=typeof l=="string"?{name:l}:l;f.name==="*"&&f.alias?o=f:s.push(Ce.import({alias:f.alias,asType:n&&f.asType,name:f.name}));});let a=o?S__default.default.factory.createNamespaceImport(v({text:o.alias})):S__default.default.factory.createNamedImports(s),p=S__default.default.factory.createImportClause(!n,void 0,a),c=Ce.string(t);return S__default.default.factory.createImportDeclaration(void 0,p,c)};var ep=({accessLevel:e,comment:t,multiLine:r=true,parameters:n=[],statements:o=[]})=>{let s=e?[re({keyword:e})]:void 0,a=S__default.default.factory.createConstructorDeclaration(s,Jr(n),Ee({multiLine:r,statements:o}));return ue({comments:t,node:a}),a},tp=({accessLevel:e,comment:t,isStatic:r=false,multiLine:n=true,name:o,parameters:s=[],returnType:a,statements:p=[],types:c=[]})=>{let m=e?[re({keyword:e})]:[];r&&m.push(re({keyword:"static"}));let l=S__default.default.factory.createMethodDeclaration(m,void 0,v({text:o}),void 0,c?Yr(c):void 0,Jr(s),a?de(a):void 0,Ee({multiLine:n,statements:p}));return ue({comments:t,node:l}),l},rp=({decorator:e,exportClass:t,extendedClasses:r,name:n,nodes:o})=>{let s=[];t&&s.push(re({keyword:"export"})),e&&s.unshift(S__default.default.factory.createDecorator(st({functionName:e.name,parameters:e.args.map(p=>nt({value:p})).filter(Ft)})));let a=[];if(r)for(let p of r)a.push(S__default.default.factory.createHeritageClause(S__default.default.SyntaxKind.ExtendsKeyword,[S__default.default.factory.createExpressionWithTypeArguments(v({text:p}),void 0)]));return S__default.default.factory.createClassDeclaration(s,v({text:n}),void 0,a,o)};var Jt=({expression:e})=>S__default.default.factory.createExpressionStatement(e);var Wn=({expression:e})=>S__default.default.factory.createReturnStatement(e),op=({args:e=[],name:t,types:r=[]})=>{let n=r.map(p=>Ne({typeName:p})),o=e.map(p=>S__default.default.isExpression(p)?p:v({text:p})).filter(Ft),s=st({functionName:t,parameters:o,types:n});return Wn({expression:s})},sp=({expression:e})=>Wn({expression:typeof e=="string"?v({text:e}):e});var gr=e=>e.slice(1).reduce((t,r)=>(Be.lastIndex=0,Be.test(r)?Qs({expression:t,name:r}):S__default.default.factory.createElementAccessChain(t,S__default.default.factory.createToken(S__default.default.SyntaxKind.QuestionDotToken),v({text:r}))),v({text:e[0]})),Kn=e=>e.slice(1).reduce((t,r)=>ot({expression:t,name:r}),v({text:e[0]})),ip=({expressions:e})=>e.reduce((r,n)=>ot({expression:r,name:n})),zn=({left:e,operator:t="=",right:r})=>S__default.default.factory.createBinaryExpression(e,t==="="?S__default.default.SyntaxKind.EqualsToken:t==="==="?S__default.default.SyntaxKind.EqualsEqualsEqualsToken:t==="??"?S__default.default.SyntaxKind.QuestionQuestionToken:S__default.default.SyntaxKind.InKeyword,typeof r=="string"?v({text:r}):r),hr=({elseStatement:e,expression:t,thenStatement:r})=>S__default.default.factory.createIfStatement(t,r,e),ap=({path:e})=>{let t=gr(e),r=Kn(e),n=Ee({statements:[Jt({expression:zn({left:r,right:tn({argumentsArray:[r],expression:v({text:"Date"})})})})]});return hr({expression:t,thenStatement:n})},pp=({path:e,transformerName:t})=>{let r=gr(e),n=Kn(e),o=Ee({statements:[Jt({expression:st({functionName:t,parameters:[n]})})]});return [hr({expression:r,thenStatement:o})]},cp=({path:e,transformerName:t})=>{let r=gr(e),n=Kn(e);return hr({expression:st({functionName:ot({expression:"Array",name:"isArray"}),parameters:[r]}),thenStatement:Ee({statements:[Jt({expression:S__default.default.factory.createCallChain(ot({expression:n,name:"forEach"}),void 0,void 0,[v({text:t})])})]})})},mp=({parameterName:e})=>{let t=v({text:"Date"});return tn({argumentsArray:[v({text:e})],expression:t})},lp=({path:e,transformExpression:t})=>{let r=gr(e),n=Kn(e);return hr({expression:st({functionName:ot({expression:"Array",name:"isArray"}),parameters:[r]}),thenStatement:Ee({statements:[Jt({expression:zn({left:n,right:S__default.default.factory.createCallChain(ot({expression:n,name:"map"}),void 0,void 0,[Hn({parameters:[{name:"item"}],statements:t})])})})]})})};var Qu=Ne({typeName:"null"}),xr=({isNullable:e,node:t})=>e?S__default.default.factory.createUnionTypeNode([t,Qu]):t,Xs=({indexKey:e,indexProperty:t,isNullable:r,properties:n,useLegacyResolution:o})=>{let a=n.map(m=>{let l=m.isReadOnly?[re({keyword:"readonly"})]:void 0,f=m.isRequired!==false?void 0:S__default.default.factory.createToken(S__default.default.SyntaxKind.QuestionToken),u=de(m.type);let d=S__default.default.factory.createPropertySignature(l,o||typeof m.name=="string"&&m.name.match(Be)||typeof m.name!="string"&&S__default.default.isPropertyName(m.name)?m.name:Zt({text:m.name}),f,u);return ue({comments:m.comment,node:d}),d}),p=false;if(t)if(!n.length&&e){let m=Vn({questionToken:S__default.default.factory.createToken(S__default.default.SyntaxKind.QuestionToken),type:t.type??Xt({keyword:"string"}),typeParameter:en({constraint:e,name:v({text:String(t.name)})})});a.push(m),p=true;}else {let m=t.isReadOnly?[re({keyword:"readonly"})]:void 0,l=S__default.default.factory.createIndexSignature(m,[yr({name:v({text:String(t.name)}),type:Xt({keyword:"string"})})],de(t.type));a.push(l);}let c=p?a[0]:S__default.default.factory.createTypeLiteralNode(a);return xr({isNullable:r,node:c})},nn=({isNullable:e,types:t})=>{let r=[];for(let o of t){let s=de(o);S__default.default.isUnionTypeNode(s)?r.push(...s.types):r.push(s);}let n=S__default.default.factory.createUnionTypeNode(r);return xr({isNullable:e,node:n})},fp=({isNullable:e,types:t})=>{let r=[];for(let o of t){let s=de(o);S__default.default.isIntersectionTypeNode(s)?r.push(...s.types):r.push(s);}let n=S__default.default.factory.createIntersectionTypeNode(r);return xr({isNullable:e,node:n})},up=({isNullable:e=false,types:t})=>{let r=t.map(o=>de(o)),n=S__default.default.factory.createTupleTypeNode(r);return xr({isNullable:e,node:n})},dp=(e,t,r=false,n=true)=>{let o=nn({types:e}),s=nn({types:t}),a=Xs({properties:[{name:`[key: ${fe({node:o,unescape:true})}]`,type:s}],useLegacyResolution:n});return xr({isNullable:r,node:a})},yp=(e,t=false)=>{let r=Ne({typeArguments:[Array.isArray(e)?nn({types:e}):e],typeName:"Array"});return xr({isNullable:t,node:r})};var i={anonymousFunction:$a,arrayLiteralExpression:Zs,arrowFunction:Hn,asExpression:rn,assignment:Qa,awaitExpression:Fa,binaryExpression:zn,block:Ee,callExpression:st,classDeclaration:rp,conditionalExpression:Ha,constVariable:Ja,constructorDeclaration:ep,enumDeclaration:Ma,exportAllDeclaration:Xa,exportNamedDeclaration:Ga,expressionToStatement:Jt,forOfStatement:za,functionTypeNode:Da,getAccessorDeclaration:Va,identifier:v,ifStatement:hr,indexedAccessTypeNode:Ba,isTsNode:Ut,keywordTypeNode:Xt,literalTypeNode:qa,mappedTypeNode:Vn,methodDeclaration:tp,namedImportDeclarations:Ya,namespaceDeclaration:La,newExpression:tn,nodeToString:fe,null:Us,objectExpression:_n,ots:Ce,parameterDeclaration:yr,propertyAccessExpression:ot,propertyAccessExpressions:ip,propertyAssignment:Bn,propertyDeclaration:Na,regularExpressionLiteral:Ua,returnFunctionCall:op,returnStatement:Wn,returnVariable:sp,safeAccessExpression:gr,stringLiteral:Zt,templateLiteralType:Za,this:ja,transformArrayMap:lp,transformArrayMutation:cp,transformDateMutation:ap,transformFunctionMutation:pp,transformNewDate:mp,typeAliasDeclaration:Wa,typeArrayNode:yp,typeInterfaceNode:Xs,typeIntersectionNode:fp,typeNode:de,typeOfExpression:_a,typeOperatorNode:wa,typeParameterDeclaration:en,typeParenthesizedNode:Ka,typeRecordNode:dp,typeReferenceNode:Ne,typeTupleNode:up,typeUnionNode:nn,valueToExpression:nt},Zu=i;var M=class{id="typescript";ensureValidName(t){return rt(t)}getUniqueName(t,r){let n=2,o=t;for(;r.hasValue(o);)o=`${t}${n}`,n+=1;return o}groupByKey(t,r,n){let o=new Map;for(let s of t[r]){let a=n?.moduleResolution===S__default.default.ModuleResolutionKind.NodeNext,p=typeof s.from=="string"?s.from:`${t.relativePathToFile(s.from)}${a?".js":""}`;o.has(p)||o.set(p,[]),o.get(p).push(s);}return o}renderBody(t){let r=[];for(let o of t.symbols)o.value&&(typeof o.value=="string"?r.push(o.value):o.value instanceof Array?o.value.forEach(s=>{r.push(`${fe({node:s,unescape:true})}
`);}):r.push(`${fe({node:o.value,unescape:true})}
`));let n=r.join(`
`);return n=codegenCore.replaceWrappedIds(n,o=>this.replacerFn({file:t,headless:false,scope:"file",symbolId:o})),n}renderExports(t,r){let n=this.groupByKey(t,"exports",r),o=[];for(let[a,p]of n.entries()){let c=p.every(f=>f.typeDefaultImport||f.typeNamespaceImport||f.names?.every(u=>f.typeNames?.includes(u)));if(p.length===1&&p[0].namespaceImport){let f=typeof p[0].namespaceImport=="string"?S__default.default.factory.createNamespaceExport(i.identifier({text:p[0].namespaceImport})):void 0,u=S__default.default.factory.createExportDeclaration(void 0,false,f,i.stringLiteral({isSingleQuote:true,text:a}));o.push(fe({node:u}));continue}let m=[];for(let f of p)for(let u of f.names??[]){let d=f.aliases?.[u],y=d&&d!==u?S__default.default.factory.createExportSpecifier(false,i.identifier({text:u}),i.identifier({text:d})):S__default.default.factory.createExportSpecifier(false,void 0,i.identifier({text:u}));m.push(y);}let l=S__default.default.factory.createExportDeclaration(void 0,c,S__default.default.factory.createNamedExports(m),i.stringLiteral({isSingleQuote:true,text:a}));o.push(fe({node:l}));}o.length&&o.push("");let s=o.join(`
`);return s=codegenCore.replaceWrappedIds(s,a=>this.replacerFn({file:t,headless:false,scope:"file",symbolId:a})),s}renderHeader(t,r){if(!t.hasContent())return "";let n=[this.renderHeaders(),this.renderImports(t,r)].filter(Boolean).join(`
`);return n.endsWith(`
`)?`${n}
`:`${n}

`}renderHeaders(){return ["// This file is auto-generated by @hey-api/openapi-ts",""].join(`
`)}renderImports(t,r){let n=this.groupByKey(t,"imports",r),o=[];for(let[s,a]of n.entries()){let p=[],c,m,l=false;for(let d of a)if(d.defaultImport&&(c=i.identifier({text:d.defaultImport}),d.typeDefaultImport&&(l=true)),typeof d.namespaceImport=="string"&&(m=codegenCore.replaceWrappedIds(d.namespaceImport,y=>this.replacerFn({file:t,symbolId:y})),d.typeNamespaceImport&&(l=true)),d.names&&d.names.length>0){!l&&d.names.every(y=>d.typeNames?.includes(y))&&(l=true);for(let y of d.names){let h=d.aliases?.[y],x=y,b;h&&h!==x&&(b=x,x=h),x=codegenCore.replaceWrappedIds(x,E=>{let $=this.replacerFn({file:t,symbolId:E}),q=t.project.getFileBySymbolId(E),N=q?q.resolvedNames.get(E):void 0;return N&&N!==$&&(b||(b=N)),$}),b&&(b=codegenCore.replaceWrappedIds(b,E=>this.replacerFn({file:t,symbolId:E})),b===x&&(b=void 0));let I=S__default.default.factory.createImportSpecifier(l?false:d.typeNames?.includes(y)??false,b?i.identifier({text:b}):void 0,i.identifier({text:x}));p.push(I);}}let f=S__default.default.factory.createImportClause(l,c,m?S__default.default.factory.createNamespaceImport(i.identifier({text:m})):p.length?S__default.default.factory.createNamedImports(p):void 0),u=S__default.default.factory.createImportDeclaration(void 0,f,i.stringLiteral({isSingleQuote:true,text:s}));o.push(fe({node:u}));}return o.length&&o.push(""),o.join(`
`)}renderSymbols(t,r){if(!t.hasContent())return "";let n=[this.renderBody(t),this.renderExports(t,r)].filter(Boolean).join(`
`);return n.endsWith(`
`)?n:`${n}
`}replacerFn({file:t,headless:r=true,scope:n="project",symbolId:o}){let s=t.resolvedNames.get(o);if(s)return s;let a=n==="file"?t.getSymbolById(o):t.project.getSymbolById(o);if(!a||!r&&a.value===void 0)return;let p=this.ensureValidName(a.name);return t.resolvedNames.hasValue(p)&&(p=this.getUniqueName(p,t.resolvedNames)),t.resolvedNames.set(o,p),p}};var gp=/[\p{Lu}]/u,Gs=/[\p{Ll}]/u,xp=/([\p{Alpha}\p{N}_]|$)/u,br=/[_.\- `\\[\]{}\\/]+/,Xu=new RegExp(`^${br.source}`),Js=new RegExp(`${br.source}${xp.source}`,"gu"),hp=new RegExp(`\\d+${xp.source}`,"gu"),Gu=({case:e,string:t})=>{let r=false,n=false,o=false,s=false,a=e==="snake_case"||e==="SCREAMING_SNAKE_CASE"?"_":"-";for(let p=0;p<t.length;p++){let c=t[p];s=p>2?t[p-3]===a:true;let m=p+1,l=t[m];for(br.lastIndex=0;l&&br.test(l);)m+=1,l=t[m];let f=m!==p+1;if(Gs.lastIndex=0,gp.lastIndex=0,gp.test(c)&&(r||l&&!f&&l!=="s"&&Gs.test(l)))t=`${t.slice(0,p)}${a}${t.slice(p)}`,p++,o=n,r=false,n=true;else if(n&&o&&Gs.test(c)&&!s&&!(c==="s"&&(!l||l.toLocaleLowerCase()!==l)))t=`${t.slice(0,p-1)}${a}${t.slice(p-1)}`,o=n,r=true,n=false;else {let u=c.toLocaleLowerCase(),d=c.toLocaleUpperCase();o=n,r=u===c&&d!==c,n=d===c&&u!==c;}}return t},k=({case:e,stripLeadingSeparators:t=true,value:r})=>{let n=r.trim();return n.length?!e||e==="preserve"?n:n.length===1?(br.lastIndex=0,br.test(n)?"":e==="PascalCase"||e==="SCREAMING_SNAKE_CASE"?n.toLocaleUpperCase():n.toLocaleLowerCase()):(n!==n.toLocaleLowerCase()&&(n=Gu({case:e,string:n})),(t||n[0]!==r[0])&&(n=n.replace(Xu,"")),n=e==="SCREAMING_SNAKE_CASE"?n.toLocaleUpperCase():n.toLocaleLowerCase(),e==="PascalCase"&&(n=`${n.charAt(0).toLocaleUpperCase()}${n.slice(1)}`),e==="snake_case"||e==="SCREAMING_SNAKE_CASE"?(n=n.replaceAll(Js,(s,a,p)=>p===0&&!t?s:`_${a}`),n[n.length-1]==="_"&&(n=n.slice(0,n.length-1))):(Js.lastIndex=0,hp.lastIndex=0,n=n.replaceAll(hp,(s,a,p)=>["_","-","."].includes(n.charAt(p+s.length))?s:s.toLocaleUpperCase()),n=n.replaceAll(Js,(s,a,p)=>p===0&&!t&&s[0]&&r.startsWith(s[0])?s:a.toLocaleUpperCase())),n):""};var R=({config:e,name:t})=>{if(typeof e.name=="function")t=e.name(t);else if(e.name){let r=e.case==="preserve"?"":"-";t=e.name.replace("{{name}}",`${r}${t}${r}`);}return k({case:e.case,value:t})};var Te=class{_exportFromIndex;_headers=[];_id;_imports=new Map;_items=[];_name;_path;constructor({dir:t,exportFromIndex:r=false,header:n=true,id:o,name:s}){this._exportFromIndex=r,this._id=o,this._name=this._setName(s),this._path=U__default.default.resolve(t,this._name),n&&this._headers.push("// This file is auto-generated by @hey-api/openapi-ts");}add(...t){this._items=this._items.concat(t);}get exportFromIndex(){return this._exportFromIndex}get id(){return this._id}import({module:t,...r}){if(!r.name)return {name:void 0};let n=this._imports.get(t);n||(n=new Map,this._imports.set(t,n));let o=n.get(r.name);return o?{...o,name:o.alias||o.name}:(n.set(r.name,r),{...r,name:r.alias||r.name})}isEmpty(){return !this._items.length}nameWithoutExtension(){let{name:t}=sn(this._name);return t}relativePathToFile({context:t,id:r}){let n="";if(r.startsWith(".")){let m=[];if(t.config.configFile){let l=t.config.configFile.split("/");m=l.slice(0,l.length-1);}n=U__default.default.resolve(process.cwd(),...m,r);}else {let m=t.file({id:r});if(!m)throw new Error(`File with id ${r} does not exist`);n=m._path;}let o=this._path.split(U__default.default.sep),s=n.split(U__default.default.sep),a=-1,p="";for(let m of o)if(a+=1,s[a]!==m){let l=Array.from({length:o.length-a}).fill(""),f=s.slice(a),u=f.slice(0,f.length-1);u.length&&u.push(""),p=(l.join("../")||"./")+u.join("/");break}let c=s[s.length-1];return `${p}${sn(c).name}`}remove(t){qe__default.default.rmSync(this._path,t);}removeNode_LEGACY(){this._items=this._items.slice(0,this._items.length-1);}_setName(t){if(t.includes("index"))return t;let{extension:r,name:n}=sn(t);return [n,"gen",r].filter(Boolean).join(".")}_toString(t,r){let n=[];this._headers.length&&n.push(this._headers.join(`
`));let o=r?.options.moduleResolution===S__default.default.ModuleResolutionKind.NodeNext,s=[];for(let[a,p]of this._imports.entries()){let c=Array.from(p.values()),m=a;o&&(m.startsWith("./")||m.startsWith("../"))&&(m==="./client"?m="./client/index.js":m=`${m}.js`);let l=i.namedImportDeclarations({imports:c,module:m});s.push(fe({node:l}));}return s.length&&n.push(s.join(`
`)),n=n.concat(this._items.map(a=>typeof a=="string"?a:fe({node:a,unescape:true}))),n.join(t)}write(t=`
`,r=null){if(this.isEmpty()){this.remove({force:true});return}let n=this._path;if(typeof this._path=="string"){let o=this._path.split(U__default.default.sep);n=o.slice(0,o.length-1).join(U__default.default.sep);}Le(n),qe__default.default.writeFileSync(this._path,this._toString(t,r));}},sn=e=>{let t=e.match(/\.[0-9a-z]+$/i),r=t?t[0].slice(1):"",n=e.slice(0,e.length-(r?r.length+1:0));return {extension:r,name:n}};var td=url.fileURLToPath((typeof document === 'undefined' ? require('u' + 'rl').pathToFileURL(__filename).href : (_documentCurrentScript && _documentCurrentScript.tagName.toUpperCase() === 'SCRIPT' && _documentCurrentScript.src || new URL('index.cjs', document.baseURI).href))),Sp=U__default.default.dirname(td),Rp=e=>{let t=e.split(U__default.default.sep);return t.slice(0,t.length-1).join(U__default.default.sep)},ne=({config:e,sourceOutput:t})=>{let r=A(e);if("bundle"in r.config&&r.config.bundle)return mr({moduleOutput:"client",sourceOutput:t});if(U__default.default.isAbsolute(r.name)){let n=Rp(r.name),o=U__default.default.resolve(e.output.path);return U__default.default.relative(o,n).replace(/\\/g,"/")}return r.name},Qn=(e,t)=>{if(qe__default.default.statSync(e).isDirectory()){qe__default.default.existsSync(t)||qe__default.default.mkdirSync(t,{recursive:true});let n=qe__default.default.readdirSync(e);for(let o of n)Qn(U__default.default.join(e,o),U__default.default.join(t,o));}else {let n=qe__default.default.readFileSync(e);qe__default.default.writeFileSync(t,n);}},rd=({filePath:e,relativeImportSuffix:t})=>{let r=qe__default.default.readFileSync(e,"utf8");t&&(r=r.replace(/from\s+['"](\.\.?\/[^'"]*?)['"]/g,(o,s)=>{let a=s.lastIndexOf("/");return (a>=0?s.slice(a+1):s).includes(".")?o:`from '${s}${t}'`})),r=`// This file is auto-generated by @hey-api/openapi-ts

${r}`,qe__default.default.writeFileSync(e,r,"utf8");},Op=({fileName:e,outputPath:t,shouldAppendJs:r,shouldRename:n})=>{let{extension:o,name:s}=sn(e),a=U__default.default.resolve(t,e),p="";if(n&&(p=".gen",s!=="index"&&!s.endsWith(p))){let m=U__default.default.resolve(t,[s,"gen",o].join("."));qe__default.default.renameSync(a,m),a=m;}r&&(p=`${p}.js`),rd({filePath:a,relativeImportSuffix:p});},Un=({legacy:e,outputPath:t,plugin:r,tsConfig:n})=>{if(r.name.startsWith("@hey-api/client-")){let u=n?.options.moduleResolution===S__default.default.ModuleResolutionKind.NodeNext,d=U__default.default.resolve(t,"core");Le(d);let y=U__default.default.resolve(Sp,"clients","core");Qn(y,d);let h=qe__default.default.readdirSync(d);for(let $ of h)Op({fileName:$,outputPath:d,shouldAppendJs:u,shouldRename:!e});let x=U__default.default.resolve(t,"client");Le(x);let b=r.name.slice(16),I=U__default.default.resolve(Sp,"clients",b);Qn(I,x);let E=qe__default.default.readdirSync(x);for(let $ of E)Op({fileName:$,outputPath:x,shouldAppendJs:u,shouldRename:!e});return}let s="";if(U__default.default.isAbsolute(r.name)&&(s=Rp(r.name)),s){let u=U__default.default.resolve(t,"client");Le(u),Qn(s,u);return}let p=U__default.default.normalize(Je.resolve(r.name)).split(U__default.default.sep),c=p.slice(0,p.indexOf("dist")+1).join(U__default.default.sep),l=[p[p.length-1],"index.d.ts","index.d.cts"],f=U__default.default.resolve(t,"client");Le(f);for(let u of l)qe__default.default.copyFileSync(U__default.default.resolve(c,u),U__default.default.resolve(f,u));};var Zn=({context:e,parameter:t})=>{if(!t.pagination)return;if(t.pagination===true)return t.schema;let r=t.schema;return r.$ref&&(r=e.resolveIrRef(r.$ref)),r.properties[t.pagination]},Dt=e=>{for(let t in e)if(e[t].required)return  true;return  false},Tp=e=>e?!!(Dt(e.cookie)||Dt(e.header)||Dt(e.path)||Dt(e.query)):false,Ys=({context:e,parameters:t})=>{if(t){for(let r in t.cookie){let n=t.cookie[r];if(n.pagination)return {in:n.location,name:n.pagination===true?n.name:`${n.name}.${n.pagination}`,schema:Zn({context:e,parameter:n})}}for(let r in t.header){let n=t.header[r];if(n.pagination)return {in:n.location,name:n.pagination===true?n.name:`${n.name}.${n.pagination}`,schema:Zn({context:e,parameter:n})}}for(let r in t.path){let n=t.path[r];if(n.pagination)return {in:n.location,name:n.pagination===true?n.name:`${n.name}.${n.pagination}`,schema:Zn({context:e,parameter:n})}}for(let r in t.query){let n=t.query[r];if(n.pagination)return {in:n.location,name:n.pagination===true?n.name:`${n.name}.${n.pagination}`,schema:Zn({context:e,parameter:n})}}}};var Y=({detectFormat:e=true,schema:t})=>{if(!t.items)return t;let r=[],n=[];for(let s of t.items){if(!s.type&&s.items||t.type==="tuple"){r.push(s);continue}if(!s.type||s.type==="boolean"||s.type==="integer"||s.type==="null"||s.type==="number"||s.type==="string"||s.type==="unknown"||s.type==="void"){let a=s.const!==void 0?`const-${s.const}`:"",p=s.format!==void 0&&e?`format-${s.format}`:"",c=`${s.$ref??""}${s.type??""}${a}${p}`;n.includes(c)||(n.push(c),r.push(s));continue}r.push(s);}let o={...t};if(o.items=r,o.items.length<=1&&o.type!=="array"&&o.type!=="enum"&&o.type!=="tuple"){let s=o.items[0];delete o.logicalOperator,delete o.items,o={...o,...s};}return o.type==="unknown"?{}:o};var an=e=>JSON.parse(JSON.stringify(e)),L=(e,t)=>{if(!e?.length)return t?.length?t:void 0;if(!t?.length)return e;let r=new Set(e);for(let n of t)r.add(n);return r.size>e.length?Array.from(r):e};var ei=({items:e,schema:t})=>{for(let r of e)t.accessScopes=L(t.accessScopes,r.accessScopes);t.items=e;},z=({items:e,logicalOperator:t="or",mutateSchemaOneItem:r=false,schema:n})=>e.length?n.type==="tuple"?(ei({items:e,schema:n}),n):e.length!==1?(ei({items:e,schema:n}),n.logicalOperator=t,n):r?(n={...n,...e[0]},n):(ei({items:e,schema:n}),n):n;var Or=e=>!!(Tp(e.parameters)||e.body?.required),B=({method:e,path:t})=>`${e.toUpperCase()} ${t}`,Pp=({context:e,operation:t})=>{let r=t.body;if(!r||!r.pagination)return Ys({context:e,parameters:t.parameters});if(r.pagination===true)return {in:"body",name:"body",schema:r.schema};let n=r.schema,o=n.$ref?e.resolveIrRef(n.$ref):n,a=("schema"in o?o.schema:o)?.properties?.[r.pagination];return a?{in:"body",name:r.pagination,schema:a}:Ys({context:e,parameters:t.parameters})},ti=({statusCode:e})=>{switch(e){case "1XX":return "1XX";case "2XX":return "2XX";case "3XX":return "3XX";case "4XX":return "4XX";case "5XX":return "5XX";case "default":return "default";default:return `${e[0]}XX`}},it=e=>{let t={};if(!e.responses)return t;let r={properties:{},type:"object"},n={properties:{},type:"object"},o;for(let p in e.responses){let c=e.responses[p];switch(ti({statusCode:p})){case "1XX":case "3XX":break;case "2XX":n.properties[p]=c.schema;break;case "4XX":case "5XX":r.properties[p]=c.schema;break;case "default":o=c;break}}if(o){let p=false;Object.keys(n.properties).length||(n.properties.default=o.schema,p=true);let c=(o.schema.description??"").toLocaleLowerCase(),m=(o.schema.$ref??"").toLocaleLowerCase();["success"].some(u=>c.includes(u)||m.includes(u))&&(n.properties.default=o.schema,p=true),["error","problem"].some(u=>c.includes(u)||m.includes(u))&&(r.properties.default=o.schema,p=true),p||(r.properties.default=o.schema);}let s=Object.keys(r.properties);if(s.length){r.required=s,t.errors=r;let p=z({items:Object.values(r.properties),mutateSchemaOneItem:true,schema:{}});p=Y({schema:p}),Object.keys(p).length&&p.type!=="unknown"&&(t.error=p);}let a=Object.keys(n.properties);if(a.length){n.required=a,t.responses=n;let p=z({items:Object.values(n.properties),mutateSchemaOneItem:true,schema:{}});p=Y({schema:p}),Object.keys(p).length&&p.type!=="unknown"&&(t.response=p);}return t};var Gn=e=>({getVersion:t=>{let r=e[t];try{if(r)return Xn__namespace.parse(r)||void 0}catch{}},isInstalled:t=>!!e[t],satisfies:(t,r,n)=>{let o=typeof t=="string"?e[t]:t;return o?Xn__namespace.satisfies(o,r,n):false}});var nd=e=>{switch(e.method){case "delete":case "patch":case "post":case "put":return ["mutation"];case "get":return ["query"];default:return []}},Jn=class{api;config;context;dependencies=[];gen;handler;name;output;package;constructor(t){this.api=t.api??{},this.config=t.config,this.context=t.context,this.dependencies=t.dependencies,this.gen=t.gen,this.handler=t.handler,this.name=t.name,this.output=t.output,this.package=t.context.package;}createFile(t){return this.context.createFile({exportFromIndex:this.config.exportFromIndex,...t})}forEach(...t){let r=t.slice(0,-1),n=t[t.length-1],o=new Set(r.length?r:["operation","parameter","requestBody","schema","server","webhook"]);if(o.has("server")&&this.context.ir.servers)for(let s of this.context.ir.servers){let a={server:s,type:"server"};try{n(a);}catch(p){this.forEachError(p,a);}}if(o.has("schema")&&this.context.ir.components?.schemas)for(let s in this.context.ir.components.schemas){let a={$ref:`#/components/schemas/${s}`,name:s,schema:this.context.ir.components.schemas[s],type:"schema"};try{n(a);}catch(p){this.forEachError(p,a);}}if(o.has("parameter")&&this.context.ir.components?.parameters)for(let s in this.context.ir.components.parameters){let a={$ref:`#/components/parameters/${s}`,name:s,parameter:this.context.ir.components.parameters[s],type:"parameter"};try{n(a);}catch(p){this.forEachError(p,a);}}if(o.has("requestBody")&&this.context.ir.components?.requestBodies)for(let s in this.context.ir.components.requestBodies){let a={$ref:`#/components/requestBodies/${s}`,name:s,requestBody:this.context.ir.components.requestBodies[s],type:"requestBody"};try{n(a);}catch(p){this.forEachError(p,a);}}if(o.has("operation")&&this.context.ir.paths)for(let s in this.context.ir.paths){let a=this.context.ir.paths[s];for(let p in a){let c=p,m={method:c,operation:a[c],path:s,type:"operation"};try{n(m);}catch(l){this.forEachError(l,m);}}}if(o.has("webhook")&&this.context.ir.webhooks)for(let s in this.context.ir.webhooks){let a=this.context.ir.webhooks[s];for(let p in a){let c=p,m={key:s,method:c,operation:a[c],type:"webhook"};try{n(m);}catch(l){this.forEachError(l,m);}}}}forEachError(t,r){let n=t instanceof Error?t:new Error(String(t));throw new lr({args:[r],error:n,event:r.type,name:"Error",pluginName:this.name})}getPlugin(t){return this.context.plugins[t]}getPluginOrThrow(t){let r=this.getPlugin(t);if(!r)throw new Error(`plugin not found ${t}`);return r}hooks={operation:{isMutation:t=>this.isOperationKind(t,"mutation"),isQuery:t=>this.isOperationKind(t,"query")}};isOperationKind(t,r){let n=r==="query"?"isQuery":"isMutation",o=this.config["~hooks"]?.operations?.[n],s=o?.(t);if(s!==void 0)return s;let a=this.config["~hooks"]?.operations?.getKind,p=a?.(t);if(p!==void 0)return p.includes(r);let c=this.context.config.parser.hooks.operations?.[n],m=c?.(t);if(m!==void 0)return m;let l=this.context.config.parser.hooks.operations?.getKind,f=l?.(t);return f!==void 0?f.includes(r):nd(t).includes(r)}async run(){await this.handler({plugin:this});}};var od=/~1/g,sd=/~0/g,V=e=>{let t=at(e),r=t[t.length-1];return decodeURI(r)},id=e=>String(e).replace(/~/g,"~0").replace(/\//g,"~1"),at=e=>{let t=e.trim();return t.startsWith("#")&&(t=t.slice(1)),t.startsWith("/")&&(t=t.slice(1)),t?t.split("/").map(r=>r.replace(od,"/").replace(sd,"~")):[]},Ap=e=>{let t=e.trim();return t.startsWith("#")||(t=`#${t}`),t.length>1&&t.endsWith("/")&&(t=t.slice(0,-1)),t=t.replace(/\/+/g,"/"),t},Ip=e=>{let t=e.map(id).join("/");return "#"+(t?`/${t}`:"")},ri=({$ref:e,spec:t})=>{let r=at(decodeURI(e)),n=t;for(let o of r){let s=o;if(n[s]===void 0)throw new Error(`Reference not found: ${e}`);n=n[s];}return n};var Yn=class{config;files={};gen;ir={};logger;package;plugins={};spec;constructor({config:t,dependencies:r,logger:n,spec:o}){this.config=t,this.gen=new codegenCore.CodegenProject,this.logger=n,this.package=Gn(r),this.spec=o,t.output.indexFile&&this.gen.createFile("index",{extension:".ts",renderer:new M});}createFile(t){let r=t.path.split("/"),n=U__default.default.resolve(this.config.output.path,...r.slice(0,r.length-1)),o=new Te({dir:n,exportFromIndex:t.exportFromIndex,id:t.id,name:`${r[r.length-1]}.ts`});return this.files[t.id]=o,o}dereference(t){let r=this.resolveRef(t.$ref),n={...t,...r};return delete n.$ref,n}file({id:t}){return this.files[t]}registerPlugin(t){let r=this.config.plugins[t],n=new Jn({api:r.api,config:r.config,context:this,dependencies:r.dependencies??[],gen:this.gen,handler:r.handler,name:r.name,output:r.output});return this.plugins[n.name]=n,n}registerPlugins(){return this.config.pluginOrder.map(t=>this.registerPlugin(t))}resolveIrRef(t){return ri({$ref:t,spec:this.ir})}resolveRef(t){return ri({$ref:t,spec:this.spec})}};var He=e=>{let t=e.replace(/[^$\u200c\u200d\p{ID_Continue}]/gu,"_");return ur.lastIndex=0,ur.test(t)?`_${t}`:t},_e=e=>e.replace(/^[^\p{ID_Start}]+/u,"").replace(/[^$\u200c\u200d\p{ID_Continue}]/gu,"-").replace(/[$+]/g,"-"),ni=e=>{let t=e.replace("[]","Array");return _e(t)};var ce=["delete","get","head","options","patch","post","put","trace"],Yt=({context:e,count:t=1,id:r,method:n,path:o,state:s})=>{let a,{output:p}=e.config,c=(p!==void 0&&typeof p=="object"&&"case"in p?p.case:void 0)??"camelCase";if(r&&(!e.config.plugins["@hey-api/sdk"]||e.config.plugins["@hey-api/sdk"].config.operationId))a=k({case:c,value:_e(r)});else {let m=o.replace(/{(.*?)}/g,"by-$1").replace(/[/:+]/g,"-");a=k({case:c,value:`${n}-${m}`});}return t>1&&(a=`${a}${t}`),s.ids.has(a)?Yt({context:e,count:t+1,id:r,method:n,path:o,state:s}):(s.ids.set(a,B({method:n,path:o})),a)};var Cp="/",w=(e,t="")=>`${e}${Cp}${t}`,pe=e=>{let t=e.indexOf(Cp);return {name:e.slice(t+1),namespace:e.slice(0,t)}},Ep=e=>{switch(e){case "parameters":return "parameter";case "requestBodies":return "body";case "responses":return "response";case "definitions":case "schemas":return "schema";default:return "unknown"}},pt=(e,t)=>{let r=[],n=[];if(t)for(let o of t)o.startsWith("/")&&o.endsWith("/")?n.push(new RegExp(o.slice(1,o.length-1))):r.push(w(e,o));return {regexps:n,set:new Set(r)}},cd=({excludeOperations:e,excludeSchemas:t,includeOperations:r,includeSchemas:n,spec:o})=>{if((e.regexps.length||r.regexps.length)&&o.paths)for(let s of Object.entries(o.paths)){let a=s[0],p=s[1];for(let c of ce){if(!p[c])continue;let l=B({method:c,path:a});e.regexps.some(f=>f.test(l))&&e.set.add(w("operation",l)),r.regexps.some(f=>f.test(l))&&r.set.add(w("operation",l));}}if(o.definitions&&(t.regexps.length||n.regexps.length))for(let s of Object.keys(o.definitions))t.regexps.some(a=>a.test(s))&&t.set.add(w("schema",s)),n.regexps.some(a=>a.test(s))&&n.set.add(w("schema",s));},md=({excludeOperations:e,excludeParameters:t,excludeRequestBodies:r,excludeResponses:n,excludeSchemas:o,includeOperations:s,includeParameters:a,includeRequestBodies:p,includeResponses:c,includeSchemas:m,spec:l})=>{if((e.regexps.length||s.regexps.length)&&l.paths)for(let f of Object.entries(l.paths)){let u=f[0],d=f[1];for(let y of ce){if(!d[y])continue;let x=B({method:y,path:u});e.regexps.some(b=>b.test(x))&&e.set.add(w("operation",x)),s.regexps.some(b=>b.test(x))&&s.set.add(w("operation",x));}}if(l.components){if((t.regexps.length||a.regexps.length)&&l.components.parameters)for(let f of Object.keys(l.components.parameters))t.regexps.some(u=>u.test(f))&&t.set.add(w("parameter",f)),a.regexps.some(u=>u.test(f))&&a.set.add(w("parameter",f));if((r.regexps.length||p.regexps.length)&&l.components.requestBodies)for(let f of Object.keys(l.components.requestBodies))r.regexps.some(u=>u.test(f))&&r.set.add(w("body",f)),p.regexps.some(u=>u.test(f))&&p.set.add(w("body",f));if((n.regexps.length||c.regexps.length)&&l.components.responses)for(let f of Object.keys(l.components.responses))n.regexps.some(u=>u.test(f))&&n.set.add(w("response",f)),c.regexps.some(u=>u.test(f))&&c.set.add(w("response",f));if((o.regexps.length||m.regexps.length)&&l.components.schemas)for(let f of Object.keys(l.components.schemas))o.regexps.some(u=>u.test(f))&&o.set.add(w("schema",f)),m.regexps.some(u=>u.test(f))&&m.set.add(w("schema",f));}},ld=({spec:e,...t})=>{"swagger"in e?cd({...t,spec:e}):md({...t,spec:e});},Rr=(e,t,r)=>{let n=r.timeEvent("create-filters"),o=pt("operation",e?.operations?.exclude),s=pt("operation",e?.operations?.include),a=pt("parameter",e?.parameters?.exclude),p=pt("parameter",e?.parameters?.include),c=pt("body",e?.requestBodies?.exclude),m=pt("body",e?.requestBodies?.include),l=pt("response",e?.responses?.exclude),f=pt("response",e?.responses?.include),u=pt("schema",e?.schemas?.exclude),d=pt("schema",e?.schemas?.include);ld({excludeOperations:o,excludeParameters:a,excludeRequestBodies:c,excludeResponses:l,excludeSchemas:u,includeOperations:s,includeParameters:p,includeRequestBodies:m,includeResponses:f,includeSchemas:d,spec:t});let y={deprecated:e?.deprecated??true,operations:{exclude:o.set,include:s.set},orphans:e?.orphans??false,parameters:{exclude:a.set,include:p.set},preserveOrder:e?.preserveOrder??false,requestBodies:{exclude:c.set,include:m.set},responses:{exclude:l.set,include:f.set},schemas:{exclude:u.set,include:d.set},tags:{exclude:new Set(e?.tags?.exclude),include:new Set(e?.tags?.include)}};return n.timeEnd(),y},Tr=e=>e?e.orphans===false||e.deprecated===false?true:!!(e.operations?.exclude?.length||e.operations?.include?.length||e.parameters?.exclude?.length||e.parameters?.include?.length||e.requestBodies?.exclude?.length||e.requestBodies?.include?.length||e.responses?.exclude?.length||e.responses?.include?.length||e.schemas?.exclude?.length||e.schemas?.include?.length||e.tags?.exclude?.length||e.tags?.include?.length):false,fd=({filters:e,parameters:t,requestBodies:r,resourceMetadata:n,responses:o,schemas:s})=>{let a=new Set,c=[...e.operations.include.size?e.operations.include:new Set(n.operations.keys())];for(;c.length;){let m=c.pop();if(e.operations.exclude.has(m)||a.has(m))continue;let l=n.operations.get(m);l&&(!e.deprecated&&l.deprecated||e.tags.exclude.size&&l.tags.size&&[...e.tags.exclude].some(f=>l.tags.has(f))||e.tags.include.size&&!new Set([...e.tags.include].filter(f=>l.tags.has(f))).size||[...l.dependencies].some(f=>{let{namespace:u}=pe(f);switch(u){case "body":return !r.has(f);case "parameter":return !t.has(f);case "response":return !o.has(f);case "schema":return !s.has(f);default:return  false}})||a.add(m));}return {operations:a}},ud=({filters:e,resourceMetadata:t,schemas:r})=>{let n=new Set,s=[...e.parameters.include.size?e.parameters.include:new Set(t.parameters.keys())];for(;s.length;){let a=s.pop();if(e.parameters.exclude.has(a)||n.has(a))continue;let p=t.parameters.get(a);if(p&&!(!e.deprecated&&p.deprecated)&&(n.add(a),!!p.dependencies.size))for(let c of p.dependencies){let{namespace:m}=pe(c);switch(m){case "body":{e.requestBodies.exclude.has(c)?n.delete(a):n.has(c)||s.push(c);break}case "schema":{e.schemas.exclude.has(c)?n.delete(a):r.has(c)||r.add(c);break}}}}return {parameters:n}},dd=({filters:e,resourceMetadata:t,schemas:r})=>{let n=new Set,s=[...e.requestBodies.include.size?e.requestBodies.include:new Set(t.requestBodies.keys())];for(;s.length;){let a=s.pop();if(e.requestBodies.exclude.has(a)||n.has(a))continue;let p=t.requestBodies.get(a);if(p&&!(!e.deprecated&&p.deprecated)&&(n.add(a),!!p.dependencies.size))for(let c of p.dependencies){let{namespace:m}=pe(c);switch(m){case "body":{e.requestBodies.exclude.has(c)?n.delete(a):n.has(c)||s.push(c);break}case "schema":{e.schemas.exclude.has(c)?n.delete(a):r.has(c)||r.add(c);break}}}}return {requestBodies:n}},yd=({filters:e,resourceMetadata:t,schemas:r})=>{let n=new Set,s=[...e.responses.include.size?e.responses.include:new Set(t.responses.keys())];for(;s.length;){let a=s.pop();if(e.responses.exclude.has(a)||n.has(a))continue;let p=t.responses.get(a);if(p&&!(!e.deprecated&&p.deprecated)&&(n.add(a),!!p.dependencies.size))for(let c of p.dependencies){let{namespace:m}=pe(c);switch(m){case "body":{e.requestBodies.exclude.has(c)?n.delete(a):n.has(c)||s.push(c);break}case "schema":{e.schemas.exclude.has(c)?n.delete(a):r.has(c)||r.add(c);break}}}}return {responses:n}},gd=({filters:e,resourceMetadata:t})=>{let r=new Set,o=[...e.schemas.include.size?e.schemas.include:new Set(t.schemas.keys())];for(;o.length;){let s=o.pop();if(e.schemas.exclude.has(s)||r.has(s))continue;let a=t.schemas.get(s);if(a&&!(!e.deprecated&&a.deprecated)&&(r.add(s),!!a.dependencies.size))for(let p of a.dependencies){let{namespace:c}=pe(p);switch(c){case "schema":{!r.has(p)&&!e.schemas.exclude.has(p)&&o.push(p);break}}}}return {schemas:r}},hd=({filters:e,parameters:t,resourceMetadata:r})=>{if(e.parameters.exclude.size)for(let n of t){let o=r.parameters.get(n);if(o?.dependencies.size){for(let s of e.parameters.exclude)if(o.dependencies.has(s)){t.delete(n);break}}}},xd=({filters:e,requestBodies:t,resourceMetadata:r})=>{if(e.requestBodies.exclude.size)for(let n of t){let o=r.requestBodies.get(n);if(o?.dependencies.size){for(let s of e.requestBodies.exclude)if(o.dependencies.has(s)){t.delete(n);break}}}},bd=({filters:e,resourceMetadata:t,responses:r})=>{if(e.responses.exclude.size)for(let n of r){let o=t.responses.get(n);if(o?.dependencies.size){for(let s of e.responses.exclude)if(o.dependencies.has(s)){r.delete(n);break}}}},Sd=({filters:e,resourceMetadata:t,schemas:r})=>{if(e.schemas.exclude.size)for(let n of r){let o=t.schemas.get(n);if(o?.dependencies.size){for(let s of e.schemas.exclude)if(o.dependencies.has(s)){r.delete(n);break}}}},Od=({operationDependencies:e,parameters:t,requestBodies:r,responses:n,schemas:o})=>{for(let s of o)e.has(s)||o.delete(s);for(let s of t)e.has(s)||t.delete(s);for(let s of r)e.has(s)||r.delete(s);for(let s of n)e.has(s)||n.delete(s);},Rd=({operations:e,resourceMetadata:t})=>{let r=new Set,o=[...new Set([...e].flatMap(s=>[...t.operations.get(s)?.dependencies??[]]))];for(;o.length;){let s=o.pop();if(r.has(s))continue;r.add(s);let{namespace:a}=pe(s),p;if(a==="body"?p=t.requestBodies.get(s)?.dependencies:a==="operation"?p=t.operations.get(s)?.dependencies:a==="parameter"?p=t.parameters.get(s)?.dependencies:a==="response"?p=t.responses.get(s)?.dependencies:a==="schema"&&(p=t.schemas.get(s)?.dependencies),!!p?.size)for(let c of p)r.has(c)||o.push(c);}return {operationDependencies:r}},Pr=({filters:e,logger:t,resourceMetadata:r})=>{let n=t.timeEvent("create-filtered-dependencies"),{schemas:o}=gd({filters:e,resourceMetadata:r}),{parameters:s}=ud({filters:e,resourceMetadata:r,schemas:o}),{requestBodies:a}=dd({filters:e,resourceMetadata:r,schemas:o}),{responses:p}=yd({filters:e,resourceMetadata:r,schemas:o});Sd({filters:e,resourceMetadata:r,schemas:o}),hd({filters:e,parameters:s,resourceMetadata:r}),xd({filters:e,requestBodies:a,resourceMetadata:r}),bd({filters:e,resourceMetadata:r,responses:p});let{operations:c}=fd({filters:e,parameters:s,requestBodies:a,resourceMetadata:r,responses:p,schemas:o});if(!e.orphans&&c.size){let{operationDependencies:m}=Rd({operations:c,resourceMetadata:r});Od({operationDependencies:m,parameters:s,requestBodies:a,responses:p,schemas:o});}return n.timeEnd(),{operations:c,parameters:s,requestBodies:a,responses:p,schemas:o}};var Ar=(e,t)=>{let r=t.timeEvent("build-resource-metadata"),n={operations:new Map,parameters:new Map,requestBodies:new Map,responses:new Map,schemas:new Map},o=s=>{let a=new Set,p=e.allDependencies.get(s);if(p?.size)for(let c of p){let m=at(c),l=m[m.length-2],f=m[m.length-1];if(l&&f){let u=Ep(l);u==="unknown"&&console.warn(`unsupported type: ${l}`),a.add(w(u,f));}}return a};for(let[s,a]of e.nodes){let p=at(s);if(p[0]==="components"){if(p.length===3){if(p[1]==="schemas"){let c=p[p.length-1];n.schemas.set(w("schema",c),{dependencies:o(s),deprecated:a.deprecated??false});}else if(p[1]==="parameters"){let c=p[p.length-1];n.parameters.set(w("parameter",c),{dependencies:o(s),deprecated:a.deprecated??false});}else if(p[1]==="requestBodies"){let c=p[p.length-1];n.requestBodies.set(w("body",c),{dependencies:o(s),deprecated:a.deprecated??false});}else if(p[1]==="responses"){let c=p[p.length-1];n.responses.set(w("response",c),{dependencies:o(s),deprecated:a.deprecated??false});}}continue}if(p[0]==="paths"){if(p.length===3&&ce.includes(p[2])){let c=p[p.length-1],m=p.slice(1,-1).join("/"),l=B({method:c,path:m});n.operations.set(w("operation",l),{dependencies:o(s),deprecated:a.deprecated??false,tags:a.tags??new Set});}continue}if(p[0]==="definitions"){if(p.length===2){let c=p[p.length-1];n.schemas.set(w("schema",c),{dependencies:o(s),deprecated:a.deprecated??false});}continue}}return r.timeEnd(),{resourceMetadata:n}};var Mt=[["additionalProperties","single"],["allOf","array"],["anyOf","array"],["contains","single"],["dependentSchemas","objectMap"],["else","single"],["if","single"],["items","singleOrArray"],["oneOf","array"],["patternProperties","objectMap"],["properties","objectMap"],["propertyNames","single"],["then","single"]];var pn=e=>{if(eo(e))return e.components.schemas;if(to(e))return e.definitions},eo=e=>typeof e=="object"&&e!==null&&"components"in e&&typeof e.components=="object"&&e.components!==null&&"schemas"in e.components&&typeof e.components.schemas=="object"&&e.components.schemas!==null,to=e=>typeof e=="object"&&e!==null&&"definitions"in e&&typeof e.definitions=="object"&&e.definitions!==null;var vp=(e,t)=>e instanceof Set?e.has(t):e instanceof Array?e.includes(t):t in e,cn=({base:e,components:t,extraComponents:r})=>{let n=2,o=e;for(;vp(t,o)||r&&vp(r,o);)o=`${e}${n}`,n+=1;return o},ro=e=>e.length===3&&e[0]==="components"&&e[1]==="schemas"||e.length===2&&e[0]==="definitions",Ir=e=>{if(e&&typeof e=="object"){if("swagger"in e)return "#/definitions/";if("openapi"in e)return "#/components/schemas/"}return ""};var oi=e=>{if(!e||typeof e!="object"||!("enum"in e)||!(e.enum instanceof Array))return;let t=("type"in e?e.type:void 0)||"",r=[...e.enum].sort();return JSON.stringify({type:t,values:r})},si=({key:e,node:t,parent:r,path:n,visitor:o})=>{if(!t||typeof t!="object"||t instanceof Array)return;let s=t;("type"in s||"enum"in s||Mt.some(([a])=>a in s))&&o({key:e,node:t,parent:r,path:n});for(let[a,p]of Object.entries(s))typeof p=="object"&&p!==null&&(p instanceof Array?p.forEach((c,m)=>si({key:m,node:c,parent:p,path:[...n,a,m],visitor:o})):si({key:a,node:p,parent:t,path:[...n,a],visitor:o}));},Td=({spec:e})=>{let t=pn(e);if(!t)return;let r=Ir(e),n={};for(let[s,a]of Object.entries(t))oi(a)&&(n[`${r}${s}`]=a);let o=s=>{if(s instanceof Array)s.forEach(o);else if(s&&typeof s=="object")for(let[a,p]of Object.entries(s))a==="$ref"&&typeof p=="string"&&p in n?(Object.assign(s,an(n[p])),delete s.$ref):o(p);};o(e);for(let s of Object.keys(n)){let a=at(s),p=a[a.length-1];p&&delete t[p];}},Pd=({config:e,spec:t})=>{let r=pn(t);if(!r)return;let n={};for(let[c,m]of Object.entries(r)){let l=oi(m);l&&(n[l]=c);}let o=[];si({key:null,node:t,parent:null,path:[],visitor:c=>{if(!ro(c.path)){let m=oi(c.node);m&&o.push({...c,signature:m});}}});let s={},a={};for(let{key:c,node:m,signature:l}of o){if(l in s)continue;if(l in n){s[l]=n[l];continue}let f=R({config:e,name:typeof m=="object"&&m&&"title"in m&&typeof m.title=="string"?m.title:String(c)}),u=cn({base:f,components:r,extraComponents:Object.values(s)});s[l]=u,a[l]=m;}for(let[c,m]of Object.entries(s)){let l=a[c];m&&!(m in r)&&l&&typeof l=="object"&&(r[m]=l);}let p=Ir(t);for(let{key:c,parent:m,signature:l}of o){let f=s[l];f&&c!=null&&m&&typeof m=="object"&&(m[c]={$ref:`${p}${f}`});}},kp=({config:e,spec:t})=>{if(e.mode==="inline"){Td({spec:t});return}if(e.mode==="root"){Pd({config:e,spec:t});return}};var ii=(e,t)=>{if(e===t)return  true;if(e===null||t===null)return e===t;let r=typeof e;if(r!==typeof t||r!=="object")return  false;if(Array.isArray(e)||Array.isArray(t)){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return  false;for(let c=0;c<e.length;c++)if(!ii(e[c],t[c]))return  false;return  true}let o=e,s=t,a=Object.keys(o).sort(),p=Object.keys(s).sort();if(a.length!==p.length)return  false;for(let c=0;c<a.length;c++)if(a[c]!==p[c])return  false;for(let c of a)if(!ii(o[c],s[c]))return  false;return  true},ai=ii;var Ad=e=>{for(let[,t]of e)if(!t.scopes&&t.parentPointer){let r=e.get(t.parentPointer);r?.scopes&&(t.scopes=new Set(r.scopes));}},ci=({cache:e,graph:t,pointer:r,visited:n})=>{let o=e.allDependencies.get(r);if(o)return o;if(n.has(r))return new Set;if(n.add(r),!t.nodes.get(r))return new Set;let a=new Set,p=t.dependencies.get(r);if(p)for(let m of p){a.add(m);let l=ci({cache:e,graph:t,pointer:m,visited:n});for(let f of l)a.add(f);}let c=e.parentToChildren.get(r);if(c)for(let m of c){let l=e.childDependencies.get(m);l||(l=ci({cache:e,graph:t,pointer:m,visited:n}),e.childDependencies.set(m,l));for(let f of l)a.add(f);}return e.allDependencies.set(r,a),a},Id=e=>{let t=new Set(Array.from(e.nodes.entries()).filter(([,o])=>o.scopes&&o.scopes.size>0).map(([o])=>o)),r=(o,s,a)=>{s.parentPointer&&t.add(s.parentPointer);let p=e.reverseDependencies.get(o);if(p)for(let c of p)t.add(c);if(a){let c=a.match(/(.*)\/(allOf|anyOf|oneOf)\/\d+$/);if(c){let m=c[1];m&&t.add(m);}}},n=(o,s,a)=>{if(!s?.scopes)return;let p=e.nodes.get(a);if(!p?.scopes)return;pi(p,s)&&r(o,s,a);};for(;t.size>0;){let o=t.values().next().value;t.delete(o);let s=e.nodes.get(o);if(!s)continue;s.scopes||(s.scopes=new Set);let a=s.node;for(let[c,m]of Mt){if(!a||typeof a!="object"||!(c in a))continue;let l=a[c];if(m==="array"&&l instanceof Array)for(let f=0;f<l.length;f++){let u=`${o}/${c}/${f}`;n(o,s,u);}else if(m==="objectMap"&&typeof l=="object"&&l!==null&&!(l instanceof Array))for(let f of Object.keys(l)){let u=`${o}/${c}/${f}`;n(o,s,u);}else if(m==="single"&&typeof l=="object"&&l!==null){let f=`${o}/${c}`;n(o,s,f);}else if(m==="singleOrArray"){if(l instanceof Array)for(let f=0;f<l.length;f++){let u=`${o}/${c}/${f}`;n(o,s,u);}else if(typeof l=="object"&&l!==null){let f=`${o}/${c}`;n(o,s,f);}}}let p=e.dependencies.get(o);if(p)for(let c of p){let m=e.nodes.get(c);m?.scopes&&pi(m,s)&&r(o,s);}if(s.parentPointer){let c=e.nodes.get(s.parentPointer);c&&pi(s,c)&&r(s.parentPointer,c);}}},pi=(e,t)=>{if(!e.scopes)return  false;t.scopes||(t.scopes=new Set);let r=false;for(let n of e.scopes)t.scopes.has(n)||(t.scopes.add(n),r=true);return r},Cd=e=>{for(let[t,r]of e){let{node:n}=r;typeof n!="object"||n===null||n instanceof Array||("readOnly"in n&&n.readOnly===true?r.scopes=new Set(["read"]):"writeOnly"in n&&n.writeOnly===true?r.scopes=new Set(["write"]):t.match(/\/properties\/[^/]+$/)&&(r.scopes=new Set(["normal"])));}},Lt=(e,t)=>{let r=t.timeEvent("build-graph"),n={allDependencies:new Map,dependencies:new Map,nodes:new Map,reverseDependencies:new Map},o=({key:a,node:p,parentPointer:c,path:m})=>{if(typeof p!="object"||p===null)return;let l=Ip(m),f,u;if(typeof p=="object"&&p!==null){if("deprecated"in p&&typeof p.deprecated=="boolean"&&(f=!!p.deprecated),"$ref"in p&&typeof p.$ref=="string"){let d=Ap(p.$ref);n.dependencies.has(l)||n.dependencies.set(l,new Set),n.dependencies.get(l).add(d);}"tags"in p&&p.tags instanceof Array&&(u=new Set(p.tags.filter(d=>typeof d=="string")));}if(n.nodes.set(l,{deprecated:f,key:a,node:p,parentPointer:c,tags:u}),p instanceof Array)p.forEach((d,y)=>o({key:y,node:d,parentPointer:l,path:[...m,y]}));else for(let[d,y]of Object.entries(p))o({key:d,node:y,parentPointer:l,path:[...m,d]});};o({key:null,node:e,parentPointer:null,path:[]});let s={allDependencies:new Map,childDependencies:new Map,parentToChildren:new Map};for(let[a,p]of n.nodes){let c=p.parentPointer;c&&(s.parentToChildren.has(c)||s.parentToChildren.set(c,[]),s.parentToChildren.get(c).push(a));}for(let[a,p]of n.dependencies)for(let c of p)n.reverseDependencies.has(c)||n.reverseDependencies.set(c,new Set),n.reverseDependencies.get(c).add(a);Cd(n.nodes),Id(n),Ad(n.nodes);for(let a of n.nodes.keys()){let p=ci({cache:s,graph:n,pointer:a,visited:new Set});n.allDependencies.set(a,p);}return r.timeEnd(),{graph:n}};var Ed=new Set(["additionalProperties","allOf","anyOf","items","not","oneOf","patternProperties","properties","schema"]),vd=e=>{if(e.length===3&&e[0]==="components"){let t=e[1];if(t==="parameters"||t==="requestBodies")return "write";if(t==="responses"||t==="headers")return "read"}if(e.length===2){let t=e[0];if(t==="parameters")return "write";if(t==="responses")return "read"}},kd=(e,t)=>{let r=t.timeEvent("capture-original-schemas"),n={};if(eo(e))for(let[o,s]of Object.entries(e.components.schemas))n[`#/components/schemas/${o}`]=s;else if(to(e))for(let[o,s]of Object.entries(e.definitions))n[`#/definitions/${o}`]=s;return r.timeEnd(),n},jd=({logger:e,spec:t,split:r})=>{let n=e.timeEvent("insert-split-schemas-into-spec");eo(t)?Object.assign(t.components.schemas,r.schemas):to(t)&&Object.assign(t.definitions,r.schemas),n.timeEnd();},er=(e,t,r)=>{if(t&&typeof t=="object"){if("$ref"in t&&typeof t.$ref=="string"){let n=e.nodes.get(t.$ref);if(n?.scopes&&(r==="writeOnly"&&n.scopes.size===1&&n.scopes.has("write")||r==="readOnly"&&n.scopes.size===1&&n.scopes.has("read"))&&(delete t.$ref,!Mt.some(([o])=>o in t)))return  true}for(let[n,o]of Mt){if(!(n in t))continue;let s=t[n];if(o==="array"&&s instanceof Array){for(let a=s.length-1;a>=0;a--){let p=s[a];(p&&typeof p=="object"&&p[r]===true||er(e,p,r))&&s.splice(a,1);}s.length||delete t[n];}else if(o==="objectMap"&&typeof s=="object"&&s!==null&&!(s instanceof Array)){let a=s,p=new Set;for(let c of Object.keys(a)){let m=a[c];(m&&typeof m=="object"&&m[r]===true||er(e,m,r))&&(delete a[c],n==="properties"&&p.add(c));}if(p.size>0&&n==="properties"&&"required"in t&&Array.isArray(t.required)){let m=t.required.filter(l=>!p.has(l));m.length===0?delete t.required:t.required=m;}Object.keys(a).length||delete t[n];}else if(o==="single"&&typeof s=="object"&&s!==null)(s[r]===true||er(e,s,r))&&delete t[n];else if(o==="singleOrArray")if(s instanceof Array){for(let a=s.length-1;a>=0;a--){let p=s[a];(p&&typeof p=="object"&&p[r]===true||er(e,p,r))&&s.splice(a,1);}s.length||delete t[n];}else typeof s=="object"&&s!==null&&(s[r]===true||er(e,s,r))&&delete t[n];}if(t.type==="object"&&!Mt.some(([n])=>n in t))return  true}return  false},Nd=({logger:e,originalSchemas:t,spec:r,split:n})=>{let o=e.timeEvent("remove-original-split-schemas"),s=pn(r);for(let a of Object.keys(n.mapping)){let p=at(a),c=p[p.length-1];typeof c=="string"&&s&&Object.prototype.hasOwnProperty.call(s,c)&&s[c]===t[a]&&delete s[c];}o.timeEnd();},wd=({config:e,graph:t,logger:r,spec:n})=>{let o=r.timeEvent("split-schemas"),s=new Set,a={mapping:{},reverseMapping:{},schemas:{}},p=Ir(n),c=p.split("/").length-1,m=l=>{if(l.startsWith(p)){let f=at(l);if(f.length===c)return f[c-1]||""}return ""};for(let l of t.nodes.keys()){let f=m(l);f&&s.add(f);}for(let[l,f]of t.nodes){let u=m(l);if(!u||!(f.scopes?.has("read")||f.scopes?.has("write"))||!f.scopes?.has("normal"))continue;let d=an(f.node);er(t,d,"writeOnly");let y=R({config:e.responses,name:u}),h=y===u?y:cn({base:y,components:s});s.add(h),a.schemas[h]=d;let x=`${p}${h}`,b=an(f.node);if(er(t,b,"readOnly"),ai(d,b)&&ai(d,f.node))continue;let I=R({config:e.requests,name:u}),E=I===u&&I!==h?I:cn({base:I,components:s});s.add(E),a.schemas[E]=b;let $=`${p}${E}`;a.mapping[l]={read:x,write:$},a.reverseMapping[x]=l,a.reverseMapping[$]=l;}return o.timeEnd(),a},qd=({logger:e,spec:t,split:r})=>{let n=e.timeEvent("update-refs-in-spec"),o=Ir(t),s=({context:a,currentPointer:p,inSchema:c,node:m,path:l})=>{if(m instanceof Array)m.forEach((f,u)=>s({context:a,currentPointer:p,inSchema:c,node:f,path:[...l,u]}));else if(m&&typeof m=="object"){let f=p,u=a;if(ro(l)){let y=l[l.length-1];f=`${o}${y}`;let h=r.reverseMapping[f];if(h){let x=r.mapping[h];x?.read===f?u="read":x?.write===f&&(u="write");}}let d=vd(l);if(d!==void 0){for(let y in m)Object.prototype.hasOwnProperty.call(m,y)&&s({context:d,currentPointer:f,inSchema:false,node:m[y],path:[...l,y]});return}for(let y in m){if(!Object.prototype.hasOwnProperty.call(m,y))continue;let h=m[y];if(!c){if(y==="requestBody"){s({context:"write",currentPointer:f,inSchema:false,node:h,path:[...l,y]});continue}if(y==="responses"){s({context:"read",currentPointer:f,inSchema:false,node:h,path:[...l,y]});continue}if(y==="parameters"&&Array.isArray(h)){h.forEach((x,b)=>{x&&typeof x=="object"&&"schema"in x&&s({context:"write",currentPointer:f,inSchema:true,node:x.schema,path:[...l,y,b,"schema"]}),x&&typeof x=="object"&&"content"in x&&s({context:"write",currentPointer:f,inSchema:false,node:x.content,path:[...l,y,b,"content"]});});continue}if(y==="headers"&&typeof h=="object"&&h!==null){for(let x in h)Object.prototype.hasOwnProperty.call(h,x)&&s({context:"read",currentPointer:f,inSchema:false,node:h[x],path:[...l,y,x]});continue}}if(Ed.has(y))s({context:u,currentPointer:f,inSchema:true,node:h,path:[...l,y]});else if(y==="$ref"&&typeof h=="string"){let x=r.mapping[h];x&&(x.read&&(!u||u==="read")?m[y]=x.read:x.write&&(!u||u==="write")&&(m[y]=x.write));}else s({context:u,currentPointer:f,inSchema:c,node:h,path:[...l,y]});}}};s({context:null,currentPointer:null,inSchema:false,node:t,path:[]}),n.timeEnd();},jp=({config:e,logger:t,spec:r})=>{let{graph:n}=Lt(r,t),o=kd(r,t),s=wd({config:e,graph:n,logger:t,spec:r});jd({logger:t,spec:r,split:s}),qd({logger:t,spec:r,split:s}),Nd({logger:t,originalSchemas:o,spec:r,split:s});};var Cr=({context:e})=>{let{logger:t}=e,r=t.timeEvent("transform-openapi-spec");e.config.parser.transforms.enums.enabled&&kp({config:e.config.parser.transforms.enums,spec:e.spec}),e.config.parser.transforms.readWrite.enabled&&jp({config:e.config.parser.transforms.readWrite,logger:t,spec:e.spec}),r.timeEnd();};var F=({source:e,target:t})=>{let r={...t};if(e&&(e.cookie&&(r.cookie?r.cookie={...r.cookie,...e.cookie}:r.cookie=e.cookie),e.header&&(r.header?r.header={...r.header,...e.header}:r.header=e.header),e.path&&(r.path?r.path={...r.path,...e.path}:r.path=e.path),e.query&&(r.query?r.query={...r.query,...e.query}:r.query=e.query)),!!Object.keys(r).length)return r};var $d=e=>/^[A-Za-z_$][A-Za-z0-9_$]*$/.test(e),Fd=e=>e.map((t,r)=>typeof t=="number"?`[${t}]`:r===0?t:$d(t)?`.${t}`:`['${t.replace(/"/g,"\\'")}']`).join(""),Dd=e=>{let t=Fd(e.path),r=e.severity==="error"?Xe__default.default.bold.red:Xe__default.default.bold.yellow,n=e.message.replace(/`([^`]+)`/g,(o,s)=>Xe__default.default.yellow(`\`${s}\``));return `${r(`[${e.severity.toUpperCase()}]`)} ${Xe__default.default.cyan(t)}: ${n}`},Md=({context:e,issue:t})=>e.config.logs.level==="silent"?false:t.severity==="error"?e.config.logs.level!=="warn":true,Er=({context:e,result:t})=>{for(let r of t.issues)Md({context:e,issue:r})&&console.log(Dd(r));t.valid||process.exit(1);};var Np=({logger:e,operations:t,preserveOrder:r,schemas:n,spec:o})=>{let s=e.timeEvent("filter-spec");if(o.definitions){let a={};if(r)for(let[p,c]of Object.entries(o.definitions))n.has(w("schema",p))&&(a[p]=c);else for(let p of n){let{name:c}=pe(p),m=o.definitions[c];m&&(a[c]=m);}o.definitions=a;}if(o.paths)for(let a of Object.entries(o.paths)){let p=a[0],c=a[1];for(let m of ce){if(!c[m])continue;let f=w("operation",B({method:m,path:p}));t.has(f)||delete c[m];}Object.keys(c).length||delete o.paths[p];}s.timeEnd();};var wp=/^(application\/(pdf|rtf|msword|vnd\.(ms-|openxmlformats-officedocument\.)|zip|x-(7z|tar|rar|zip|iso)|octet-stream|gzip|x-msdownload|json\+download|xml|x-yaml|x-7z-compressed|x-tar)|text\/(yaml|css|javascript)|audio\/(mpeg|wav)|video\/(mp4|x-matroska)|image\/(vnd\.adobe\.photoshop|svg\+xml))(; ?charset=[^;]+)?$/i,qp=/^application\/(.*\+)?json(;.*)?$/i,$p=/^multipart\/form-data(;.*)?$/i,Fp=/^text\/[a-z0-9.+-]+(;.*)?$/i,Dp=/^application\/x-www-form-urlencoded(;.*)?$/i,Mp=/^application\/octet-stream(;.*)?$/i,Ot=({mediaType:e})=>(wp.lastIndex=0,wp.test(e)),vr=({mediaType:e})=>{if(qp.lastIndex=0,qp.test(e))return "json";if($p.lastIndex=0,$p.test(e))return "form-data";if(Fp.lastIndex=0,Fp.test(e))return "text";if(Dp.lastIndex=0,Dp.test(e))return "url-search-params";if(Mp.lastIndex=0,Mp.test(e))return "octet-stream"};var Lp=({content:e})=>{let{mediaType:t,schema:r}=e;return r&&"$ref"in r?{allOf:[{...r}]}:r?r.type==="string"&&!r.format&&Ot({mediaType:t})?{...r,format:"binary"}:r:Ot({mediaType:t})?{format:"binary",type:"string"}:void 0},mi=({mimeTypes:e,response:t})=>{let r=[];for(let n of e??[])r.push({mediaType:n,schema:t.schema,type:vr({mediaType:n})});return r};function ve(e){let t=`^(${e.keywords.join("|")})$`;return new RegExp(t)}var ct=(e,t,r)=>{let n=[];for(let o in t)t[o]===e&&n.push(o);return !n.length&&(!r||r())?[V(e)]:n};var mn=({schema:e})=>{if(e.type)return e.type;if(e.properties)return "object"},Ld=({irSchema:e,schema:t})=>{t.example&&(e.example=t.example),t.description&&(e.description=t.description),t.title&&(e.title=t.title);},oo=({irSchema:e,schema:t,state:r})=>{t.default!==void 0&&(e.default=t.default),t.exclusiveMaximum?t.maximum!==void 0&&(e.exclusiveMaximum=t.maximum):t.maximum!==void 0&&(e.maximum=t.maximum),t.exclusiveMinimum?t.minimum!==void 0&&(e.exclusiveMinimum=t.minimum):t.minimum!==void 0&&(e.minimum=t.minimum),t.format&&(e.format=t.format),t.maxItems!==void 0&&(e.maxItems=t.maxItems),t.maxLength!==void 0&&(e.maxLength=t.maxLength),t.minItems!==void 0&&(e.minItems=t.minItems),t.minLength!==void 0&&(e.minLength=t.minLength),t.pattern&&(e.pattern=t.pattern),t.readOnly?(e.accessScope="read",e.accessScopes=L(e.accessScopes,["read"])):r.isProperty&&(e.accessScopes=L(e.accessScopes,["both"]));},Bd=({context:e,irSchema:t={},schema:r,state:n})=>{r.maxItems&&r.maxItems===r.minItems?t.type="tuple":t.type="array";let o=[];if(r.items){let s=ke({context:e,schema:r.items,state:n});if(t.accessScopes=L(t.accessScopes,s.accessScopes),!o.length&&r.maxItems&&r.maxItems===r.minItems)o=Array(r.maxItems).fill(s);else if("$ref"in r.items)o.push(s);else {let a=r.items.allOf;a&&a.length>1&&!r.items["x-nullable"]?t={...t,...s}:o.push(s);}}return t=z({items:o,schema:t}),t},Vd=({irSchema:e={}})=>(e.type="boolean",e),Hd=({irSchema:e={},schema:t})=>(e.type=t.type,e),_d=({context:e,irSchema:t={},schema:r,state:n})=>{t.type="object";let o={};for(let s in r.properties){let a=r.properties[s];if(typeof a!="boolean"){let p=ke({context:e,schema:a,state:{...n,isProperty:true}});t.accessScopes=L(t.accessScopes,p.accessScopes),o[s]=p;}}if(Object.keys(o).length&&(t.properties=o),r.additionalProperties===void 0)t.properties||(t.additionalProperties={type:"unknown"});else if(typeof r.additionalProperties=="boolean")n.inAllOf&&r.additionalProperties===false&&(!r.properties||Object.keys(r.properties).length===0)||(t.additionalProperties={type:r.additionalProperties?"unknown":"never"});else {let s=ke({context:e,schema:r.additionalProperties,state:n});t.additionalProperties=s;}return r.required&&(t.required=r.required),t},Wd=({irSchema:e={}})=>(e.type="string",e),kr=({schema:e})=>{let t={};return Ld({irSchema:t,schema:e}),t},Kd=({context:e,schema:t,state:r})=>{let n=kr({schema:t}),o=[],s=mn({schema:t}),a=t.allOf;for(let p of a){let m="$ref"in p?r:{...r,inAllOf:true},l=ke({context:e,schema:p,state:m});if(n.accessScopes=L(n.accessScopes,l.accessScopes),t.required&&(l.required?l.required=[...l.required,...t.required]:l.required=t.required),o.push(l),p.$ref){let f=e.resolveRef(p.$ref);if(f.discriminator&&r.$ref){let d=ct(r.$ref).map(h=>({const:h,type:"string"})),y={properties:{[f.discriminator]:d.length>1?{items:d,logicalOperator:"or"}:d[0]},type:"object"};f.required?.includes(f.discriminator)&&(y.required=[f.discriminator]),o.push(y);}if(!r.circularReferenceTracker.has(p.$ref)){let u=ke({context:e,schema:f,state:{...r,$ref:p.$ref}});n.accessScopes=L(n.accessScopes,u.accessScopes);}}}if(s==="object"){let p=ln({context:e,schema:{...t,type:"object"},state:r});if(n.accessScopes=L(n.accessScopes,p.accessScopes),p.properties){for(let c of p.required??[])if(!p.properties[c])for(let m of a){let l=m.$ref?e.resolveRef(m.$ref):m;if(mn({schema:l})==="object"){let f=ln({context:e,schema:{...l,type:"object"},state:r});if(n.accessScopes=L(n.accessScopes,f.accessScopes),f.properties?.[c]){p.properties[c]=f.properties[c];break}}}o.push(p);}}if(n=z({items:o,logicalOperator:"and",mutateSchemaOneItem:true,schema:n}),t["x-nullable"]){let p=[{type:"null"}];o.length&&p.unshift(n),n={items:p,logicalOperator:"or"},p[0].deprecated&&(n.deprecated=p[0].deprecated),p[0].description&&(n.description=p[0].description);}return n},zd=({context:e,schema:t,state:r})=>{let n=kr({schema:t});n.type="enum";let o=[];for(let[s,a]of t.enum.entries()){let p=typeof a,c;if(p==="string"||p==="number"||p==="boolean"?c=p:p==="object"&&Array.isArray(a)?c="array":a===null?t["x-nullable"]&&(c="null"):console.warn("\u{1F6A8}",`unhandled "${p}" typeof value "${a}" for enum`,t.enum),!c)continue;let m=ln({context:e,schema:{description:t["x-enum-descriptions"]?.[s],title:t["x-enum-varnames"]?.[s]??t["x-enumNames"]?.[s],type:c==="null"?"string":c},state:r});m.const=a,c==="null"&&(m.type=c),m.type==="array"&&(m.type="tuple"),n.accessScopes=L(n.accessScopes,m.accessScopes),o.push(m);}return n=z({items:o,schema:n}),n},Qd=({context:e,schema:t,state:r})=>{let n={};if(!t.$ref.startsWith("#/definitions/")&&!r.circularReferenceTracker.has(t.$ref)){let s=e.resolveRef(t.$ref);return ke({context:e,schema:s,state:{...r,$ref:t.$ref,isProperty:false}})}if(n.$ref=decodeURI(t.$ref),n.$ref=n.$ref.replace(/#\/definitions\/([^/]+)/g,"#/components/schemas/$1"),!r.circularReferenceTracker.has(t.$ref)){let s=e.resolveRef(t.$ref),a=ke({context:e,schema:s,state:{...r,$ref:t.$ref,isProperty:false}});n.accessScopes=L(n.accessScopes,a.accessScopes);}return n},Ud=({context:e,irSchema:t,schema:r,state:n})=>{t||(t=kr({schema:r}));let o={};oo({irSchema:o,schema:r,state:n}),o.default===null&&delete o.default;let s=[ln({context:e,irSchema:o,schema:r,state:n}),{type:"null"}];return t=z({items:s,schema:t}),t},Zd=({context:e,schema:t,state:r})=>{let n=kr({schema:t});oo({irSchema:n,schema:t,state:r});let o=mn({schema:t});return o?t["x-nullable"]?Ud({context:e,irSchema:n,schema:{...t,type:o},state:r}):ln({context:e,irSchema:n,schema:{...t,type:o},state:r}):n},ln=({context:e,irSchema:t,schema:r,state:n})=>{switch(t||(t=kr({schema:r}),oo({irSchema:t,schema:r,state:n})),r.type){case "array":return Bd({context:e,irSchema:t,schema:r,state:n});case "boolean":return Vd({irSchema:t});case "integer":case "number":return Hd({irSchema:t,schema:r});case "object":return _d({context:e,irSchema:t,schema:r,state:n});case "string":return Wd({irSchema:t});default:return Bp({irSchema:t,schema:r,state:n})}},Bp=({irSchema:e,schema:t,state:r})=>(e||(e=kr({schema:t})),e.type="unknown",oo({irSchema:e,schema:t,state:r}),e),ke=({context:e,schema:t,state:r})=>(r||(r={circularReferenceTracker:new Set}),r.$ref&&r.circularReferenceTracker.add(r.$ref),t.$ref?Qd({context:e,schema:t,state:r}):t.enum?zd({context:e,schema:t,state:r}):t.allOf?Kd({context:e,schema:t,state:r}):t.type||t.properties?Zd({context:e,schema:t,state:r}):Bp({schema:t,state:r})),Vp=({$ref:e,context:t,schema:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.schemas||(t.ir.components.schemas={}),t.ir.components.schemas[V(e)]=ke({context:t,schema:r,state:{$ref:e,circularReferenceTracker:new Set}});};var Xd=e=>e==="boolean"||e==="integer"||e==="number"||e==="string",Bt=({context:e,name:t,schema:r})=>{if(ve(e.config.parser.pagination).test(t))return  true;if("$ref"in r){let o=e.resolveRef(r.$ref??"");if("in"in o&&o.in){let s="schema"in o?o.schema:{...o,in:void 0};return Bt({context:e,name:t,schema:s})}return Bt({context:e,name:t,schema:o})}if("in"in r){if(!r.in)return  false;let o="schema"in r?r.schema:{...r,in:void 0};return Bt({context:e,name:t,schema:o})}for(let o in r.properties)if(ve(e.config.parser.pagination).test(o)){let a=r.properties[o];if(typeof a!="boolean"&&!("$ref"in a)){let p=mn({schema:a});if(Xd(p))return o}}for(let o of r.allOf??[]){let s=Bt({context:e,name:t,schema:o});if(s)return s}return  false};var Gd=({irOperation:e,operation:t})=>{t.deprecated!==void 0&&(e.deprecated=t.deprecated),t.description&&(e.description=t.description),t.summary&&(e.summary=t.summary),t.tags?.length&&(e.tags=t.tags);},Jd=({context:e,method:t,operation:r,path:n,state:o})=>{let s={id:Yt({context:e,id:r.operationId,method:t,path:n,state:o}),method:t,path:n};return r.operationId&&(s.operationId=r.operationId),Gd({irOperation:s,operation:r}),s},Yd=({context:e,method:t,operation:r,path:n,securitySchemesMap:o,state:s})=>{let a=Jd({context:e,method:t,operation:r,path:n,state:s});r.parameters&&(a.parameters=r.parameters);let p=false,c={mediaType:"",schema:{properties:{},required:[],type:"object"}},m=[];for(let l of r.requestBody??[]){let f="$ref"in l?e.resolveRef(l.$ref):l,u=f.in==="body"?f.schema:{...f,format:f.type==="file"?"binary":f.format,required:void 0,type:f.type==="file"?"string":f.type},d=mi({mimeTypes:r.consumes,response:{schema:u}}),y=d.find(h=>h.type==="json")||d[0];if(y){let h=Bt({context:e,name:"",schema:y.schema&&"$ref"in y.schema?{allOf:[{...y.schema}],description:f.description}:{description:f.description,...y.schema}}),x=ke({context:e,schema:"$ref"in f?{allOf:[{...f,$ref:f.$ref,required:[],type:"string"}],description:f.description}:y.schema&&"$ref"in y.schema?{allOf:[{...y.schema}],description:f.description}:{description:f.description,...y.schema},state:void 0});c.mediaType=y.mediaType,f.in==="body"?c.schema=x:(c.schema.properties[f.name]=x,f.required&&m.push(f.name)),h&&(c.pagination=h),y.type&&(c.type=y.type);}f.required&&(p=true);}c.mediaType&&(m.length&&(c.schema.required=m),a.body=c,p&&(a.body.required=p));for(let l in r.responses){a.responses||(a.responses={});let f=r.responses[l],u="$ref"in f?e.resolveRef(f.$ref):f,d=mi({mimeTypes:r.produces?r.produces:["application/json"],response:u}),y=d.find(h=>h.type==="json")||d[0];y?a.responses[l]={mediaType:y.mediaType,schema:ke({context:e,schema:{description:u.description,...Lp({content:y})},state:void 0})}:a.responses[l]={schema:{description:u.description,type:l==="204"?"void":"unknown"}};}if(r.security){let l=new Map;for(let f of r.security)for(let u in f){let d=o.get(u);if(!d)continue;let y;if(d.type==="apiKey"&&(y=d),d.type==="basic"&&(y={description:d.description,scheme:"basic",type:"http"}),d.type==="oauth2")switch(y={description:d.description,flows:{},type:"oauth2"},d.flow){case "accessCode":y.flows.authorizationCode={authorizationUrl:d.authorizationUrl,scopes:d.scopes,tokenUrl:d.tokenUrl};break;case "application":y.flows.clientCredentials={scopes:d.scopes,tokenUrl:d.tokenUrl};break;case "implicit":y.flows.implicit={authorizationUrl:d.authorizationUrl,scopes:d.scopes};break;case "password":y.flows.password={scopes:d.scopes,tokenUrl:d.tokenUrl};break}y&&l.set(u,y);}l.size&&(a.security=Array.from(l.values()));}return a},Vt=({context:e,method:t,operation:r,path:n,securitySchemesMap:o,state:s})=>{e.ir.paths||(e.ir.paths={}),e.ir.paths[n]||(e.ir.paths[n]={}),e.ir.paths[n][t]=Yd({context:e,method:t,operation:r,path:n,securitySchemesMap:o,state:s});};var ey=e=>{switch(e){case "multi":return  true;case "csv":case "pipes":case "ssv":case "tsv":default:return  false}},ty=e=>{switch(e){case "header":case "path":return "simple";case "query":default:return "form"}},Rt=({context:e,operation:t,parameters:r})=>{if(!r||!Object.keys(r).length)return;let n={};for(let o of r){let s="$ref"in o?e.dereference(o):o;if(s.in==="body"||s.in==="formData"){t.requestBody||(t.requestBody=[]),t.requestBody.push(s);continue}n[s.in]||(n[s.in]={}),n[s.in][s.name.toLocaleLowerCase()]=ry({context:e,parameter:s});}return n},ry=({context:e,parameter:t})=>{let r=t,n=r&&"$ref"in r?{allOf:[{...r,$ref:r.$ref,required:Array.isArray(r.required)?r.required:[],type:r.type}],description:t.description}:{description:t.description,...r,required:Array.isArray(r.required)?r.required:[],type:r.type},o=Bt({context:e,name:t.name,schema:n}),s=ty(t.in),c={allowReserved:false,explode:ey(t.collectionFormat),location:t.in,name:t.name,schema:ke({context:e,schema:n,state:void 0}),style:s};return t.description&&(c.description=t.description),o&&(c.pagination=o),t.required&&(c.required=t.required),c};var Hp=/^(([^:/?#]+):)?((\/\/)?([^:/?#]*)(:?([^/?#]*)))?([^?#]*)(\?([^#]*))?(#(.*))?/,mt=e=>{let t={host:"",path:"",port:"",protocol:""};Hp.lastIndex=0;let r=e.match(Hp);if(!r)return t;let n=r[5]||"";if(n==="."||n==="..")return t;let o=r[8]||"",s=r[2]||"";return s.length===1?t:{host:n,path:o==="/"?"":o,port:r[7]||"",protocol:s}};var _p=({context:e})=>{let t=e.spec.schemes??[],r=e.spec.host??"",n=e.spec.basePath??"";if(typeof e.config.input.path=="string"){let s=mt(e.config.input.path);t.length||s.protocol&&(t=[s.protocol]),r||(r=`${s.host}${s.port?`:${s.port}`:""}`);}t.length||(t=[""]);let o=t.map(s=>`${s?`${s}://`:""}${r}${n}`).filter(Boolean);o.length&&(e.ir.servers=o.map(s=>({url:s})));};var Wp=(e,t)=>{let r=t.timeEvent("validate"),n=[],o=new Map;if(e.paths)for(let s of Object.entries(e.paths)){let a=s[0],p=s[1];for(let c of ce){if(c==="trace")continue;let m=p[c];if(!m)continue;let l=B({method:c,path:a});m.operationId&&(o.has(m.operationId)?n.push({code:"duplicate_key",context:{key:"operationId",value:m.operationId},message:"Duplicate `operationId` found. Each `operationId` must be unique.",path:["paths",a,c,"operationId"],severity:"error"}):o.set(m.operationId,l));}}return r.timeEnd(),{issues:n,valid:!n.some(s=>s.severity==="error")}};var li=e=>{if(e.config.parser.validate_EXPERIMENTAL){let o=Wp(e.spec,e.logger);Er({context:e,result:o});}if(Tr(e.config.parser.filters)){let o=Rr(e.config.parser.filters,e.spec,e.logger),{graph:s}=Lt(e.spec,e.logger),{resourceMetadata:a}=Ar(s,e.logger),p=Pr({filters:o,logger:e.logger,resourceMetadata:a});Np({...p,logger:e.logger,preserveOrder:o.preserveOrder,spec:e.spec});}Cr({context:e});let r={ids:new Map},n=new Map;for(let o in e.spec.securityDefinitions){let s=e.spec.securityDefinitions[o];n.set(o,s);}if(e.spec.definitions)for(let o in e.spec.definitions){let s=`#/definitions/${o}`,a=e.spec.definitions[o];Vp({$ref:s,context:e,schema:a});}_p({context:e});for(let o in e.spec.paths){if(o.startsWith("x-"))continue;let s=e.spec.paths[o],a=s.$ref?{...e.resolveRef(s.$ref),...s}:s,p={consumes:e.spec.consumes,produces:e.spec.produces,responses:{},security:e.spec.security},c={context:e,operation:{...p,parameters:Rt({context:e,operation:p,parameters:a.parameters})},path:o,securitySchemesMap:n,state:r};if(a.delete){let m=F({source:Rt({context:e,operation:a.delete,parameters:a.delete.parameters}),target:c.operation.parameters});Vt({...c,method:"delete",operation:{...c.operation,...a.delete,parameters:m}});}if(a.get){let m=F({source:Rt({context:e,operation:a.get,parameters:a.get.parameters}),target:c.operation.parameters});Vt({...c,method:"get",operation:{...c.operation,...a.get,parameters:m}});}if(a.head){let m=F({source:Rt({context:e,operation:a.head,parameters:a.head.parameters}),target:c.operation.parameters});Vt({...c,method:"head",operation:{...c.operation,...a.head,parameters:m}});}if(a.options){let m=F({source:Rt({context:e,operation:a.options,parameters:a.options.parameters}),target:c.operation.parameters});Vt({...c,method:"options",operation:{...c.operation,...a.options,parameters:m}});}if(a.patch){let m=F({source:Rt({context:e,operation:a.patch,parameters:a.patch.parameters}),target:c.operation.parameters});Vt({...c,method:"patch",operation:{...c.operation,...a.patch,parameters:m}});}if(a.post){let m=F({source:Rt({context:e,operation:a.post,parameters:a.post.parameters}),target:c.operation.parameters});Vt({...c,method:"post",operation:{...c.operation,...a.post,parameters:m}});}if(a.put){let m=F({source:Rt({context:e,operation:a.put,parameters:a.put.parameters}),target:c.operation.parameters});Vt({...c,method:"put",operation:{...c.operation,...a.put,parameters:m}});}}};var Kp=({logger:e,operations:t,parameters:r,preserveOrder:n,requestBodies:o,responses:s,schemas:a,spec:p})=>{let c=e.timeEvent("filter-spec");if(p.components){if(p.components.parameters){let m={};if(n)for(let[l,f]of Object.entries(p.components.parameters))r.has(w("parameter",l))&&(m[l]=f);else for(let l of r){let{name:f}=pe(l),u=p.components.parameters[f];u&&(m[f]=u);}p.components.parameters=m;}if(p.components.requestBodies){let m={};if(n)for(let[l,f]of Object.entries(p.components.requestBodies))o.has(w("body",l))&&(m[l]=f);else for(let l of o){let{name:f}=pe(l),u=p.components.requestBodies[f];u&&(m[f]=u);}p.components.requestBodies=m;}if(p.components.responses){let m={};if(n)for(let[l,f]of Object.entries(p.components.responses))s.has(w("response",l))&&(m[l]=f);else for(let l of s){let{name:f}=pe(l),u=p.components.responses[f];u&&(m[f]=u);}p.components.responses=m;}if(p.components.schemas){let m={};if(n)for(let[l,f]of Object.entries(p.components.schemas))a.has(w("schema",l))&&(m[l]=f);else for(let l of a){let{name:f}=pe(l),u=p.components.schemas[f];u&&(m[f]=u);}p.components.schemas=m;}}if(p.paths)for(let m of Object.entries(p.paths)){let l=m[0],f=m[1];for(let u of ce){if(!f[u])continue;let y=w("operation",B({method:u,path:l}));t.has(y)||delete f[u];}Object.keys(f).length||delete p.paths[l];}c.timeEnd();};var zp=({content:e})=>{let{mediaType:t,schema:r}=e;return r&&"$ref"in r?{allOf:[{...r}]}:r?r.type==="string"&&!r.format&&Ot({mediaType:t})?{...r,format:"binary"}:r:Ot({mediaType:t})?{format:"binary",type:"string"}:void 0},Tt=({content:e})=>{let t=[];for(let r in e)t.push({mediaType:r,schema:e[r].schema,type:vr({mediaType:r})});return t};var tr=({schema:e})=>{if(e.type)return e.type;if(e.properties)return "object"},ny=({irSchema:e,schema:t})=>{t.deprecated!==void 0&&(e.deprecated=t.deprecated),t.example&&(e.example=t.example),t.description&&(e.description=t.description),t.title&&(e.title=t.title);},so=({irSchema:e,schema:t,state:r})=>{t.default!==void 0&&(e.default=t.default),t.exclusiveMaximum?t.maximum!==void 0&&(e.exclusiveMaximum=t.maximum):t.maximum!==void 0&&(e.maximum=t.maximum),t.exclusiveMinimum?t.minimum!==void 0&&(e.exclusiveMinimum=t.minimum):t.minimum!==void 0&&(e.minimum=t.minimum),t.format&&(e.format=t.format),t.maxItems!==void 0&&(e.maxItems=t.maxItems),t.maxLength!==void 0&&(e.maxLength=t.maxLength),t.minItems!==void 0&&(e.minItems=t.minItems),t.minLength!==void 0&&(e.minLength=t.minLength),t.pattern&&(e.pattern=t.pattern),t.readOnly?(e.accessScope="read",e.accessScopes=L(e.accessScopes,["read"])):t.writeOnly?(e.accessScope="write",e.accessScopes=L(e.accessScopes,["write"])):r.isProperty&&(e.accessScopes=L(e.accessScopes,["both"]));},oy=({context:e,irSchema:t={},schema:r,state:n})=>{r.maxItems&&r.maxItems===r.minItems?t.type="tuple":t.type="array";let o=[];if(r.items){let s=me({context:e,schema:r.items,state:n});if(t.accessScopes=L(t.accessScopes,s.accessScopes),!o.length&&r.maxItems&&r.maxItems===r.minItems)o=Array(r.maxItems).fill(s);else if("$ref"in r.items)o.push(s);else {let a=r.items.allOf||r.items.anyOf||r.items.oneOf;a&&a.length>1&&!r.items.nullable?t={...t,...s}:o.push(s);}}return t=z({items:o,schema:t}),t},sy=({irSchema:e={}})=>(e.type="boolean",e),iy=({irSchema:e={},schema:t})=>(e.type=t.type,e),ay=({context:e,irSchema:t={},schema:r,state:n})=>{t.type="object";let o={};for(let s in r.properties){let a=r.properties[s];if(typeof a!="boolean"){let p=me({context:e,schema:a,state:{...n,isProperty:true}});t.accessScopes=L(t.accessScopes,p.accessScopes),o[s]=p;}}if(Object.keys(o).length&&(t.properties=o),r.additionalProperties===void 0)t.properties||(t.additionalProperties={type:"unknown"});else if(typeof r.additionalProperties=="boolean")n.inAllOf&&r.additionalProperties===false&&(!r.properties||Object.keys(r.properties).length===0)||(t.additionalProperties={type:r.additionalProperties?"unknown":"never"});else {let s=me({context:e,schema:r.additionalProperties,state:n});t.additionalProperties=s;}return r.required&&(t.required=r.required),t},py=({irSchema:e={}})=>(e.type="string",e),Ht=({schema:e})=>{let t={};return ny({irSchema:t,schema:e}),t},cy=({context:e,schema:t,state:r})=>{let n=Ht({schema:t}),o=[],s=tr({schema:t}),a=t.allOf;for(let p of a){let m="$ref"in p?r:{...r,inAllOf:true},l=me({context:e,schema:p,state:m});if(n.accessScopes=L(n.accessScopes,l.accessScopes),t.required&&(l.required?l.required=[...l.required,...t.required]:l.required=t.required),o.push(l),"$ref"in p){let f=e.resolveRef(p.$ref);if(f.discriminator&&r.$ref){let u=ct(r.$ref,f.discriminator.mapping,f.oneOf?()=>f.oneOf.some(d=>"$ref"in d&&d.$ref===r.$ref):void 0);if(u.length>0){let d=u.map(h=>({const:h,type:"string"})),y={properties:{[f.discriminator.propertyName]:d.length>1?{items:d,logicalOperator:"or"}:d[0]},type:"object"};f.required?.includes(f.discriminator.propertyName)&&(y.required=[f.discriminator.propertyName]),o.push(y);}}if(!r.circularReferenceTracker.has(p.$ref)){let u=me({context:e,schema:f,state:{...r,$ref:p.$ref}});n.accessScopes=L(n.accessScopes,u.accessScopes);}}}if(s==="object"){let p=rr({context:e,schema:{...t,type:"object"},state:r});if(n.accessScopes=L(n.accessScopes,p.accessScopes),p.properties){for(let c of p.required??[])if(!p.properties[c])for(let m of a){let l="$ref"in m?e.resolveRef(m.$ref):m;if(tr({schema:l})==="object"){let f=rr({context:e,schema:{...l,type:"object"},state:r});if(n.accessScopes=L(n.accessScopes,f.accessScopes),f.properties?.[c]){p.properties[c]=f.properties[c];break}}}o.push(p);}}if(n=z({items:o,logicalOperator:"and",mutateSchemaOneItem:true,schema:n}),t.nullable){let p=[{type:"null"}];o.length&&p.unshift(n),n={items:p,logicalOperator:"or"},p[0].deprecated&&(n.deprecated=p[0].deprecated),p[0].description&&(n.description=p[0].description);}return n},my=({context:e,schema:t,state:r})=>{let n=Ht({schema:t}),o=[],s=tr({schema:t}),a=t.anyOf;for(let p of a){let c=me({context:e,schema:p,state:r});if(n.accessScopes=L(n.accessScopes,c.accessScopes),t.discriminator&&c.$ref!=null){let l=ct(c.$ref,t.discriminator.mapping).map(u=>({const:u,type:"string"}));c={items:[{properties:{[t.discriminator.propertyName]:l.length>1?{items:l,logicalOperator:"or"}:l[0]},type:"object"},c],logicalOperator:"and"};}o.push(c);}if(t.nullable&&o.push({type:"null"}),n=z({items:o,mutateSchemaOneItem:true,schema:n}),s==="object"){let p=rr({context:e,schema:{...t,type:"object"},state:r});n.accessScopes=L(n.accessScopes,p.accessScopes),p.properties&&(n={items:[n,p],logicalOperator:"and"});}return n},ly=({context:e,schema:t,state:r})=>{let n=Ht({schema:t});n.type="enum";let o=[];for(let[s,a]of t.enum.entries()){let p=typeof a,c;if(p==="string"||p==="number"||p==="boolean"?c=p:p==="object"&&Array.isArray(a)?c="array":a===null?t.nullable&&(c="null"):console.warn("\u{1F6A8}",`unhandled "${p}" typeof value "${a}" for enum`,t.enum),!c)continue;let m=rr({context:e,schema:{description:t["x-enum-descriptions"]?.[s],title:t["x-enum-varnames"]?.[s]??t["x-enumNames"]?.[s],type:c==="null"?"string":c},state:r});m.const=a,c==="null"&&(m.type=c),m.type==="array"&&(m.type="tuple"),n.accessScopes=L(n.accessScopes,m.accessScopes),o.push(m);}return n=z({items:o,schema:n}),n},fy=({context:e,schema:t,state:r})=>{let n=Ht({schema:t}),o=[],s=tr({schema:t}),a=t.oneOf;for(let p of a){let c=me({context:e,schema:p,state:r});if(n.accessScopes=L(n.accessScopes,c.accessScopes),t.discriminator&&c.$ref!=null){let l=ct(c.$ref,t.discriminator.mapping).map(u=>({const:u,type:"string"}));c={items:[{properties:{[t.discriminator.propertyName]:l.length>1?{items:l,logicalOperator:"or"}:l[0]},required:[t.discriminator.propertyName],type:"object"},c],logicalOperator:"and"};}c.logicalOperator==="or"&&c.type!=="array"&&c.items?o=o.concat(c.items):o.push(c);}if(t.nullable&&o.push({type:"null"}),n=z({items:o,mutateSchemaOneItem:true,schema:n}),s==="object"){let p=rr({context:e,schema:{...t,type:"object"},state:r});n.accessScopes=L(n.accessScopes,p.accessScopes),p.properties&&(n={items:[n,p],logicalOperator:"and"});}return n},uy=({context:e,schema:t,state:r})=>{if(!t.$ref.startsWith("#/components/")&&!r.circularReferenceTracker.has(t.$ref)){let s=e.resolveRef(t.$ref);return me({context:e,schema:s,state:{...r,$ref:t.$ref,isProperty:false}})}let o={};if(o.$ref=decodeURI(t.$ref),!r.circularReferenceTracker.has(t.$ref)){let s=e.resolveRef(t.$ref),a=me({context:e,schema:s,state:{...r,$ref:t.$ref,isProperty:false}});o.accessScopes=L(o.accessScopes,a.accessScopes);}return o},dy=({context:e,irSchema:t,schema:r,state:n})=>{t||(t=Ht({schema:r}));let o={};so({irSchema:o,schema:r,state:n}),o.default===null&&delete o.default;let s=[rr({context:e,irSchema:o,schema:r,state:n}),{type:"null"}];return t=z({items:s,schema:t}),t},yy=({context:e,schema:t,state:r})=>{let n=Ht({schema:t});so({irSchema:n,schema:t,state:r});let o=tr({schema:t});return o?t.nullable?dy({context:e,irSchema:n,schema:{...t,type:o},state:r}):rr({context:e,irSchema:n,schema:{...t,type:o},state:r}):n},rr=({context:e,irSchema:t,schema:r,state:n})=>{switch(t||(t=Ht({schema:r}),so({irSchema:t,schema:r,state:n})),r.type){case "array":return oy({context:e,irSchema:t,schema:r,state:n});case "boolean":return sy({irSchema:t});case "integer":case "number":return iy({irSchema:t,schema:r});case "object":return ay({context:e,irSchema:t,schema:r,state:n});case "string":return py({irSchema:t});default:return Qp({irSchema:t,schema:r,state:n})}},Qp=({irSchema:e,schema:t,state:r})=>(e||(e=Ht({schema:t})),e.type="unknown",so({irSchema:e,schema:t,state:r}),e),me=({context:e,schema:t,state:r})=>(r||(r={circularReferenceTracker:new Set}),r.$ref&&r.circularReferenceTracker.add(r.$ref),"$ref"in t?uy({context:e,schema:t,state:r}):t.enum?ly({context:e,schema:t,state:r}):t.allOf?cy({context:e,schema:t,state:r}):t.anyOf?my({context:e,schema:t,state:r}):t.oneOf?fy({context:e,schema:t,state:r}):t.type||t.properties?yy({context:e,schema:t,state:r}):Qp({schema:t,state:r})),Up=({$ref:e,context:t,schema:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.schemas||(t.ir.components.schemas={}),t.ir.components.schemas[V(e)]=me({context:t,schema:r,state:{$ref:e,circularReferenceTracker:new Set}});};var gy=e=>e==="boolean"||e==="integer"||e==="number"||e==="string",nr=({context:e,name:t,schema:r})=>{if(ve(e.config.parser.pagination).test(t))return  true;if("$ref"in r){let o=e.resolveRef(r.$ref);if("content"in o||"in"in o){let s;if("in"in o&&(s=o.schema),!s){let a=Tt({content:o.content}),p=a.find(c=>c.type==="json")||a[0];p?.schema&&(s=p.schema);}return s?nr({context:e,name:t,schema:s}):false}return nr({context:e,name:t,schema:o})}for(let o in r.properties)if(ve(e.config.parser.pagination).test(o)){let a=r.properties[o];if(typeof a!="boolean"&&!("$ref"in a)){let p=tr({schema:a});if(gy(p))return o}}for(let o of r.allOf??[]){let s=nr({context:e,name:t,schema:o});if(s)return s}return  false};var hy=({irOperation:e,operation:t})=>{t.deprecated!==void 0&&(e.deprecated=t.deprecated),t.description&&(e.description=t.description),t.summary&&(e.summary=t.summary),t.tags?.length&&(e.tags=t.tags);},xy=({context:e,method:t,operation:r,path:n,state:o})=>{let s={id:Yt({context:e,id:r.operationId,method:t,path:n,state:o}),method:t,path:n};return r.operationId&&(s.operationId=r.operationId),hy({irOperation:s,operation:r}),s},by=({context:e,method:t,operation:r,path:n,securitySchemesMap:o,state:s})=>{let a=xy({context:e,method:t,operation:r,path:n,state:s});if(r.parameters&&(a.parameters=r.parameters),r.requestBody){let p="$ref"in r.requestBody?e.resolveRef(r.requestBody.$ref):r.requestBody,c=Tt({content:p.content}),m=c.find(l=>l.type==="json")||c[0];if(m){let l=nr({context:e,name:"",schema:m.schema&&"$ref"in m.schema?{allOf:[{...m.schema}],description:p.description}:{description:p.description,...m.schema}});a.body={mediaType:m.mediaType,schema:me({context:e,schema:"$ref"in r.requestBody?{allOf:[{...r.requestBody}],description:p.description}:m.schema&&"$ref"in m.schema?{allOf:[{...m.schema}],description:p.description}:{description:p.description,...m.schema},state:void 0})},l&&(a.body.pagination=l),p.required&&(a.body.required=p.required),m.type&&(a.body.type=m.type);}}for(let p in r.responses){a.responses||(a.responses={});let c=r.responses[p],m="$ref"in c?e.resolveRef(c.$ref):c,l=Tt({content:m.content}),f=l.find(u=>u.type==="json")||l[0];f?a.responses[p]={mediaType:f.mediaType,schema:me({context:e,schema:{description:m.description,...zp({content:f})},state:void 0})}:a.responses[p]={schema:{description:m.description,type:p==="204"?"void":"unknown"}};}if(r.security){let p=new Map;for(let c of r.security)for(let m in c){let l=o.get(m);l&&p.set(m,l);}p.size&&(a.security=Array.from(p.values()));}return a},Pt=({context:e,method:t,operation:r,path:n,securitySchemesMap:o,state:s})=>{e.ir.paths||(e.ir.paths={}),e.ir.paths[n]||(e.ir.paths[n]={}),r.servers&&(e.ir.servers=[...e.ir.servers??[],...r.servers]),e.ir.paths[n][t]=by({context:e,method:t,operation:r,path:n,securitySchemesMap:o,state:s});};var Sy=e=>{switch(e){case "query":return  false;default:return}},Oy=e=>{switch(e){case "deepObject":case "form":return  true;default:return  false}},Ry=e=>{switch(e){case "header":case "path":return "simple";case "cookie":case "query":return "form"}},lt=({context:e,parameters:t})=>{if(!t||!Object.keys(t).length)return;let r={};for(let n of t){let o="$ref"in n?e.dereference(n):n;r[o.in]||(r[o.in]={}),r[o.in][o.name.toLocaleLowerCase()]=Zp({context:e,parameter:o});}return r},Zp=({context:e,parameter:t})=>{let r=t.schema;if(!r){let m=Tt({content:t.content}),l=m.find(f=>f.type==="json")||m[0];l&&(r=l.schema);}let n=r&&"$ref"in r?{allOf:[{...r}],deprecated:t.deprecated,description:t.description}:{deprecated:t.deprecated,description:t.description,...r},o=nr({context:e,name:t.name,schema:n}),s=t.style||Ry(t.in),a=t.explode!==void 0?t.explode:Oy(s),c={allowReserved:t.allowReserved!==void 0?t.allowReserved:Sy(t.in),explode:a,location:t.in,name:t.name,schema:me({context:e,schema:n,state:void 0}),style:s};return t.deprecated&&(c.deprecated=t.deprecated),t.description&&(c.description=t.description),o&&(c.pagination=o),t.required&&(c.required=t.required),c},Xp=({$ref:e,context:t,parameter:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.parameters||(t.ir.components.parameters={}),t.ir.components.parameters[V(e)]=Zp({context:t,parameter:r});};var Ty=({context:e,requestBody:t})=>{let r=Tt({content:t.content}),n=r.find(p=>p.type==="json")||r[0],o=n?n.schema:void 0,s={description:t.description,...o},a={schema:me({context:e,schema:s,state:void 0})};return t.description&&(a.description=t.description),t.required&&(a.required=t.required),a},Gp=({$ref:e,context:t,requestBody:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.requestBodies||(t.ir.components.requestBodies={}),t.ir.components.requestBodies[V(e)]=Ty({context:t,requestBody:r});};var Jp=({context:e})=>{if(e.spec.servers){e.ir.servers=e.spec.servers;return}if(typeof e.config.input.path=="string"){let t=mt(e.config.input.path);e.ir.servers=[{url:`${t.protocol?`${t.protocol}://`:""}${t.host}${t.port?`:${t.port}`:""}`}];}e.ir.servers||(e.ir.servers=[{url:"/"}]);};var Yp=(e,t)=>{let r=t.timeEvent("validate"),n=[],o=new Map;if(e.paths)for(let s of Object.entries(e.paths)){let a=s[0],p=s[1];for(let c of ce){let m=p[c];if(!m)continue;let l=B({method:c,path:a});m.operationId&&(o.has(m.operationId)?n.push({code:"duplicate_key",context:{key:"operationId",value:m.operationId},message:"Duplicate `operationId` found. Each `operationId` must be unique.",path:["paths",a,c,"operationId"],severity:"error"}):o.set(m.operationId,l));}}if(e.servers){(typeof e.servers!="object"||!Array.isArray(e.servers))&&n.push({code:"invalid_type",message:"`servers` must be an array.",path:[],severity:"error"});for(let s=0;s<e.servers.length;s++){let a=e.servers[s];!a||typeof a!="object"?n.push({code:"invalid_type",context:{actual:typeof a,expected:"object"},message:"Each entry in `servers` must be an object.",path:["servers",s],severity:"error"}):a.url||n.push({code:"missing_required_field",context:{field:"url"},message:"Missing required field `url` in server object.",path:["servers",s],severity:"error"});}}return r.timeEnd(),{issues:n,valid:!n.some(s=>s.severity==="error")}};var fi=e=>{if(e.config.parser.validate_EXPERIMENTAL){let o=Yp(e.spec,e.logger);Er({context:e,result:o});}if(Tr(e.config.parser.filters)){let o=Rr(e.config.parser.filters,e.spec,e.logger),{graph:s}=Lt(e.spec,e.logger),{resourceMetadata:a}=Ar(s,e.logger),p=Pr({filters:o,logger:e.logger,resourceMetadata:a});Kp({...p,logger:e.logger,preserveOrder:o.preserveOrder,spec:e.spec});}Cr({context:e});let r={ids:new Map},n=new Map;if(e.spec.components){for(let o in e.spec.components.securitySchemes){let s=e.spec.components.securitySchemes[o],a="$ref"in s?e.resolveRef(s.$ref):s;n.set(o,a);}for(let o in e.spec.components.parameters){let s=`#/components/parameters/${o}`,a=e.spec.components.parameters[o],p="$ref"in a?e.resolveRef(a.$ref):a;Xp({$ref:s,context:e,parameter:p});}for(let o in e.spec.components.requestBodies){let s=`#/components/requestBodies/${o}`,a=e.spec.components.requestBodies[o],p="$ref"in a?e.resolveRef(a.$ref):a;Gp({$ref:s,context:e,requestBody:p});}for(let o in e.spec.components.schemas){let s=`#/components/schemas/${o}`,a=e.spec.components.schemas[o];Up({$ref:s,context:e,schema:a});}}Jp({context:e});for(let o in e.spec.paths){let s=e.spec.paths[o],a=s.$ref?{...e.resolveRef(s.$ref),...s}:s,p={context:e,operation:{description:a.description,parameters:lt({context:e,parameters:a.parameters}),security:e.spec.security,servers:a.servers,summary:a.summary},path:o,securitySchemesMap:n,state:r};a.delete&&Pt({...p,method:"delete",operation:{...p.operation,...a.delete,parameters:F({source:lt({context:e,parameters:a.delete.parameters}),target:p.operation.parameters})}}),a.get&&Pt({...p,method:"get",operation:{...p.operation,...a.get,parameters:F({source:lt({context:e,parameters:a.get.parameters}),target:p.operation.parameters})}}),a.head&&Pt({...p,method:"head",operation:{...p.operation,...a.head,parameters:F({source:lt({context:e,parameters:a.head.parameters}),target:p.operation.parameters})}}),a.options&&Pt({...p,method:"options",operation:{...p.operation,...a.options,parameters:F({source:lt({context:e,parameters:a.options.parameters}),target:p.operation.parameters})}}),a.patch&&Pt({...p,method:"patch",operation:{...p.operation,...a.patch,parameters:F({source:lt({context:e,parameters:a.patch.parameters}),target:p.operation.parameters})}}),a.post&&Pt({...p,method:"post",operation:{...p.operation,...a.post,parameters:F({source:lt({context:e,parameters:a.post.parameters}),target:p.operation.parameters})}}),a.put&&Pt({...p,method:"put",operation:{...p.operation,...a.put,parameters:F({source:lt({context:e,parameters:a.put.parameters}),target:p.operation.parameters})}}),a.trace&&Pt({...p,method:"trace",operation:{...p.operation,...a.trace,parameters:F({source:lt({context:e,parameters:a.trace.parameters}),target:p.operation.parameters})}});}};var ec=({logger:e,operations:t,parameters:r,preserveOrder:n,requestBodies:o,responses:s,schemas:a,spec:p})=>{let c=e.timeEvent("filter-spec");if(p.components){if(p.components.parameters){let m={};if(n)for(let[l,f]of Object.entries(p.components.parameters))r.has(w("parameter",l))&&(m[l]=f);else for(let l of r){let{name:f}=pe(l),u=p.components.parameters[f];u&&(m[f]=u);}p.components.parameters=m;}if(p.components.requestBodies){let m={};if(n)for(let[l,f]of Object.entries(p.components.requestBodies))o.has(w("body",l))&&(m[l]=f);else for(let l of o){let{name:f}=pe(l),u=p.components.requestBodies[f];u&&(m[f]=u);}p.components.requestBodies=m;}if(p.components.responses){let m={};if(n)for(let[l,f]of Object.entries(p.components.responses))s.has(w("response",l))&&(m[l]=f);else for(let l of s){let{name:f}=pe(l),u=p.components.responses[f];u&&(m[f]=u);}p.components.responses=m;}if(p.components.schemas){let m={};if(n)for(let[l,f]of Object.entries(p.components.schemas))a.has(w("schema",l))&&(m[l]=f);else for(let l of a){let{name:f}=pe(l),u=p.components.schemas[f];u&&(m[f]=u);}p.components.schemas=m;}}if(p.paths)for(let m of Object.entries(p.paths)){let l=m[0],f=m[1];for(let u of ce){if(!f[u])continue;let y=w("operation",B({method:u,path:l}));t.has(y)||delete f[u];}Object.keys(f).length||delete p.paths[l];}c.timeEnd();};var tc=({content:e})=>{let{mediaType:t,schema:r}=e;return r?r.type==="string"&&!r.format&&Ot({mediaType:t})?{...r,format:"binary"}:r:Ot({mediaType:t})?{format:"binary",type:"string"}:void 0},At=({content:e})=>{let t=[];for(let r in e)t.push({mediaType:r,schema:e[r].schema,type:vr({mediaType:r})});return t};var ft=({schema:e})=>typeof e.type=="string"?[e.type]:e.type?e.type:e.properties?["object"]:[],Py=({irSchema:e,schema:t})=>{t.deprecated!==void 0&&(e.deprecated=t.deprecated),t.example&&(e.example=t.example),t.description&&(e.description=t.description),t.title&&(e.title=t.title);},io=({irSchema:e,schema:t})=>{if(t.const!==void 0&&(e.const=t.const,!t.type))if(t.const===null)e.type="null";else switch(typeof t.const){case "bigint":case "number":e.type="number";break;case "boolean":e.type="boolean";break;case "string":e.type="string";break}t.default!==void 0&&(e.default=t.default),t.exclusiveMaximum!==void 0&&(e.exclusiveMaximum=t.exclusiveMaximum),t.exclusiveMinimum!==void 0&&(e.exclusiveMinimum=t.exclusiveMinimum),t.format&&(e.format=t.format),t.maximum!==void 0&&(e.maximum=t.maximum),t.maxItems!==void 0&&(e.maxItems=t.maxItems),t.maxLength!==void 0&&(e.maxLength=t.maxLength),t.minimum!==void 0&&(e.minimum=t.minimum),t.minItems!==void 0&&(e.minItems=t.minItems),t.minLength!==void 0&&(e.minLength=t.minLength),t.pattern&&(e.pattern=t.pattern),t.readOnly?e.accessScope="read":t.writeOnly&&(e.accessScope="write");},Ay=({context:e,irSchema:t={},schema:r,state:n})=>{r.prefixItems&&r.prefixItems.length||r.maxItems&&r.maxItems===r.minItems||r.const!==void 0?t.type="tuple":t.type="array";let o=[];for(let s of r.prefixItems??[]){let a=ee({context:e,schema:s,state:n});o.push(a);}if(r.items){let s=ee({context:e,schema:r.items,state:n});if(!o.length&&r.maxItems&&r.maxItems===r.minItems)o=Array(r.maxItems).fill(s);else {let a=r.items.allOf||r.items.anyOf||r.items.oneOf;a&&a.length>1&&!ft({schema:r.items}).includes("null")?t={...t,...s}:o.push(s);}}return t=z({items:o,schema:t}),t},Iy=({irSchema:e={}})=>(e.type="boolean",e),Cy=({irSchema:e={}})=>(e.type="null",e),Ey=({irSchema:e={},schema:t})=>(e.type=t.type,e),vy=({context:e,irSchema:t={},schema:r,state:n})=>{t.type="object";let o={};for(let s in r.properties){let a=r.properties[s];if(typeof a!="boolean"){let p=ee({context:e,schema:a,state:{...n,isProperty:true}});o[s]=p;}}if(Object.keys(o).length&&(t.properties=o),r.additionalProperties===void 0)t.properties||(t.additionalProperties={type:"unknown"});else if(typeof r.additionalProperties=="boolean")n.inAllOf&&r.additionalProperties===false&&(!r.properties||Object.keys(r.properties).length===0)&&(!r.patternProperties||Object.keys(r.patternProperties).length===0)||(t.additionalProperties={type:r.additionalProperties?"unknown":"never"});else {let s=ee({context:e,schema:r.additionalProperties,state:n});t.additionalProperties=s;}if(r.patternProperties){let s={};for(let a in r.patternProperties){let p=r.patternProperties[a],c=ee({context:e,schema:p,state:n});s[a]=c;}Object.keys(s).length&&(t.patternProperties=s);}return r.propertyNames&&(t.propertyNames=ee({context:e,schema:r.propertyNames,state:n})),r.required&&(t.required=r.required),t},ky=({irSchema:e={}})=>(e.type="string",e),It=({schema:e})=>{let t={};return Py({irSchema:t,schema:e}),t},jy=({context:e,schema:t,state:r})=>{let n=It({schema:t}),o=[],s=ft({schema:t}),a=t.allOf;for(let p of a){let m="$ref"in p?r:{...r,inAllOf:true},l=ee({context:e,schema:p,state:m});if(t.required&&(l.required?l.required=[...l.required,...t.required]:l.required=t.required),o.push(l),p.$ref){let f=e.resolveRef(p.$ref);if(f.discriminator&&r.$ref){let u=ct(r.$ref,f.discriminator.mapping,f.oneOf?()=>f.oneOf.some(d=>"$ref"in d&&d.$ref===r.$ref):void 0);if(u.length>0){let d=u.map(h=>({const:h,type:"string"})),y={properties:{[f.discriminator.propertyName]:d.length>1?{items:d,logicalOperator:"or"}:d[0]},type:"object"};f.required?.includes(f.discriminator.propertyName)&&(y.required=[f.discriminator.propertyName]),o.push(y);}}r.circularReferenceTracker.has(p.$ref)||ee({context:e,schema:f,state:{...r,$ref:p.$ref}});}}if(s.includes("object")){let p=or({context:e,schema:{...t,type:"object"},state:r});if(p.properties){for(let c of p.required??[])if(!p.properties[c])for(let m of a){let l=m.$ref?e.resolveRef(m.$ref):m;if(ft({schema:l}).includes("object")){let f=or({context:e,schema:{...l,type:"object"},state:r});if(f.properties?.[c]){p.properties[c]=f.properties[c];break}}}o.push(p);}}if(n=z({items:o,logicalOperator:"and",mutateSchemaOneItem:true,schema:n}),s.includes("null")){let p=[{type:"null"}];o.length&&p.unshift(n),n={items:p,logicalOperator:"or"};}return n},Ny=({context:e,schema:t,state:r})=>{let n=It({schema:t}),o=[],s=ft({schema:t}),a=t.anyOf;for(let p of a){let c=ee({context:e,schema:p,state:r});if(t.discriminator&&c.$ref!=null){let l=ct(c.$ref,t.discriminator.mapping).map(u=>({const:u,type:"string"}));c={items:[{properties:{[t.discriminator.propertyName]:l.length>1?{items:l,logicalOperator:"or"}:l[0]},type:"object"},c],logicalOperator:"and"};}o.push(c);}if(s.includes("null")&&o.push({type:"null"}),n=z({items:o,mutateSchemaOneItem:true,schema:n}),s.includes("object")){let p=or({context:e,schema:{...t,type:"object"},state:r});p.properties&&(n={items:[n,p],logicalOperator:"and"});}return n},wy=({context:e,schema:t,state:r})=>{let n=It({schema:t});n.type="enum";let o=[],s=ft({schema:t});for(let[a,p]of t.enum.entries()){let c=typeof p,m;if(c==="string"||c==="number"||c==="boolean"?m=c:c==="object"&&Array.isArray(p)?m="array":p===null?s.includes("null")&&(m="null"):console.warn("\u{1F6A8}",`unhandled "${c}" typeof value "${p}" for enum`,t.enum),!m)continue;let l=or({context:e,schema:{const:p,description:t["x-enum-descriptions"]?.[a],title:t["x-enum-varnames"]?.[a]??t["x-enumNames"]?.[a],type:m},state:r});o.push(l);}return n=z({items:o,schema:n}),n},qy=({context:e,schema:t,state:r})=>{let n=It({schema:t}),o=[],s=ft({schema:t}),a=t.oneOf;for(let p of a){let c=ee({context:e,schema:p,state:r});if(t.discriminator&&c.$ref!=null){let l=ct(c.$ref,t.discriminator.mapping).map(u=>({const:u,type:"string"}));c={items:[{properties:{[t.discriminator.propertyName]:l.length>1?{items:l,logicalOperator:"or"}:l[0]},required:[t.discriminator.propertyName],type:"object"},c],logicalOperator:"and"};}c.logicalOperator==="or"&&c.type!=="array"&&c.items?o=o.concat(c.items):o.push(c);}if(s.includes("null")&&o.push({type:"null"}),n=z({items:o,mutateSchemaOneItem:true,schema:n}),s.includes("object")){let p=or({context:e,schema:{...t,type:"object"},state:r});p.properties&&(n={items:[n,p],logicalOperator:"and"});}return n},$y=({context:e,schema:t,state:r})=>{if(!t.$ref.startsWith("#/components/")&&!r.circularReferenceTracker.has(t.$ref)){let p=e.resolveRef(t.$ref);return ee({context:e,schema:p,state:{...r,$ref:t.$ref,isProperty:false}})}let o=It({schema:t}),s={};if(s.$ref=decodeURI(t.$ref),!r.circularReferenceTracker.has(t.$ref)){let p=e.resolveRef(t.$ref);ee({context:e,schema:p,state:{...r,$ref:t.$ref,isProperty:false}});}let a=[];return a.push(s),t.type&&typeof t.type!="string"&&t.type.includes("null")&&a.push({type:"null"}),o=z({items:a,mutateSchemaOneItem:true,schema:o}),o},or=({context:e,irSchema:t,schema:r,state:n})=>{switch(t||(t=It({schema:r}),io({irSchema:t,schema:r})),r.type){case "array":return Ay({context:e,irSchema:t,schema:r,state:n});case "boolean":return Iy({irSchema:t});case "integer":case "number":return Ey({irSchema:t,schema:r});case "null":return Cy({irSchema:t});case "object":return vy({context:e,irSchema:t,schema:r,state:n});case "string":return ky({irSchema:t});default:return rc({irSchema:t,schema:r})}},Fy=({context:e,irSchema:t,schema:r,state:n})=>{t||(t=It({schema:r}));let o={};io({irSchema:o,schema:r}),r.type.includes("null")&&o.default===null&&delete o.default;let s=[];for(let a of r.type)if(a==="null")s.push({type:"null"});else {let p=or({context:e,irSchema:{...o},schema:{...r,type:a},state:n});s.push(p);}return t=z({items:s,schema:t}),t},Dy=({context:e,schema:t,state:r})=>{let n=It({schema:t});io({irSchema:n,schema:t});let o=ft({schema:t});return o.length===1?or({context:e,irSchema:n,schema:{...t,type:o[0]},state:r}):Fy({context:e,irSchema:n,schema:{...t,type:o},state:r})},rc=({irSchema:e,schema:t})=>(e||(e=It({schema:t})),e.type="unknown",io({irSchema:e,schema:t}),e),ee=({context:e,schema:t,state:r})=>(r||(r={circularReferenceTracker:new Set}),r.$ref&&r.circularReferenceTracker.add(r.$ref),t.$ref?$y({context:e,schema:t,state:r}):t.enum?wy({context:e,schema:t,state:r}):t.allOf?jy({context:e,schema:t,state:r}):t.anyOf?Ny({context:e,schema:t,state:r}):t.oneOf?qy({context:e,schema:t,state:r}):t.type||t.properties?Dy({context:e,schema:t,state:r}):rc({schema:t})),nc=({$ref:e,context:t,schema:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.schemas||(t.ir.components.schemas={}),t.ir.components.schemas[V(e)]=ee({context:t,schema:r,state:{$ref:e,circularReferenceTracker:new Set}});};var oc=e=>e.includes("boolean")||e.includes("integer")||e.includes("number")||e.includes("string"),sr=({context:e,name:t,schema:r})=>{if(ve(e.config.parser.pagination).test(t))return  true;if(r.$ref){let o=e.resolveRef(r.$ref);if("content"in o||"in"in o){let s;if("in"in o&&(s=o.schema),!s){let a=At({content:o.content}),p=a.find(c=>c.type==="json")||a[0];p?.schema&&(s=p.schema);}return s?sr({context:e,name:t,schema:s}):false}return sr({context:e,name:t,schema:o})}for(let o in r.properties)if(ve(e.config.parser.pagination).test(o)){let a=r.properties[o];if(typeof a!="boolean"){let p=ft({schema:a});if(!p.length){let m=(a.anyOf??a.oneOf??[]).filter(l=>l.type!=="null");if(m.length===1){let l=ft({schema:m[0]});if(oc(l))return o}}if(oc(p))return o}}for(let o of r.allOf??[]){let s=sr({context:e,name:t,schema:o});if(s)return s}return  false};var My=({irOperation:e,operation:t})=>{t.deprecated!==void 0&&(e.deprecated=t.deprecated),t.description&&(e.description=t.description),t.summary&&(e.summary=t.summary),t.tags?.length&&(e.tags=t.tags);},Ly=({context:e,method:t,operation:r,path:n,state:o})=>{let s={id:Yt({context:e,id:r.operationId,method:t,path:n,state:o}),method:t,path:n};return r.operationId&&(s.operationId=r.operationId),My({irOperation:s,operation:r}),s},By=({context:e,method:t,operation:r,path:n,securitySchemesMap:o,state:s})=>{let a=Ly({context:e,method:t,operation:r,path:n,state:s});if(r.parameters&&(a.parameters=r.parameters),r.requestBody){let p="$ref"in r.requestBody?e.resolveRef(r.requestBody.$ref):r.requestBody,c=At({content:p.content}),m=c.find(l=>l.type==="json")||c[0];if(m){let l=sr({context:e,name:"",schema:{description:p.description,...m.schema}});a.body={mediaType:m.mediaType,schema:ee({context:e,schema:{description:p.description,..."$ref"in r.requestBody?r.requestBody:m.schema},state:void 0})},l&&(a.body.pagination=l),p.required&&(a.body.required=p.required),m.type&&(a.body.type=m.type);}}for(let p in r.responses){a.responses||(a.responses={});let c=r.responses[p],m="$ref"in c?e.resolveRef(c.$ref):c,l=At({content:m.content}),f=l.find(u=>u.type==="json")||l[0];f?a.responses[p]={mediaType:f.mediaType,schema:ee({context:e,schema:{description:m.description,...tc({content:f})},state:void 0})}:a.responses[p]={schema:{description:m.description,type:p==="204"?"void":"unknown"}};}if(r.security){let p=new Map;for(let c of r.security)for(let m in c){let l=o.get(m);l&&p.set(m,l);}p.size&&(a.security=Array.from(p.values()));}return a},sc=({context:e,method:t,operation:r,path:n,securitySchemesMap:o,state:s})=>(r.servers&&(e.ir.servers=[...e.ir.servers??[],...r.servers]),{parsed:By({context:e,method:t,operation:r,path:n,securitySchemesMap:o,state:s})}),Ct=({context:e,method:t,path:r,...n})=>{e.ir.paths||(e.ir.paths={}),e.ir.paths[r]||(e.ir.paths[r]={});let{parsed:o}=sc({context:e,method:t,path:r,...n});e.ir.paths[r][t]=o;},Et=({context:e,key:t,method:r,...n})=>{e.ir.webhooks||(e.ir.webhooks={}),e.ir.webhooks[t]||(e.ir.webhooks[t]={});let{parsed:o}=sc({context:e,method:r,path:t,...n});e.ir.webhooks[t][r]=o;};var Vy=e=>{switch(e){case "query":return  false;default:return}},Hy=e=>{switch(e){case "deepObject":case "form":return  true;default:return  false}},_y=e=>{switch(e){case "header":case "path":return "simple";case "cookie":case "query":return "form"}},te=({context:e,parameters:t})=>{if(!t||!Object.keys(t).length)return;let r={};for(let n of t){let o="$ref"in n?e.dereference(n):n;r[o.in]||(r[o.in]={}),r[o.in][o.name.toLocaleLowerCase()]=ic({context:e,parameter:o});}return r},ic=({context:e,parameter:t})=>{let r=t.schema;if(!r){let m=At({content:t.content}),l=m.find(f=>f.type==="json")||m[0];l&&(r=l.schema);}let n={deprecated:t.deprecated,description:t.description,...r},o=sr({context:e,name:t.name,schema:n}),s=t.style||_y(t.in),a=t.explode!==void 0?t.explode:Hy(s),c={allowReserved:t.allowReserved!==void 0?t.allowReserved:Vy(t.in),explode:a,location:t.in,name:t.name,schema:ee({context:e,schema:n,state:void 0}),style:s};return t.deprecated&&(c.deprecated=t.deprecated),t.description&&(c.description=t.description),o&&(c.pagination=o),t.required&&(c.required=t.required),c},ac=({$ref:e,context:t,parameter:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.parameters||(t.ir.components.parameters={}),t.ir.components.parameters[V(e)]=ic({context:t,parameter:r});};var Wy=({context:e,requestBody:t})=>{let r=At({content:t.content}),n=r.find(p=>p.type==="json")||r[0],o=n?n.schema:void 0,s={description:t.description,...o},a={schema:ee({context:e,schema:s,state:void 0})};return t.description&&(a.description=t.description),t.required&&(a.required=t.required),a},pc=({$ref:e,context:t,requestBody:r})=>{t.ir.components||(t.ir.components={}),t.ir.components.requestBodies||(t.ir.components.requestBodies={}),t.ir.components.requestBodies[V(e)]=Wy({context:t,requestBody:r});};var cc=({context:e})=>{if(e.spec.servers){e.ir.servers=e.spec.servers;return}if(typeof e.config.input.path=="string"){let t=mt(e.config.input.path);e.ir.servers=[{url:`${t.protocol?`${t.protocol}://`:""}${t.host}${t.port?`:${t.port}`:""}`}];}e.ir.servers||(e.ir.servers=[{url:"/"}]);};var mc=(e,t)=>{let r=t.timeEvent("validate"),n=[],o=new Map;if(e.paths)for(let s of Object.entries(e.paths)){let a=s[0],p=s[1];for(let c of ce){let m=p[c];if(!m)continue;let l=B({method:c,path:a});m.operationId&&(o.has(m.operationId)?n.push({code:"duplicate_key",context:{key:"operationId",value:m.operationId},message:"Duplicate `operationId` found. Each `operationId` must be unique.",path:["paths",a,c,"operationId"],severity:"error"}):o.set(m.operationId,l));}}if(e.servers){(typeof e.servers!="object"||!Array.isArray(e.servers))&&n.push({code:"invalid_type",message:"`servers` must be an array.",path:[],severity:"error"});for(let s=0;s<e.servers.length;s++){let a=e.servers[s];!a||typeof a!="object"?n.push({code:"invalid_type",context:{actual:typeof a,expected:"object"},message:"Each entry in `servers` must be an object.",path:["servers",s],severity:"error"}):a.url||n.push({code:"missing_required_field",context:{field:"url"},message:"Missing required field `url` in server object.",path:["servers",s],severity:"error"});}}return r.timeEnd(),{issues:n,valid:!n.some(s=>s.severity==="error")}};var lc=({context:e,securitySchemesMap:t})=>{let r={ids:new Map};for(let n in e.spec.webhooks){let o=e.spec.webhooks[n],s="$ref"in o?{...e.resolveRef(o.$ref),...o}:o,a={context:e,key:n,operation:{description:s.description,parameters:te({context:e,parameters:s.parameters}),security:e.spec.security,servers:s.servers,summary:s.summary},securitySchemesMap:t,state:r};s.delete&&Et({...a,method:"delete",operation:{...a.operation,...s.delete,parameters:F({source:te({context:e,parameters:s.delete.parameters}),target:a.operation.parameters})}}),s.get&&Et({...a,method:"get",operation:{...a.operation,...s.get,parameters:F({source:te({context:e,parameters:s.get.parameters}),target:a.operation.parameters})}}),s.head&&Et({...a,method:"head",operation:{...a.operation,...s.head,parameters:F({source:te({context:e,parameters:s.head.parameters}),target:a.operation.parameters})}}),s.options&&Et({...a,method:"options",operation:{...a.operation,...s.options,parameters:F({source:te({context:e,parameters:s.options.parameters}),target:a.operation.parameters})}}),s.patch&&Et({...a,method:"patch",operation:{...a.operation,...s.patch,parameters:F({source:te({context:e,parameters:s.patch.parameters}),target:a.operation.parameters})}}),s.post&&Et({...a,method:"post",operation:{...a.operation,...s.post,parameters:F({source:te({context:e,parameters:s.post.parameters}),target:a.operation.parameters})}}),s.put&&Et({...a,method:"put",operation:{...a.operation,...s.put,parameters:F({source:te({context:e,parameters:s.put.parameters}),target:a.operation.parameters})}}),s.trace&&Et({...a,method:"trace",operation:{...a.operation,...s.trace,parameters:F({source:te({context:e,parameters:s.trace.parameters}),target:a.operation.parameters})}});}};var ui=e=>{if(e.config.parser.validate_EXPERIMENTAL){let o=mc(e.spec,e.logger);Er({context:e,result:o});}if(Tr(e.config.parser.filters)){let o=Rr(e.config.parser.filters,e.spec,e.logger),{graph:s}=Lt(e.spec,e.logger),{resourceMetadata:a}=Ar(s,e.logger),p=Pr({filters:o,logger:e.logger,resourceMetadata:a});ec({...p,logger:e.logger,preserveOrder:o.preserveOrder,spec:e.spec});}Cr({context:e});let r={ids:new Map},n=new Map;if(e.spec.components){for(let o in e.spec.components.securitySchemes){let s=e.spec.components.securitySchemes[o],a="$ref"in s?e.resolveRef(s.$ref):s;n.set(o,a);}for(let o in e.spec.components.parameters){let s=`#/components/parameters/${o}`,a=e.spec.components.parameters[o],p="$ref"in a?e.resolveRef(a.$ref):a;ac({$ref:s,context:e,parameter:p});}for(let o in e.spec.components.requestBodies){let s=`#/components/requestBodies/${o}`,a=e.spec.components.requestBodies[o],p="$ref"in a?e.resolveRef(a.$ref):a;pc({$ref:s,context:e,requestBody:p});}for(let o in e.spec.components.schemas){let s=`#/components/schemas/${o}`,a=e.spec.components.schemas[o];nc({$ref:s,context:e,schema:a});}}cc({context:e});for(let o in e.spec.paths){let s=e.spec.paths[o],a=s.$ref?{...e.resolveRef(s.$ref),...s}:s,p={context:e,operation:{description:a.description,parameters:te({context:e,parameters:a.parameters}),security:e.spec.security,servers:a.servers,summary:a.summary},path:o,securitySchemesMap:n,state:r};a.delete&&Ct({...p,method:"delete",operation:{...p.operation,...a.delete,parameters:F({source:te({context:e,parameters:a.delete.parameters}),target:p.operation.parameters})}}),a.get&&Ct({...p,method:"get",operation:{...p.operation,...a.get,parameters:F({source:te({context:e,parameters:a.get.parameters}),target:p.operation.parameters})}}),a.head&&Ct({...p,method:"head",operation:{...p.operation,...a.head,parameters:F({source:te({context:e,parameters:a.head.parameters}),target:p.operation.parameters})}}),a.options&&Ct({...p,method:"options",operation:{...p.operation,...a.options,parameters:F({source:te({context:e,parameters:a.options.parameters}),target:p.operation.parameters})}}),a.patch&&Ct({...p,method:"patch",operation:{...p.operation,...a.patch,parameters:F({source:te({context:e,parameters:a.patch.parameters}),target:p.operation.parameters})}}),a.post&&Ct({...p,method:"post",operation:{...p.operation,...a.post,parameters:F({source:te({context:e,parameters:a.post.parameters}),target:p.operation.parameters})}}),a.put&&Ct({...p,method:"put",operation:{...p.operation,...a.put,parameters:F({source:te({context:e,parameters:a.put.parameters}),target:p.operation.parameters})}}),a.trace&&Ct({...p,method:"trace",operation:{...p.operation,...a.trace,parameters:F({source:te({context:e,parameters:a.trace.parameters}),target:p.operation.parameters})}});}lc({context:e,securitySchemesMap:n});};var ao=["connect","delete","get","head","options","patch","post","put","trace"];function po(e="1.0"){return String(e).replace(/^v/gi,"")}var jr="#/components/parameters/",co="#/components/schemas/";var _t=({config:e,name:t})=>{let r=e.plugins["@hey-api/sdk"];if(r?.config.classNameBuilder){let n="";return typeof r.config.classNameBuilder=="function"?n=r.config.classNameBuilder(t):n=r.config.classNameBuilder.replace("{{name}}",t),n}return t},di=e=>T().plugins["@hey-api/typescript"]?.config.style==="PascalCase"?k({case:"PascalCase",value:e}):e,fc=e=>{let t=di(e);return He(t).replace(Se,"_$1")};var uc=(e,t)=>{if(e.enum&&!t.includes("boolean"))return "enum"},yi=e=>Nr(e).includes("null"),Wt=e=>e.nullable===true||yi(e),Nr=({type:e})=>Array.isArray(e)?e:e?[e]:[];var fn=e=>e.trim().replace(/^#\/definitions\//,"").replace(/^#\/parameters\//,"").replace(/^#\/responses\//,"").replace(/^#\/securityDefinitions\//,"").replace(/^#\/components\/schemas\//,"").replace(/^#\/components\/responses\//,"").replace(/^#\/components\/parameters\//,"").replace(/^#\/components\/examples\//,"").replace(/^#\/components\/requestBodies\//,"").replace(/^#\/components\/headers\//,"").replace(/^#\/components\/securitySchemes\//,"").replace(/^#\/components\/links\//,"").replace(/^#\/components\/callbacks\//,"");var dc=(e,t)=>{if(t==="binary")return "binary";switch(e){case "any":case "object":case "unknown":return "unknown";case "array":return "unknown[]";case "boolean":return "boolean";case "byte":case "double":case "float":case "int":case "integer":case "long":case "number":case "short":return "number";case "char":case "date":case "date-time":case "password":case "string":return "string";case "file":return "binary";case "null":return "null";case "void":return "void";default:return}},yc=/(?<!`1)\[.*\]$/g,j=({debug:e,format:t,type:r="unknown"})=>{let n={$refs:[],base:"unknown",imports:[],isNullable:false,template:null,type:"unknown"};if(Array.isArray(r)){let a=r.filter(p=>p!=="null").map(p=>dc(p,t)).filter(Boolean).join(" | ");return n.type=a,n.base=a,n.isNullable=yi({type:r}),n}let o=dc(r,t);if(o)return n.type=o,n.base=o,n;let s=decodeURIComponent(fn(r));if(yc.lastIndex=0,yc.test(s)){let a=s.match(/(.*?)\[(.*)\]$/);if(a?.length){let p=j({debug:e,type:He(a[1])}),c=j({debug:e,type:He(a[2])});return p.type==="unknown[]"?(n.type=`${c.type}[]`,n.base=`${c.type}`,p.$refs=[],p.imports=[]):c.type?(n.type=`${p.type}<${c.type}>`,n.base=p.type,n.template=c.type):(n.type=p.type,n.base=p.type,n.template=p.type),n.$refs=[...n.$refs,...p.$refs,...c.$refs],n.imports=[...n.imports,...p.imports,...c.imports],n}}if(s){let a=di(He(s));return r.startsWith(jr)&&(a=`Parameter${a}`),n.type=a,n.base=a,r.startsWith("#")&&(n.$refs=[...n.$refs,decodeURIComponent(r)]),n.imports=[...n.imports,a],n}return n};function he(e,t,r){return r.indexOf(e)===t}var wr=(e,t)=>{if(!Array.isArray(t))return [];let r=(e["x-enum-descriptions"]??[]).filter(o=>typeof o=="string"),n=(e["x-enum-varnames"]??e["x-enumNames"]??[]).filter(o=>typeof o=="string");return t.filter(he).filter(o=>typeof o=="number"||typeof o=="string").map((o,s)=>({customDescription:r[s],customName:n[s],description:void 0,value:o}))};var oe=e=>e?.replace(/\\/g,"\\\\").replace(/'/g,"\\'");var mo=({definition:e,getModel:t,openApi:r,types:n})=>{let o=[];return Object.entries(e.properties??{}).forEach(([s,a])=>{let p=!!e.required?.includes(s);if(a.$ref){let c=j({type:a.$ref});o.push({$refs:[],base:c.base,description:a.description||null,enum:[],enums:[],exclusiveMaximum:a.exclusiveMaximum,exclusiveMinimum:a.exclusiveMinimum,export:"reference",format:a.format,imports:c.imports,in:"",isDefinition:false,isNullable:a["x-nullable"]===true,isReadOnly:a.readOnly===true,isRequired:p,link:null,maxItems:a.maxItems,maxLength:a.maxLength,maxProperties:a.maxProperties,maximum:a.maximum,minItems:a.minItems,minLength:a.minLength,minProperties:a.minProperties,minimum:a.minimum,multipleOf:a.multipleOf,name:je(s),pattern:oe(a.pattern),properties:[],template:c.template,type:c.type,uniqueItems:a.uniqueItems});}else {let c=t({definition:a,openApi:r,types:n});o.push({$refs:[],base:c.base,description:a.description||null,enum:c.enum,enums:c.enums,exclusiveMaximum:a.exclusiveMaximum,exclusiveMinimum:a.exclusiveMinimum,export:c.export,format:a.format,imports:c.imports,in:"",isDefinition:false,isNullable:a["x-nullable"]===true,isReadOnly:a.readOnly===true,isRequired:p,link:c.link,maxItems:a.maxItems,maxLength:a.maxLength,maxProperties:a.maxProperties,maximum:a.maximum,minItems:a.minItems,minLength:a.minLength,minProperties:a.minProperties,minimum:a.minimum,multipleOf:a.multipleOf,name:je(s),pattern:oe(a.pattern),properties:c.properties,template:c.template,type:c.type,uniqueItems:a.uniqueItems});}}),o};var Ky=/~1/g,zy=/~0/g;function Z(e,t){if(t.$ref){let r=t.$ref.replace(/^#/g,"").split("/").filter(Boolean),n=e;return r.forEach(o=>{let s=decodeURIComponent(o.replace(Ky,"/").replace(zy,"~"));if(n.hasOwnProperty(s))n=n[s];else throw new Error(`Could not find reference: "${t.$ref}"`)}),n}return t}var gc=({definitions:e,getModel:t,openApi:r,required:n,types:o})=>e.reduce((s,a)=>{if(a.$ref){let p=Z(r,a);return [...s,...t({definition:p,openApi:r,types:o}).properties]}return [...s,...t({definition:a,openApi:r,types:o}).properties]},[]).filter(s=>!s.isRequired&&n.includes(s.name)).map(s=>({...s,isRequired:true}));var hc=({definition:e,definitions:t,getModel:r,openApi:n,type:o,types:s})=>{let a={$refs:[],enums:[],export:o,imports:[],properties:[]},p=[];if(t.map(c=>r({definition:c,openApi:n,types:s})).filter(c=>{let m=c.properties.length,l=c.enums.length;return !(c.type==="unknown"&&!m&&!l)}).forEach(c=>{a.imports.push(...c.imports),a.enums.push(...c.enums),a.properties.push(c);}),e.required&&o==="all-of"){let c=gc({definitions:t,getModel:r,openApi:n,required:e.required,types:s});c.forEach(m=>{a.imports.push(...m.imports),a.enums.push(...m.enums);}),p.push(...c);}if(e.properties){let c=mo({definition:e,getModel:r,openApi:n,types:s});c.forEach(m=>{a.imports.push(...m.imports),a.enums.push(...m.enums),m.export==="enum"&&a.enums.push(m);}),p.push(...c);}return p.length&&a.properties.push({$refs:[],base:"unknown",description:"",enum:[],enums:[],export:"interface",imports:[],in:"",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:false,link:null,name:"properties",properties:p,template:null,type:"unknown"}),a};var ut=({definition:e,isDefinition:t=false,meta:r,openApi:n,types:o})=>{let s={$refs:[],base:"unknown",description:e.description||null,enum:[],enums:[],exclusiveMaximum:e.exclusiveMaximum,exclusiveMinimum:e.exclusiveMinimum,export:"interface",format:e.format,imports:[],in:"",isDefinition:t,isNullable:e["x-nullable"]===true,isReadOnly:e.readOnly===true,isRequired:false,link:null,maxItems:e.maxItems,maxLength:e.maxLength,maxProperties:e.maxProperties,maximum:e.maximum,meta:r,minItems:e.minItems,minLength:e.minLength,minProperties:e.minProperties,minimum:e.minimum,multipleOf:e.multipleOf,name:r?.name??"",pattern:oe(e.pattern),properties:[],template:null,type:"unknown",uniqueItems:e.uniqueItems};if(e.$ref){let a=j({type:e.$ref});return s.export="reference",s.type=a.type,s.base=a.base,s.template=a.template,s.imports.push(...a.imports),s}if(e.enum&&e.type!=="boolean"){let a=wr(e,e.enum);if(a.length)return s.base="string",s.enum=[...s.enum,...a],s.export="enum",s.type="string",s}if(e.type==="array"&&e.items)if(e.items.$ref){let a=j({type:e.items.$ref});return s.export="array",s.type=a.type,s.base=a.base,s.template=a.template,s.imports.push(...a.imports),s}else {let a=ut({definition:e.items,openApi:n,types:o});return s.export="array",s.type=a.type,s.base=a.base,s.template=a.template,s.link=a,s.imports.push(...a.imports),s}if(e.type==="object"&&typeof e.additionalProperties=="object")if(e.additionalProperties.$ref){let a=j({type:e.additionalProperties.$ref});return s.export="dictionary",s.type=a.type,s.base=a.base,s.template=a.template,s.imports.push(...a.imports),s}else {let a=ut({definition:e.additionalProperties,openApi:n,types:o});return s.export="dictionary",s.type=a.type,s.base=a.base,s.template=a.template,s.link=a,s.imports.push(...a.imports),s}if(e.allOf?.length){let a=hc({definition:e,definitions:e.allOf,getModel:ut,openApi:n,type:"all-of",types:o});return s.export=a.export,s.imports.push(...a.imports),s.properties.push(...a.properties),s.enums=[...s.enums,...a.enums],s}if(e.type==="object")return s.export="interface",s.type="unknown",s.base="unknown",e.properties&&mo({definition:e,getModel:ut,openApi:n,types:o}).forEach(p=>{s.imports.push(...p.imports),s.enums=[...s.enums,...p.enums],s.properties.push(p),p.export==="enum"&&(s.enums=[...s.enums,p]);}),s;if(e.type){let a=j({format:e.format,type:e.type});return s.export="generic",s.type=a.type,s.base=a.base,s.template=a.template,s.imports.push(...a.imports),s}return s};var xc=e=>{let t={},r=[];return Object.entries(e.definitions??{}).forEach(([n,o])=>{let a=j({type:n}).base.replace(Se,"_$1"),p={$ref:`#/definitions/${n}`,name:a};t[a]=p;let c=ut({definition:o,isDefinition:true,meta:p,openApi:e,types:t});r=[...r,c];}),{models:r,types:t}};function qr(e,t){let r=e.toLocaleLowerCase(),n=t.toLocaleLowerCase();return r.localeCompare(n,"en")}var un=(e,t)=>qr(e.name,t.name);function dn(e){return e.sort(un)}var Qy=(e,t)=>{if(t)return t;if(typeof e=="number")return `'_${e}'`;let r="";return typeof e=="string"&&(r=e.replace(/[^$\u200c\u200d\p{ID_Continue}]/gu,"_").replace(/^([^$_\p{ID_Start}])/u,"_$1").replace(/(\p{Lowercase})(\p{Uppercase}+)/gu,"$1_$2")),r=r.trim(),r||(r="empty_string"),r.toUpperCase()},bc=e=>e.map(t=>lo(t.value,true)).filter(he).join(" | "),lo=(e,t=false)=>typeof e=="string"?e.includes("'")&&t?`"${e}"`:`'${e}'`:e,fo=e=>{let t=Qy(e.value,e.customName),r=lo(e.value);return {key:t,value:r}},uo=e=>{let t=e.enum.map(r=>fo(r)).sort((r,n)=>qr(r.key,n.key)).map(r=>`${r.key}=${r.value}`).join("&");return {$ref:`enum/${e.name}/${t}`,name:He(dr(e.name))}};var Sc=e=>{let r=`Parameter${j({type:e}).base.replace(Se,"_$1")}`;return {$ref:jr+e,name:r}},yo=e=>{let t=fc(e);return {$ref:co+e,name:t}};var yn=e=>e.format==="date"||e.format==="date-time",gi=e=>{let t=T();return e.base==="binary"?i.typeUnionNode({types:["Blob","File"]}):t.plugins["@hey-api/transformers"]?.config.dates&&yn(e)?i.typeNode("Date"):i.typeNode(e.base)},Uy=e=>{let t=e.base==="null"?false:e.isNullable,r=gi(e);if(e.export==="reference"&&e.$refs.length===1&&e.$refs[0].startsWith(co)){let o=yo(e.base);r=i.typeNode(o.name);}return i.typeUnionNode({isNullable:t,types:[r]})},Zy=e=>{if(e.link){if(Array.isArray(e.link)){let t=e.link.map(n=>$e(n));return i.typeTupleNode({isNullable:e.isNullable,types:t})}if(e.export==="array"&&e.maxItems&&e.minItems&&e.maxItems===e.minItems&&e.maxItems<=100){let t=Array(e.maxItems).fill($e(e.link));return i.typeTupleNode({isNullable:e.isNullable,types:t})}return i.typeArrayNode([$e(e.link)],e.isNullable)}return i.typeArrayNode([gi(e)],e.isNullable)},Xy=e=>{let t=e.enum.map(r=>lo(r.value));return i.typeUnionNode({isNullable:e.isNullable,types:t})},Gy=e=>{let t=e.link&&!Array.isArray(e.link)?$e(e.link):gi(e);return i.typeRecordNode(["string"],[t],e.isNullable,true)},Oc=({model:e,style:t})=>{let r=e.properties.map(o=>i.nodeToString({node:$e(o),unescape:true})).filter(he),n=t==="union"?i.typeUnionNode({isNullable:e.isNullable&&!e.properties.find(o=>o.isNullable),types:r}):i.typeIntersectionNode({isNullable:e.isNullable,types:r});return e.meta?n:i.typeParenthesizedNode({type:n})},Jy=e=>{if(!e.properties.length)return i.typeNode("unknown");let t=T(),r=K(t),n=e.properties.map(o=>{let s=o.isRequired?"":"?",a=$e(o),p=r?/^\dXX$/.test(o.name)?je(o.name):o.name:je(dr(hi(o.name)));return o.name==="[key: string]"&&(p=o.name,s&&(s="",a=i.typeUnionNode({types:[a,"undefined"]}))),{comment:[o.description&&Q(o.description),o.deprecated&&"@deprecated"],isReadOnly:o.isReadOnly,isRequired:s==="",name:p,type:a}});return i.typeInterfaceNode({isNullable:e.isNullable,properties:n,useLegacyResolution:true})},$e=e=>{switch(e.export){case "all-of":return Oc({model:e,style:"intersection"});case "any-of":case "one-of":return Oc({model:e,style:"union"});case "array":return Zy(e);case "dictionary":return Gy(e);case "enum":return Xy(e);case "interface":return Jy(e);case "const":case "generic":case "reference":default:return Uy(e)}},Fe=({client:e,count:t=1,create:r=false,meta:n,nameTransformer:o})=>{let s={created:false,name:""},a=n.name;o&&(a=o(a)),t>1&&(a=`${a}${t}`);let p=e.types[a];return p?p.$ref===n.$ref?s={created:false,name:a}:s=Fe({client:e,count:t+1,create:r,meta:n,nameTransformer:o}):r&&(e.types[a]=n,s={created:true,name:a}),s},Rc=({client:e,name:t})=>{let r={deleted:false,name:""};return e.types[t]&&(delete e.types[t],r={deleted:true,name:t}),r},hi=e=>{let t=T();return K(t)?k({case:"camelCase",value:ni(e)}).replace(Se,"_$1"):e};var go=e=>{let t=e.find(r=>r.in==="header");return t?t.name:null},dt=e=>e.some(r=>r.isRequired),ho=e=>{if(e==="default")return "default";if(e==="1XX")return "1XX";if(e==="2XX")return "2XX";if(e==="3XX")return "3XX";if(e==="4XX")return "4XX";if(e==="5XX")return "5XX";if(/\d{3}/g.test(e)){let t=Number.parseInt(e,10);if(t>=100&&t<600)return t}return null},xo=(e,t)=>e.code>t.code?1:e.code<t.code?-1:0,Yy=e=>e==="3XX"||e==="4XX"||e==="5XX"||typeof e=="number"&&e>=300,Tc=e=>e==="2XX"||typeof e=="number"&&e>=200&&e<300,eg=(e,t)=>{let r=[],n=m=>{r.includes(m)||(r=[...r,m]);};t.some(({code:m})=>Tc(m))||n("success");let s=(e.description??"").toLocaleLowerCase(),a=e.$refs.join("|").toLocaleLowerCase(),p=["error","problem"];return ["success"].some(m=>s.includes(m)||a.includes(m))&&n("success"),p.some(m=>s.includes(m)||a.includes(m))&&n("error"),r.length||n("error"),r},bo=({config:e,operationKey:t})=>{let r=e.plugins["@hey-api/sdk"]?.config.filter?new RegExp(e.plugins["@hey-api/sdk"]?.config.filter):void 0;return !r||r.test(t)},So=({config:e,method:t,operationId:r,path:n})=>{if(e.plugins["@hey-api/sdk"]?.config.operationId&&r)return k({case:"camelCase",value:_e(r)});let o=n;return K(e)&&(o=o.replace(/[^/]*?{api-version}.*?\//g,"")),o=o.replace(/{(.*?)}/g,"by-$1").replace(/[/:+]/g,"-"),k({case:"camelCase",value:`${t}-${o}`})},Oo=e=>{let t=T();return !K(t)||e.prop!=="api-version"},Ro=e=>{let t=T();return K(t)?hi(e.prop):e.prop},To=e=>e.map(t=>{let{code:r}=t;return r==="default"?t.responseTypes=eg(t,e):Tc(r)?t.responseTypes=["success"]:Yy(r)&&(t.responseTypes=["error"]),t});var X=(e,t)=>{if(e.default===void 0||e.default===null)return e.default;switch(Nr(e).find(o=>o!=="null")||typeof e.default){case "int":case "integer":case "number":if(t?.export==="enum"&&t.enum?.[e.default]){let{value:o}=t.enum[e.default];return o}return e.default;case "array":case "boolean":case "object":case "string":return e.default;default:return}};var Pc=({openApi:e,parameter:t,types:r})=>{let n={$refs:[],base:"unknown",description:t.description||null,enum:[],enums:[],exclusiveMaximum:t.exclusiveMaximum,exclusiveMinimum:t.exclusiveMinimum,export:"interface",format:t.format,imports:[],in:t.in,isDefinition:false,isNullable:t["x-nullable"]===true,isReadOnly:false,isRequired:t.required===true,link:null,maxItems:t.maxItems,maxLength:t.maxLength,maximum:t.maximum,mediaType:null,minItems:t.minItems,minLength:t.minLength,minimum:t.minimum,multipleOf:t.multipleOf,pattern:oe(t.pattern),prop:t.name,properties:[],template:null,type:"unknown",uniqueItems:t.uniqueItems},o={...n,name:Ro(n)};if(t.$ref){let a=j({type:t.$ref});return o={...o,$refs:[...o.$refs,...a.$refs],base:a.base,export:"reference",imports:[...o.imports,...a.imports],template:a.template,type:a.type},o.default=X(t,o),o}if(t.enum){let a=wr(t,t.enum);if(a.length)return o={...o,base:"string",enum:[...o.enum,...a],export:"enum",type:"string"},o.default=X(t,o),o}if(t.type==="array"&&t.items){let a=j({format:t.items.format,type:t.items.type});return o={...o,$refs:[...o.$refs,...a.$refs],base:a.base,export:"array",imports:[...o.imports,...a.imports],template:a.template,type:a.type},o.default=X(t,o),o}if(t.type==="object"&&t.items){let a=j({format:t.items.format,type:t.items.type});return o={...o,$refs:[...o.$refs,...a.$refs],base:a.base,export:"dictionary",imports:[...o.imports,...a.imports],template:a.template,type:a.type},o.default=X(t,o),o}let s=t.schema;if(s){if(s.$ref?.startsWith("#/parameters/")&&(s=Z(e,s)),s.$ref){let p=j({type:s.$ref});return o={...o,$refs:[...o.$refs,...p.$refs],base:p.base,export:"reference",imports:[...o.imports,...p.imports],template:p.template,type:p.type},o.default=X(t,o),o}let a=ut({definition:s,openApi:e,types:r});return o={...o,$refs:[...o.$refs,...a.$refs],base:a.base,enum:[...o.enum,...a.enum],enums:[...o.enums,...a.enums],export:a.export,imports:[...o.imports,...a.imports],link:a.link,properties:[...o.properties,...a.properties],template:a.template,type:a.type},o.default=X(t,o),o}if(t.type){let a=j({format:t.format,type:t.type});return o={...o,$refs:[...o.$refs,...a.$refs],base:a.base,export:"generic",imports:[...o.imports,...a.imports],template:a.template,type:a.type},o.default=X(t,o),o}return o};var tg=["body","formData","header","path","query"],Po=({openApi:e,parameters:t,types:r})=>{let n={$refs:[],imports:[],parameters:[],parametersBody:null,parametersCookie:[],parametersForm:[],parametersHeader:[],parametersPath:[],parametersQuery:[]};return t.forEach(o=>{let s=Z(e,o),a=Pc({openApi:e,parameter:s,types:r}),p=!Oo(a);if(!(!tg.includes(s.in)||p)){switch(s.in){case "body":n.parametersBody=a;break;case "formData":n.parametersForm=[...n.parametersForm,a];break;case "header":n.parametersHeader=[...n.parametersHeader,a];break;case "path":n.parametersPath=[...n.parametersPath,a];break;case "query":n.parametersQuery=[...n.parametersQuery,a];break}n.$refs=[...n.$refs,...a.$refs],n.imports=[...n.imports,...a.imports],n.parameters=[...n.parameters,a];}}),n};function Ao(e){return e.sort((t,r)=>{let n=t.isRequired&&t.default===void 0,o=r.isRequired&&r.default===void 0;return n&&!o?-1:o&&!n?1:0})}var Ac=({code:e,openApi:t,response:r,types:n})=>{let o={$refs:[],base:e!==204?"unknown":"void",code:e,description:r.description||null,enum:[],enums:[],export:"generic",imports:[],in:"response",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:false,link:null,name:"",properties:[],responseTypes:[],template:null,type:e!==204?"unknown":"void"},s=r.schema;if(s){if(s.$ref?.startsWith("#/responses/")&&(s=Z(t,s)),s.$ref){let p=j({type:s.$ref});return o.export="reference",o.type=p.type,o.base=p.base,o.template=p.template,o.imports=[...o.imports,...p.imports],o}let a=ut({definition:s,openApi:t,types:n});return o.export=a.export,o.type=a.type,o.base=a.base,o.template=a.template,o.link=a.link,o.isReadOnly=a.isReadOnly,o.isRequired=a.isRequired,o.isNullable=a.isNullable,o.format=a.format,o.maximum=a.maximum,o.exclusiveMaximum=a.exclusiveMaximum,o.minimum=a.minimum,o.exclusiveMinimum=a.exclusiveMinimum,o.multipleOf=a.multipleOf,o.maxLength=a.maxLength,o.minLength=a.minLength,o.maxItems=a.maxItems,o.minItems=a.minItems,o.uniqueItems=a.uniqueItems,o.maxProperties=a.maxProperties,o.minProperties=a.minProperties,o.pattern=oe(a.pattern),o.imports=[...o.imports,...a.imports],o.enum=[...o.enum,...a.enum],o.enums=[...o.enums,...a.enums],o.properties=[...o.properties,...a.properties],o}if(r.headers)for(let a in r.headers)return o.in="header",o.name=a,o.type="string",o.base="string",o;return o};var Ic=({openApi:e,responses:t,types:r})=>{let n=[];return Object.entries(t).forEach(([o,s])=>{let a=ho(o);if(!a)return;let p=Z(e,s),c=Ac({code:a,openApi:e,response:p,types:r});n=[...n,c];}),n=To(n),n.sort(xo)};var Cc=({method:e,op:t,openApi:r,pathParams:n,types:o,url:s})=>{let a={$refs:[],deprecated:t.deprecated===true,description:t.description||null,id:t.operationId||null,imports:[],method:e.toUpperCase(),parameters:[...n.parameters],parametersBody:n.parametersBody,parametersCookie:[...n.parametersCookie],parametersForm:[...n.parametersForm],parametersHeader:[...n.parametersHeader],parametersPath:[...n.parametersPath],parametersQuery:[...n.parametersQuery],path:s,responseHeader:null,responses:[],summary:t.summary||null,tags:t.tags||null},p={...a,name:So({config:T(),method:a.method,operationId:t.operationId,path:a.path})};if(t.parameters){let c=Po({openApi:r,parameters:t.parameters,types:o});p.$refs=[...p.$refs,...c.$refs],p.imports=[...p.imports,...c.imports],p.parameters=[...p.parameters,...c.parameters],p.parametersBody=c.parametersBody,p.parametersCookie=[...p.parametersCookie,...c.parametersCookie],p.parametersForm=[...p.parametersForm,...c.parametersForm],p.parametersHeader=[...p.parametersHeader,...c.parametersHeader],p.parametersPath=[...p.parametersPath,...c.parametersPath],p.parametersQuery=[...p.parametersQuery,...c.parametersQuery];}if(t.responses){p.responses=Ic({openApi:r,responses:t.responses,types:o});let c=p.responses.filter(m=>m.responseTypes.includes("success"));p.responseHeader=go(c),c.forEach(m=>{p.$refs=[...p.$refs,...m.$refs],p.imports=[...p.imports,...m.imports];});}return p.parameters=Ao(p.parameters),p};var Ec=({openApi:e,types:t})=>{let r=new Map,n=[],o=T();for(let s in e.paths){let a=e.paths[s],p=Po({openApi:e,parameters:a.parameters??[],types:t});for(let c in a){let m=c,l=B({method:m,path:s});if(ao.includes(m)){let f=a[m];if(f.operationId&&(r.has(f.operationId)?o.logs.level!=="silent"&&console.warn(`\u2757\uFE0F Duplicate operationId: ${f.operationId} in ${l}. Please ensure your operation IDs are unique. This behavior is not supported and will likely lead to unexpected results.`):r.set(f.operationId,l)),bo({config:o,operationKey:l})){let u=Cc({method:m,op:f,openApi:e,pathParams:p,types:t,url:s});n.push(u);}}}}return n};var vc=e=>{let t=e.schemes?.[0]||"http",r=e.host,n=e.basePath||"";return (r?`${t}://${r}${n}`:n).replace(/\/$/g,"")};var kc=e=>{let t=po(e.info.version),r=vc(e),{models:n,types:o}=xc(e),s=Ec({openApi:e,types:o});return {models:n,operations:s,server:r,types:o,version:t}};var rg=e=>{let t={};for(let r in e)t[e[r]]=r;return t},jc=(e,t)=>{if(e.components&&t){for(let r in e.components.schemas)if(e.components.schemas.hasOwnProperty(r)){let n=e.components.schemas[r];if(n.discriminator&&n.oneOf?.length&&n.oneOf.some(o=>o.$ref&&fn(o.$ref)==t.name))return n.discriminator}}},Nc=(e,t)=>{if(e.mapping){let r=rg(e.mapping),n=Object.keys(r).find(o=>fn(o)==t.name);if(n&&r[n])return r[n]}return t.name};var xi=({debug:e,definition:t,getModel:r,model:n,openApi:o,types:s})=>{let a=typeof t.additionalProperties=="object"?t.additionalProperties:{},p=r({debug:e,definition:a,openApi:o,parentDefinition:t,types:s});if(a.$ref){let c=j({type:a.$ref});return n.base=c.base,n.default=X(t,n),n.export="dictionary",n.imports.push(...c.imports),n.template=c.template,n.type=c.type,n}if(t.additionalProperties&&t.properties&&Object.keys(t.properties).length>0){let c=typeof t.additionalProperties=="object"&&t.additionalProperties.type&&!Array.isArray(t.additionalProperties.type)?t.additionalProperties.type:p.base,m=[j({type:c}).base,...n.properties.map(l=>l.base)];return p.base=m.filter(he).join(" | "),p.default=X(t,n),p.export="generic",p.isRequired=t.additionalProperties===true,p.name="[key: string]",p}return n.base=p.base,n.default=X(t,n),n.export="dictionary",n.imports.push(...p.imports),n.link=p,n.template=p.template,n.type=p.type,n},Io=({debug:e,definition:t,getModel:r,openApi:n,parent:o,types:s})=>{let a=[],p=jc(n,o);return Object.entries(t.properties??{}).forEach(([c,m])=>{let l=!!t.required?.includes(c),f={default:m.default,deprecated:m.deprecated===true,description:m.description||null,exclusiveMaximum:m.exclusiveMaximum,exclusiveMinimum:m.exclusiveMinimum,format:m.type==="array"?m.items?.format??m.format:m.format,in:"",isDefinition:false,isReadOnly:m.readOnly===true,isRequired:l,maxItems:m.maxItems,maxLength:m.maxLength,maxProperties:m.maxProperties,maximum:m.maximum,minItems:m.minItems,minLength:m.minLength,minProperties:m.minProperties,minimum:m.minimum,multipleOf:m.multipleOf,name:je(c),pattern:oe(m.pattern),uniqueItems:m.uniqueItems};if(o&&p?.propertyName==c){a=[...a,{...f,$refs:[],base:`'${Nc(p,o)}'`,enum:[],enums:[],export:"reference",imports:[],isNullable:Wt(m),link:null,properties:[],template:null,type:"string"}];return}if(m.$ref){let d=j({type:m.$ref});a=[...a,{...f,$refs:d.$refs,base:d.base,enum:[],enums:[],export:"reference",imports:d.imports,isNullable:d.isNullable||Wt(m),link:null,properties:[],template:d.template,type:d.type}];return}let u=r({debug:e,definition:m,initialValues:f,openApi:n,parentDefinition:t,types:s});u.isNullable=u.isNullable||Wt(m),a=[...a,u];}),a};var wc=({debug:e,definitions:t,getModel:r,openApi:n,required:o,types:s})=>t.reduce((p,c)=>{if(c.$ref){let m=j({type:c.$ref}),l={$ref:c.$ref,name:m.base};s[m.base]=l;let f=Z(n,c);return [...p,...r({debug:e,definition:f,meta:l,openApi:n,types:s}).properties]}return [...p,...r({debug:e,definition:c,openApi:n,parentDefinition:c,types:s}).properties]},[]).filter(p=>!p.isRequired&&o.includes(p.name)).map(p=>({...p,isRequired:true}));var Co=e=>[{definitions:e.allOf,type:"all-of"},{definitions:e.anyOf,type:"any-of"},{definitions:e.oneOf,type:"one-of"}].find(r=>r.definitions?.length),qc=({debug:e,definition:t,definitions:r,getModel:n,model:o,openApi:s,type:a,types:p})=>{let c={$refs:o.$refs,enums:o.enums,export:a,imports:o.imports,properties:o.properties},m=[];if(r.map(l=>n({debug:e,definition:l,openApi:s,parentDefinition:t,types:p})).forEach(l=>{c.$refs=[...c.$refs,...l.$refs],c.imports=[...c.imports,...l.imports],c.enums=[...c.enums,...l.enums],c.properties=[...c.properties,l];}),t.required&&a==="all-of"){let l=wc({debug:e,definitions:r,getModel:n,openApi:s,required:t.required,types:p});l.forEach(f=>{c.$refs=[...c.$refs,...f.$refs],c.imports=[...c.imports,...f.imports],c.enums=[...c.enums,...f.enums];}),m=[...m,...l];}if(t.properties){let l=Io({definition:t,getModel:n,openApi:s,types:p});l.forEach(f=>{c.$refs=[...c.$refs,...f.$refs],c.imports=[...c.imports,...f.imports],c.enums=[...c.enums,...f.enums],f.export==="enum"&&(c.enums=[...c.enums,f]);}),m=[...m,...l];}if(m.length){let l=Co(t);if(l){let f={$refs:[],base:"unknown",description:"",enum:[],enums:[],export:"interface",imports:[],in:"",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:false,link:null,name:"properties",properties:m,template:null,type:"unknown"};l.type==="one-of"?(c.properties=[{...c,base:"",description:null,enum:[],in:"",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:true,link:null,name:"",template:null,type:""},f],c.export="all-of"):c.properties=[...c.properties,f];}}return c};var ye=({debug:e,definition:t,initialValues:r={},isDefinition:n=false,meta:o,openApi:s,parentDefinition:a=null,types:p})=>{let c=Nr(t),m=uc(t,c),l={$refs:[],base:"unknown",deprecated:!!t.deprecated,description:t.description||null,enum:[],enums:[],exclusiveMaximum:t.exclusiveMaximum,exclusiveMinimum:t.exclusiveMinimum,export:"interface",format:t.format,imports:[],in:"",isDefinition:n,isNullable:Wt(t),isReadOnly:t.readOnly===true,isRequired:false,link:null,maxItems:t.maxItems,maxLength:t.maxLength,maxProperties:t.maxProperties,maximum:t.maximum,meta:o,minItems:t.minItems,minLength:t.minLength,minProperties:t.minProperties,minimum:t.minimum,multipleOf:t.multipleOf,name:o?.name??"",pattern:oe(t.pattern),properties:[],template:null,type:"unknown",uniqueItems:t.uniqueItems,...r};if(t.$ref){let u=j({debug:e,type:t.$ref});return l.$refs=[...l.$refs,decodeURIComponent(t.$ref)],l.base=u.base,l.export="reference",l.imports=[...l.imports,...u.imports],l.template=u.template,l.type=u.type,l.default=X(t,l),l}if(m==="enum"){let u=wr(t,t.enum);if(u.length)return l.base="string",l.enum=[...l.enum,...u],l.export="enum",l.type="string",l.default=X(t,l),l.meta||(l.meta=uo(l)),l}if(c.includes("array")&&(t.items||t.prefixItems)){if(t.prefixItems){let y=t.prefixItems.map(h=>ye({definition:h,openApi:s,parentDefinition:t,types:p}));return l.export="array",l.$refs=[...l.$refs,...y.reduce((h,x)=>[...h,...x.$refs],[])],l.imports=[...l.imports,...y.reduce((h,x)=>[...h,...x.imports],[])],l.link=y,l.default=X(t,l),l}if(!t.items)return l;if(t.items.$ref){let y=j({type:t.items.$ref});return l.$refs=[...l.$refs,decodeURIComponent(t.items.$ref)],l.base=y.base,l.export="array",l.imports=[...l.imports,...y.imports],l.template=y.template,l.type=y.type,l.default=X(t,l),l}if(t.items.anyOf&&a&&a.type){let y=Co(a);if(y&&y.definitions.some(h=>!Nr(h).includes("array")))return ye({definition:t.items,openApi:s,parentDefinition:t,types:p})}let u=Array.isArray(t.items)?{anyOf:t.items}:t.items,d=ye({definition:u,openApi:s,parentDefinition:t,types:p});return l.base=d.base,l.export="array",l.$refs=[...l.$refs,...d.$refs],l.imports=[...l.imports,...d.imports],l.link=d,l.template=d.template,l.type=d.type,l.default=X(t,l),l}let f=Co(t);if(f){let u=qc({...f,debug:e,definition:t,getModel:ye,model:l,openApi:s,types:p});return {...l,...u}}if(c.includes("object")||t.properties||t.additionalProperties){if(t.properties&&(Object.keys(t.properties).length>0||!t.additionalProperties)){if(l.base="unknown",l.export="interface",l.type="unknown",l.default=X(t,l),Io({debug:e,definition:t,getModel:ye,openApi:s,parent:l,types:p}).forEach(y=>{l.$refs=[...l.$refs,...y.$refs],l.enums=[...l.enums,...y.enums],l.imports=[...l.imports,...y.imports],l.properties=[...l.properties,y],y.export==="enum"&&(l.enums=[...l.enums,y]);}),t.additionalProperties){let y=xi({debug:e,definition:t,getModel:ye,model:l,openApi:s,types:p});l.properties=[...l.properties,y];}return !l.properties.length&&l.base==="unknown"&&l.type==="unknown"&&(l.export="dictionary",l.name||(l.name="[key: string]")),l}return xi({debug:e,definition:t,getModel:ye,model:l,openApi:s,types:p})}if(t.const!==void 0){let u=t.const,d=typeof u=="string"?`"${u}"`:`${u}`;return l.base=d,l.export="const",l.type=d,l}if(c.length){let u=j({format:t.format,type:t.type});return l.base=u.base,l.export="generic",l.$refs=[...l.$refs,...u.$refs],l.imports=[...l.imports,...u.imports],l.isNullable=u.isNullable||l.isNullable,l.template=u.template,l.type=u.type,l.default=X(t,l),l}return l};var Eo=e=>{if(e.schema)return e.schema;if(e.content){let t=Object.entries(e.content);for(let[r,n]of t)if(n.schema){let o=r;return e.content[o].schema}}};var $c=e=>{let t={},r=[];return e.components?(Object.entries(e.components.schemas??{}).forEach(([n,o])=>{let s=yo(n);t[s.name]=s;let a=ye({definition:o,isDefinition:true,meta:s,openApi:e,types:t});r=[...r,a];}),Object.entries(e.components.parameters??{}).forEach(([n,o])=>{let s=Eo(o);if(!s)return;let a=Sc(n);t[a.name]=a;let p=ye({definition:s,isDefinition:true,meta:a,openApi:e,types:t});p.deprecated=o.deprecated,p.description=o.description||null,r=[...r,p];}),{models:r,types:t}):{models:r,types:t}};var Fc=({openApi:e,parameter:t,types:r})=>{let n={$refs:[],base:"unknown",deprecated:t.deprecated===true,description:t.description||null,enum:[],enums:[],export:"interface",imports:[],in:t.in,isDefinition:false,isNullable:Wt(t),isReadOnly:false,isRequired:t.required===true,link:null,mediaType:null,prop:t.name,properties:[],template:null,type:"unknown"},o={...n,name:Ro(n)};if(t.$ref){let a=j({type:t.$ref});return o={...o,$refs:[...o.$refs,...a.$refs],base:a.base,export:"reference",imports:[...o.imports,...a.imports],template:a.template,type:a.type},o}let s=Eo(t);if(s){if(s.$ref?.startsWith(jr)&&(s=Z(e,s)),s.$ref){let p=j({type:s.$ref});return o={...o,$refs:[...o.$refs,...p.$refs],base:p.base,export:"reference",imports:[...o.imports,...p.imports],template:p.template,type:p.type},o.default=X(s),o}let a=ye({definition:s,openApi:e,types:r});return o={...o,$refs:[...o.$refs,...a.$refs],base:a.base,enum:[...o.enum,...a.enum],enums:[...o.enums,...a.enums],exclusiveMaximum:a.exclusiveMaximum,exclusiveMinimum:a.exclusiveMinimum,export:a.export,format:a.format,imports:[...o.imports,...a.imports],isNullable:o.isNullable||a.isNullable,isReadOnly:a.isReadOnly,isRequired:o.isRequired||a.isRequired,link:a.link,maxItems:a.maxItems,maxLength:a.maxLength,maxProperties:a.maxProperties,maximum:a.maximum,minItems:a.minItems,minLength:a.minLength,minProperties:a.minProperties,minimum:a.minimum,multipleOf:a.multipleOf,pattern:oe(a.pattern),properties:[...o.properties,...a.properties],template:a.template,type:a.type,uniqueItems:a.uniqueItems},(o.enum.length||o.enums.length)&&!o.meta&&(o.meta=uo(o)),o.default=a.default,o}return o};var ng=["cookie","formData","header","path","query"],vo=({openApi:e,parameters:t,types:r})=>{let n={$refs:[],imports:[],parameters:[],parametersBody:null,parametersCookie:[],parametersForm:[],parametersHeader:[],parametersPath:[],parametersQuery:[]};return t.forEach(o=>{let s=Z(e,o),a=Fc({openApi:e,parameter:s,types:r}),p=!Oo(a);if(!(!ng.includes(s.in)||p)){switch(s.in){case "cookie":n.parametersCookie=[...n.parametersCookie,a];break;case "formData":n.parametersForm=[...n.parametersForm,a];break;case "header":n.parametersHeader=[...n.parametersHeader,a];break;case "path":n.parametersPath=[...n.parametersPath,a];break;case "query":n.parametersQuery=[...n.parametersQuery,a];break}n.$refs=[...n.$refs,...a.$refs],n.imports=[...n.imports,...a.imports],n.parameters=[...n.parameters,a];}}),n};var og=["application/json-patch+json","application/json","application/ld+json","application/x-www-form-urlencoded","multipart/batch","multipart/form-data","multipart/mixed","multipart/related","text/json","text/plain"],ko=(e,t)=>{let r=Object.keys(t).filter(o=>{let s=o.split(";")[0].trim();return og.includes(s)}).find(o=>!!t[o]?.schema);if(r)return {mediaType:r,schema:t[r].schema};let n=Object.keys(t).find(o=>!!t[o]?.schema);if(n)return {mediaType:n,schema:t[n].schema}};var Dc=({body:e,debug:t,openApi:r,types:n})=>{let o=e["x-body-name"]??"requestBody",s={$refs:[],base:"unknown",default:void 0,description:e.description||null,enum:[],enums:[],export:"interface",imports:[],in:"body",isDefinition:false,isNullable:e.nullable===true,isReadOnly:false,isRequired:e.required===true,link:null,mediaType:null,name:o,prop:o,properties:[],template:null,type:"unknown"};if(!e.content)return s;let a=ko(r,e.content);if(!a)return s;switch(s.mediaType=a.mediaType,s.mediaType){case "application/x-www-form-urlencoded":case "multipart/form-data":s.in="formData",s.name="formData",s.prop="formData";break}if(a.schema.$ref){let c=j({type:a.schema.$ref});return s.export="reference",s.type=c.type,s.base=c.base,s.template=c.template,s.$refs=[...s.$refs,...c.$refs],s.imports=[...s.imports,...c.imports],s}let p=ye({debug:t,definition:a.schema,openApi:r,types:n});return s.$refs=[...s.$refs,...p.$refs],s.base=p.base,s.enum=[...s.enum,...p.enum],s.enums=[...s.enums,...p.enums],s.exclusiveMaximum=p.exclusiveMaximum,s.exclusiveMinimum=p.exclusiveMinimum,s.export=p.export,s.format=p.format,s.imports=[...s.imports,...p.imports],s.isNullable=s.isNullable||p.isNullable,s.isReadOnly=p.isReadOnly,s.isRequired=s.isRequired||p.isRequired,s.link=p.link,s.maximum=p.maximum,s.maxItems=p.maxItems,s.maxLength=p.maxLength,s.maxProperties=p.maxProperties,s.minimum=p.minimum,s.minItems=p.minItems,s.minLength=p.minLength,s.minProperties=p.minProperties,s.multipleOf=p.multipleOf,s.pattern=oe(p.pattern),s.properties=[...s.properties,...p.properties],s.template=p.template,s.type=p.type,s.uniqueItems=p.uniqueItems,s};var Mc=({code:e,openApi:t,response:r,types:n})=>{let o={$refs:[],base:e!==204?"unknown":"void",code:e,description:r.description||null,enum:[],enums:[],export:"generic",imports:[],in:"response",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:false,link:null,name:"",properties:[],responseTypes:[],template:null,type:e!==204?"unknown":"void"};if(r.content){let s=ko(t,r.content);if(s){if(s.schema.$ref?.startsWith("#/components/responses/")&&(s.schema=Z(t,s.schema)),s.schema.$ref){let p=j({type:s.schema.$ref});return o.base=p.base,o.export="reference",o.$refs=[...o.$refs,...p.$refs],o.imports=[...o.imports,...p.imports],o.template=p.template,o.type=p.type,o}let a=ye({definition:s.schema,openApi:t,types:n});return o.export=a.export,o.type=a.type,o.base=a.base,o.template=a.template,o.link=a.link,o.isReadOnly=a.isReadOnly,o.isRequired=a.isRequired,o.isNullable=a.isNullable,o.format=a.format,o.maximum=a.maximum,o.exclusiveMaximum=a.exclusiveMaximum,o.minimum=a.minimum,o.exclusiveMinimum=a.exclusiveMinimum,o.multipleOf=a.multipleOf,o.maxLength=a.maxLength,o.minLength=a.minLength,o.maxItems=a.maxItems,o.minItems=a.minItems,o.uniqueItems=a.uniqueItems,o.maxProperties=a.maxProperties,o.minProperties=a.minProperties,o.pattern=oe(a.pattern),o.$refs=[...o.$refs,...a.$refs],o.imports=[...o.imports,...a.imports],o.enum=[...o.enum,...a.enum],o.enums=[...o.enums,...a.enums],o.properties=[...o.properties,...a.properties],o}}if(r.headers)for(let s in r.headers)return o.in="header",o.name=s,o.type="string",o.base="string",o;return o};var Lc=({openApi:e,responses:t,types:r})=>{let n=[];return Object.entries(t).forEach(([o,s])=>{let a=ho(o);if(!a)return;let p=Z(e,s),c=Mc({code:a,openApi:e,response:p,types:r});n=[...n,c];}),n=To(n),n.sort(xo)};var $r=(e,t)=>{let r=[...e],n=[...t];for(;n.length>0;){let o=n[0];n=n.slice(1),r.every(a=>a.in!==o.in||a.name!==o.name)&&(r=[...r,o]);}return r},Bc=({debug:e,method:t,op:r,openApi:n,pathParams:o,types:s,url:a})=>{let p={$refs:[],deprecated:!!r.deprecated,description:r.description||null,id:r.operationId||null,imports:[],method:t.toUpperCase(),parameters:[],parametersBody:o.parametersBody,parametersCookie:[],parametersForm:[],parametersHeader:[],parametersPath:[],parametersQuery:[],path:a,responseHeader:null,responses:[],summary:r.summary||null,tags:r.tags||null},c={...p,name:So({config:T(),method:p.method,operationId:r.operationId,path:p.path})};if(r.parameters){let m=vo({openApi:n,parameters:r.parameters,types:s});c.$refs=[...c.$refs,...m.$refs],c.imports=[...c.imports,...m.imports],c.parameters=[...c.parameters,...m.parameters],c.parametersBody=m.parametersBody,c.parametersCookie=[...c.parametersCookie,...m.parametersCookie],c.parametersForm=[...c.parametersForm,...m.parametersForm],c.parametersHeader=[...c.parametersHeader,...m.parametersHeader],c.parametersPath=[...c.parametersPath,...m.parametersPath],c.parametersQuery=[...c.parametersQuery,...m.parametersQuery];}if(r.requestBody){let m=Z(n,r.requestBody),l=Dc({body:m,debug:e,openApi:n,types:s});c.$refs=[...c.$refs,...l.$refs],c.imports=[...c.imports,...l.imports],c.parameters=[...c.parameters,l],c.parametersBody=l;}if(r.responses){c.responses=Lc({openApi:n,responses:r.responses,types:s});let m=c.responses.filter(l=>l.responseTypes.includes("success"));c.responseHeader=go(m),m.forEach(l=>{c.$refs=[...c.$refs,...l.$refs],c.imports=[...c.imports,...l.imports];});}return c.parameters=$r(c.parameters,o.parameters),c.parametersCookie=$r(c.parametersCookie,o.parametersCookie),c.parametersForm=$r(c.parametersForm,o.parametersForm),c.parametersHeader=$r(c.parametersHeader,o.parametersHeader),c.parametersPath=$r(c.parametersPath,o.parametersPath),c.parametersQuery=$r(c.parametersQuery,o.parametersQuery),c.parameters=Ao(c.parameters),c};var Vc=({openApi:e,types:t})=>{let r=new Map,n=[],o=T();for(let s in e.paths){let a=e.paths[s],p=vo({openApi:e,parameters:a.parameters??[],types:t});for(let c in a){let m=c,l=B({method:m,path:s});if(ao.includes(m)){let f=a[m];if(f.operationId&&(r.has(f.operationId)?o.logs.level!=="silent"&&console.warn(`\u2757\uFE0F Duplicate operationId: ${f.operationId} in ${l}. Please ensure your operation IDs are unique. This behavior is not supported and will likely lead to unexpected results.`):r.set(f.operationId,l)),bo({config:o,operationKey:l})){let u=Bc({method:m,op:f,openApi:e,pathParams:p,types:t,url:s});n.push(u);}}}}return n};var Hc=e=>{let t=e.servers?.[0],r=t?.variables||{},n=t?.url||"";return Object.entries(r).forEach(([o,s])=>{n=n.replace(`{${o}}`,s.default);}),n.replace(/\/$/g,"")};var _c=e=>{let t=po(e.info.version),r=Hc(e),{models:n,types:o}=$c(e),s=Vc({openApi:e,types:o});return {models:n,operations:s,server:r,types:o,version:t}};function Wc({openApi:e}){let t=e;if("openapi"in t)return _c(t);if("swagger"in t)return kc(t);throw new Error(`Unsupported OpenAPI specification: ${JSON.stringify(t,null,2)}`)}var Kc=({config:e,dependencies:t,logger:r,spec:n})=>{let o=new Yn({config:e,dependencies:t,logger:r,spec:n});if("swagger"in o.spec)return li(o),o;switch(o.spec.openapi){case "3.0.0":case "3.0.1":case "3.0.2":case "3.0.3":case "3.0.4":return fi(o),o;case "3.1.0":case "3.1.1":return ui(o),o;}throw new Error("Unsupported OpenAPI specification")};var sg=({securitySchemeObject:e})=>{if(e.type==="openIdConnect")return {scheme:"bearer",type:"http"};if(e.type==="oauth2")return e.flows.password||e.flows.authorizationCode||e.flows.clientCredentials||e.flows.implicit?{scheme:"bearer",type:"http"}:void 0;if(e.type==="apiKey")return e.in==="header"?{name:e.name,type:"apiKey"}:e.in==="query"||e.in=="cookie"?{in:e.in,name:e.name,type:"apiKey"}:void 0;if(e.type==="http"){let t=e.scheme.toLowerCase();return t==="bearer"||t==="basic"?{scheme:t,type:"http"}:void 0}},zc=({operation:e,plugin:t})=>{if(!e.security||!t.config.auth)return [];let r=[];for(let n of e.security){let o=sg({securitySchemeObject:n});o?r.push(o):console.warn(`\u2757\uFE0F SDK warning: unsupported security scheme. Please open an issue if you'd like it added https://github.com/hey-api/openapi-ts/issues
${JSON.stringify(n,null,2)}`);}return r};var Fr="TComposable",yt="DefaultT",bi="ResT";var Qc=({operation:e,plugin:t})=>{if(!t.config.validator.request)return;let r=t.getPluginOrThrow(t.config.validator.request);if(r.api.createRequestValidator)return r.api.createRequestValidator({file:t.gen.ensureFile(t.output),operation:e,plugin:r})},Uc=({operation:e,plugin:t})=>{if(!t.config.validator.response)return;let r=t.getPluginOrThrow(t.config.validator.response);if(r.api.createResponseValidator)return r.api.createResponseValidator({file:t.gen.ensureFile(t.output),operation:e,plugin:r})};var Zc=({context:e,value:t})=>{let r=k({case:"PascalCase",value:_e(t)});return _t({config:e.config,name:r})},ig=({operation:e,plugin:t})=>t.config.methodNameBuilder?t.config.methodNameBuilder(e):!t.config.asClass&&e.id.match(Se)?`${e.id}_`:e.id,We=({context:e,operation:t,plugin:r})=>{let n=new Map,o,s,a=[];if(r.config.classStructure==="auto"&&t.operationId&&(a=t.operationId.split(/[./]/).filter(Boolean),a.length>1)){let c=a.pop();s=k({case:"camelCase",value:_e(c)}),o=a.pop();}let p=r.config.instance?[r.config.instance]:t.tags??["default"];for(let c of p){let m=Zc({context:e,value:o||c}),l=[c];o&&(a.includes(c)||c===o?l=[...a,o]:l=[c,...a,o]),n.set(c,{className:m,methodName:s||ig({operation:t,plugin:r}),path:l.map(f=>Zc({context:e,value:f}))});}return n},gn=({file:e,operation:t,plugin:r,throwOnError:n})=>{let s=A(r.context.config).name==="@hey-api/client-nuxt",a=r.getPluginOrThrow("@hey-api/typescript"),p=r.gen.selectSymbolFirst(a.api.getSelector("data",t.id));p&&e.addImport({from:p.file,typeNames:[p.placeholder]});let c=p?.placeholder||"unknown",m=r.gen.selectSymbolFirstOrThrow(r.api.getSelector("Options"));if(s){let l=r.gen.selectSymbolFirst(a.api.getSelector("response",t.id));l&&e.addImport({from:l.file,typeNames:[l.placeholder]});let f=l?.placeholder||"unknown";return `${m.placeholder}<${Fr}, ${c}, ${f}, ${yt}>`}return n?`${m.placeholder}<${c}, ${n}>`:p?`${m.placeholder}<${p.placeholder}>`:m.placeholder},Si=({file:e,isRequiredOptions:t,operation:r,plugin:n})=>{let o={argNames:[],fields:[],parameters:[]},s=n.getPluginOrThrow("@hey-api/typescript"),a={usedTypeIDs:new Set},c=A(n.context.config).name==="@hey-api/client-nuxt";if(n.config.params_EXPERIMENTAL==="experiment"){if(r.parameters?.path)for(let m in r.parameters.path){let l=r.parameters.path[m],f=rt(l.name);o.argNames.push(f),o.fields.push({in:"path",key:f}),o.parameters.push({isRequired:l.required,name:f,type:s.api.schemaToType({onRef:u=>{e.addImport({from:u.file,typeNames:[u.placeholder]});},plugin:s,schema:l.schema,state:a})});}if(r.parameters?.query)for(let m in r.parameters.query){let l=r.parameters.query[m],f=rt(l.name);o.argNames.push(f),o.fields.push({in:"path",key:f}),o.parameters.push({isRequired:l.required,name:f,type:s.api.schemaToType({onRef:u=>{e.addImport({from:u.file,typeNames:[u.placeholder]});},plugin:s,schema:l.schema,state:a})});}if(r.body){let m="body";o.argNames.push(m),o.fields.push({in:"body"}),o.parameters.push({isRequired:r.body.required,name:m,type:s.api.schemaToType({onRef:l=>{e.addImport({from:l.file,typeNames:[l.placeholder]});},plugin:s,schema:r.body.schema,state:a})});}}return o.parameters.push({isRequired:t,name:"options",type:gn({file:e,operation:r,plugin:n,throwOnError:c?void 0:"ThrowOnError"})}),o},ag=e=>{if(!e)return;let t=e.split(";")[0]?.trim();if(t){if(t.startsWith("application/json")||t.endsWith("+json"))return "json";if(["application/","audio/","image/","video/"].some(r=>t.startsWith(r)))return "blob";if(t.startsWith("text/"))return "text"}},Oi=({isRequiredOptions:e,opParameters:t,operation:r,plugin:n})=>{let o=n.gen.ensureFile(n.output),s=A(n.context.config),a=s.name==="@hey-api/client-nuxt",p=n.getPluginOrThrow("@hey-api/typescript"),c=n.gen.selectSymbolFirst(p.api.getSelector(a?"response":"responses",r.id));c&&o.addImport({from:c.file,typeNames:[c.placeholder]});let m=c?.placeholder||"unknown",l=n.gen.selectSymbolFirst(p.api.getSelector(a?"error":"errors",r.id));l&&o.addImport({from:l.file,typeNames:[l.placeholder]});let f=l?.placeholder||"unknown",u=[];if(r.body)switch(r.body.type){case "form-data":{let D=o.ensureSymbol({name:"formDataBodySerializer",selector:n.api.getSelector("formDataBodySerializer")});o.addImport({from:ne({config:n.context.config,sourceOutput:o.path}),names:[D.name]}),u.push({spread:D.placeholder});break}case "json":break;case "text":case "octet-stream":u.push({key:"bodySerializer",value:null});break;case "url-search-params":{let D=o.ensureSymbol({name:"urlSearchParamsBodySerializer",selector:n.api.getSelector("urlSearchParamsBodySerializer")});o.addImport({from:ne({config:n.context.config,sourceOutput:o.path}),names:[D.name]}),u.push({spread:D.placeholder});break}}for(let D in r.parameters?.query){let _=r.parameters.query[D];if((_.schema.type==="array"||_.schema.type==="tuple")&&(_.style!=="form"||!_.explode)){u.push({key:"querySerializer",value:[{key:"array",value:[{key:"explode",value:false},{key:"style",value:"form"}]}]});break}}let d=Qc({operation:r,plugin:n});if(d&&u.push({key:"requestValidator",value:d}),n.config.transformer==="@hey-api/transformers"){let D=n.getPluginOrThrow(n.config.transformer),_=n.gen.selectSymbolFirst(D.api.getSelector("response",r.id));_?.value&&(o.addImport({from:_.file,names:[_.placeholder]}),u.push({key:"responseTransformer",value:_.placeholder}));}let y=false,h;for(let D in r.responses){let _=r.responses[D];!h&&s.name==="@hey-api/client-axios"&&ti({statusCode:D})==="2XX"&&(h=ag(_.mediaType),h&&u.push({key:"responseType",value:h})),_.mediaType==="text/event-stream"&&(y=true);}let x=Uc({operation:r,plugin:n});x&&u.push({key:"responseValidator",value:x}),n.config.responseStyle==="data"&&u.push({key:"responseStyle",value:n.config.responseStyle});let b=zc({context:n.context,operation:r,plugin:n});b.length&&u.push({key:"security",value:i.arrayLiteralExpression({elements:b})}),u.push({key:"url",value:r.path}),u.push({spread:"options"});let I=[],E=t.argNames.length;if(E){let D=[],_=[];for(let Ge of t.argNames)D.push(i.identifier({text:Ge}));for(let Ge of t.fields){let cr=[];"in"in Ge&&(cr.push({key:"in",value:Ge.in}),Ge.key&&cr.push({key:"key",value:Ge.key}),Ge.map&&cr.push({key:"map",value:Ge.map})),_.push(i.objectExpression({obj:cr}));}let St=o.ensureSymbol({name:"buildClientParams",selector:n.api.getSelector("buildClientParams")});o.addImport({aliases:{buildClientParams:St.placeholder},from:ne({config:n.context.config,sourceOutput:o.path}),names:["buildClientParams"]}),I.push(i.constVariable({expression:i.callExpression({functionName:St.placeholder,parameters:[i.arrayLiteralExpression({elements:D}),i.arrayLiteralExpression({elements:_})]}),name:"params"})),u.push({spread:"params"});}if(r.body){let D=r.parameters?.header?.["content-type"];if(!!!D?.required){let St=[{key:D?.name??"Content-Type",value:r.body.type==="form-data"?null:r.body.mediaType},{spread:i.propertyAccessExpression({expression:i.identifier({text:"options"}),isOptional:!e,name:"headers"})}];E&&St.push({spread:i.propertyAccessExpression({expression:i.identifier({text:"params"}),name:"headers"})}),u.push({key:"headers",value:St});}}let $;n.config.client&&s.api&&"getSelector"in s.api&&($=n.gen.selectSymbolFirst(s.api.getSelector("client")),$&&o.addImport({from:$.file,names:[$.placeholder]}));let q=i.propertyAccessExpression({expression:i.identifier({text:"options"}),isOptional:!e,name:"client"}),N;n.config.instance?N=i.binaryExpression({left:q,operator:"??",right:i.propertyAccessExpression({expression:i.this(),name:"_client"})}):$?N=i.binaryExpression({left:q,operator:"??",right:$.placeholder}):N=q;let W=[];a?W.push(Fr,`${m} | ${yt}`,f,yt):W.push(m,f,"ThrowOnError"),n.config.responseStyle==="data"&&W.push(i.stringLiteral({text:n.config.responseStyle}));let ie=y?i.propertyAccessExpression({expression:N,name:i.identifier({text:"sse"})}):N;return ie=i.propertyAccessExpression({expression:ie,name:i.identifier({text:r.method})}),I.push(i.returnFunctionCall({args:[i.objectExpression({identifiers:["responseTransformer"],obj:u})],name:ie,types:W})),I};var J=({operation:e})=>{let t=[];return e.summary&&t.push(Q(e.summary)),e.description&&t.push(Q(e.description)),e.deprecated&&t.push("@deprecated"),t.length?t:void 0},le=({context:e,operation:t})=>{let n=A(e.config).name==="@hey-api/client-nuxt",o=e.config.plugins["@hey-api/sdk"];return o&&!o.config.client&&!o.config.instance||n||Or(t)},Dr=({operation:e})=>{for(let t in e.responses)if(e.responses[t].mediaType==="text/event-stream")return  true;return  false};var Mr="/http/requests",pg=({plugin:e})=>{let t=e.gen.ensureFile(`${e.output}${Mr}`),r=new Map,n=new Set,o=e.getPluginOrThrow("@hey-api/sdk");e.forEach("operation",({operation:a})=>{let p=le({context:e.context,operation:a}),c=We({context:e.context,operation:a,plugin:o});for(let m of c.values())m.path.forEach((l,f)=>{r.has(l)||r.set(l,{className:l,classes:new Set,methods:new Set,nodes:[],root:!f});let u=m.path[f-1];if(u&&u!==l){let b=r.get(u);b.classes.add(l),r.set(u,b);}if(!(m.path.length===f+1))return;let y=r.get(l),h=e.config.httpRequests.methodNameBuilder(a);if(y.methods.has(h))return;let x=mg({isRequiredOptions:p,methodName:h,operation:a,plugin:e});y.nodes.length?y.nodes.push(i.identifier({text:`
`}),x):y.nodes.push(x),y.methods.add(h),r.set(l,y);});});let s=a=>{if(n.has(a.className))return;if(a.classes.size)for(let l of a.classes){let f=r.get(l);s(f),a.nodes.push(i.propertyDeclaration({initializer:i.newExpression({argumentsArray:[],expression:i.identifier({text:R({config:{case:"preserve",name:e.config.httpRequests.classNameBuilder},name:f.className})})}),name:k({case:"camelCase",value:f.className})}));}let p=t.ensureSymbol({selector:e.api.getSelector("Injectable")}).update({name:"Injectable"});t.addImport({from:"@angular/core",names:[p.placeholder]});let c=t.addSymbol({name:R({config:{case:"preserve",name:e.config.httpRequests.classNameBuilder},name:a.className}),selector:e.api.getSelector("class",a.className)}),m=i.classDeclaration({decorator:a.root?{args:[{providedIn:"root"}],name:p.placeholder}:void 0,exportClass:a.root,name:c.placeholder,nodes:a.nodes});c.update({value:m}),n.add(a.className);};for(let a of r.values())s(a);},cg=({plugin:e})=>{let t=e.gen.ensureFile(`${e.output}${Mr}`);e.forEach("operation",({operation:r})=>{let n=le({context:e.context,operation:r}),o=t.addSymbol({name:e.config.httpRequests.methodNameBuilder(r),selector:e.api.getSelector("httpRequest",r.id)}),s=lg({isRequiredOptions:n,operation:r,plugin:e,symbol:o});o.update({value:s});});},Xc=({operation:e,plugin:t})=>{let r=t.gen.ensureFile(`${t.output}${Mr}`),n,o=A(t.context.config);o.api&&"getSelector"in o.api&&(n=t.gen.selectSymbolFirst(o.api.getSelector("client")),n&&r.addImport({from:n.file,names:[n.placeholder]}));let s=i.propertyAccessExpression({expression:i.identifier({text:"options"}),isOptional:true,name:"client"}),a;return n?a=i.binaryExpression({left:s,operator:"??",right:n.placeholder}):a=s,i.callExpression({functionName:i.propertyAccessExpression({expression:a,name:"requestOptions"}),parameters:[i.objectExpression({obj:[{key:"responseStyle",value:i.identifier({text:"'data'"})},{key:"method",value:i.identifier({text:`'${e.method.toUpperCase()}'`})},{key:"url",value:i.identifier({text:`'${e.path}'`})},{spread:"options"}]})]})},mg=({isRequiredOptions:e,methodName:t,operation:r,plugin:n})=>{let o=n.gen.ensureFile(`${n.output}${Mr}`),s=n.getPluginOrThrow("@hey-api/typescript"),a=o.ensureSymbol({selector:n.api.getSelector("HttpRequest")}).update({name:"HttpRequest"});o.addImport({from:"@angular/common/http",typeNames:[a.placeholder]});let p=n.getPluginOrThrow("@hey-api/sdk"),c=n.gen.selectSymbolFirstOrThrow(p.api.getSelector("Options"));o.addImport({from:c.file,typeNames:[c.placeholder]});let m=n.gen.selectSymbolFirst(s.api.getSelector("data",r.id));m&&o.addImport({from:m.file,typeNames:[m.placeholder]});let l=m?.placeholder||"unknown";return i.methodDeclaration({accessLevel:"public",comment:J({operation:r}),name:t,parameters:[{isRequired:e,name:"options",type:`${c.placeholder}<${l}, ThrowOnError>`}],returnType:`${a.placeholder}<unknown>`,statements:[i.returnStatement({expression:Xc({operation:r,plugin:n})})],types:[{default:false,extends:"boolean",name:"ThrowOnError"}]})},lg=({isRequiredOptions:e,operation:t,plugin:r,symbol:n})=>{let o=r.gen.ensureFile(`${r.output}${Mr}`),s=r.getPluginOrThrow("@hey-api/typescript"),a=o.ensureSymbol({selector:r.api.getSelector("HttpRequest")}).update({name:"HttpRequest"});o.addImport({from:"@angular/common/http",typeNames:[a.placeholder]});let p=r.getPluginOrThrow("@hey-api/sdk"),c=r.gen.selectSymbolFirstOrThrow(p.api.getSelector("Options"));o.addImport({from:c.file,typeNames:[c.placeholder]});let m=r.gen.selectSymbolFirst(s.api.getSelector("data",t.id));m&&o.addImport({from:m.file,typeNames:[m.placeholder]});let l=m?.placeholder||"unknown";return i.constVariable({comment:J({operation:t}),exportConst:true,expression:i.arrowFunction({parameters:[{isRequired:e,name:"options",type:`${c.placeholder}<${l}, ThrowOnError>`}],returnType:`${a.placeholder}<unknown>`,statements:[i.returnStatement({expression:Xc({operation:t,plugin:r})})],types:[{default:false,extends:"boolean",name:"ThrowOnError"}]}),name:n.placeholder})},Gc=({plugin:e})=>{let t=e.gen.createFile(`${e.output}${Mr}`,{extension:".ts",path:"{{path}}.gen",renderer:new M});e.config.httpRequests.asClass?pg({plugin:e}):cg({plugin:e}),e.config.exportFromIndex&&t.hasContent()&&e.gen.ensureFile("index").addExport({from:t,namespaceImport:true});};var Lr="/http/resources",fg=({plugin:e})=>{let t=e.gen.ensureFile(`${e.output}${Lr}`),r=new Map,n=new Set,o=e.getPluginOrThrow("@hey-api/sdk");e.forEach("operation",({operation:a})=>{let p=le({context:e.context,operation:a}),c=We({context:e.context,operation:a,plugin:o});for(let m of c.values())m.path.forEach((l,f)=>{r.has(l)||r.set(l,{className:l,classes:new Set,methods:new Set,nodes:[],root:!f});let u=m.path[f-1];if(u&&u!==l){let b=r.get(u);b.classes.add(l),r.set(u,b);}if(!(m.path.length===f+1))return;let y=r.get(l),h=e.config.httpResources.methodNameBuilder(a);if(y.methods.has(h))return;let x=dg({isRequiredOptions:p,methodName:h,operation:a,plugin:e});y.nodes.length?y.nodes.push(i.identifier({text:`
`}),x):y.nodes.push(x),y.methods.add(h),r.set(l,y);});});let s=a=>{if(n.has(a.className))return;if(a.classes.size)for(let l of a.classes){let f=r.get(l);s(f),a.nodes.push(i.propertyDeclaration({initializer:i.newExpression({argumentsArray:[],expression:i.identifier({text:R({config:{case:"preserve",name:e.config.httpResources.classNameBuilder},name:f.className})})}),name:k({case:"camelCase",value:f.className})}));}let p=t.ensureSymbol({selector:e.api.getSelector("Injectable")}).update({name:"Injectable"});t.addImport({from:"@angular/core",names:[p.placeholder]});let c=t.addSymbol({name:R({config:{case:"preserve",name:e.config.httpResources.classNameBuilder},name:a.className})}),m=i.classDeclaration({decorator:a.root?{args:[{providedIn:"root"}],name:p.placeholder}:void 0,exportClass:a.root,name:c.placeholder,nodes:a.nodes});c.update({value:m}),n.add(a.className);};for(let a of r.values())s(a);},ug=({plugin:e})=>{let t=e.gen.ensureFile(`${e.output}${Lr}`);e.forEach("operation",({operation:r})=>{let n=le({context:e.context,operation:r}),o=t.addSymbol({name:e.config.httpResources.methodNameBuilder(r)}),s=yg({isRequiredOptions:n,operation:r,plugin:e,symbol:o});o.update({value:s});});},Jc=({operation:e,plugin:t})=>{let r=t.gen.ensureFile(`${t.output}${Lr}`),n=t.getPluginOrThrow("@hey-api/sdk"),o=t.getPluginOrThrow("@hey-api/typescript"),s=r.ensureSymbol({selector:t.api.getSelector("httpResource")}).update({name:"httpResource"});r.addImport({from:"@angular/common/http",names:[s.placeholder]});let a=t.gen.selectSymbolFirst(o.api.getSelector("response",e.id));a&&r.addImport({from:a.file,typeNames:[a.placeholder]});let p=a?.placeholder||"unknown";if(t.config.httpRequests.asClass){let c=We({context:t.context,operation:e,plugin:n}),m=Array.from(c.values())[0];if(m){let l=m.path[0],f=t.gen.selectSymbolFirstOrThrow(t.api.getSelector("class",l));r.addImport({from:f.file,names:[f.placeholder]});let u=r.ensureSymbol({selector:t.api.getSelector("inject")}).update({name:"inject"});r.addImport({from:"@angular/core",names:[u.placeholder]});let d=i.callExpression({functionName:u.placeholder,parameters:[i.identifier({text:f.placeholder})]});for(let y=1;y<m.path.length;y++){let h=m.path[y];h&&(d=i.propertyAccessExpression({expression:d,name:k({case:"camelCase",value:h})}));}return d=i.propertyAccessExpression({expression:d,name:t.config.httpRequests.methodNameBuilder(e)}),i.callExpression({functionName:s.placeholder,parameters:[i.arrowFunction({parameters:[],statements:[i.constVariable({expression:i.conditionalExpression({condition:i.identifier({text:"options"}),whenFalse:i.identifier({text:"undefined"}),whenTrue:i.callExpression({functionName:"options",parameters:[]})}),name:"opts"}),i.returnStatement({expression:i.conditionalExpression({condition:i.identifier({text:"opts"}),whenFalse:i.identifier({text:"undefined"}),whenTrue:i.callExpression({functionName:d,parameters:[i.identifier({text:"opts"})]})})})]})],types:[i.typeNode(p)]})}}else {let c=t.gen.selectSymbolFirstOrThrow(t.api.getSelector("httpRequest",e.id));return r.addImport({from:c.file,names:[c.placeholder]}),i.callExpression({functionName:s.placeholder,parameters:[i.arrowFunction({parameters:[],statements:[i.constVariable({expression:i.conditionalExpression({condition:i.identifier({text:"options"}),whenFalse:i.identifier({text:"undefined"}),whenTrue:i.callExpression({functionName:"options",parameters:[]})}),name:"opts"}),i.returnStatement({expression:i.conditionalExpression({condition:i.identifier({text:"opts"}),whenFalse:i.identifier({text:"undefined"}),whenTrue:i.callExpression({functionName:c.placeholder,parameters:[i.identifier({text:"opts"})]})})})]})],types:[i.typeNode(p)]})}return i.callExpression({functionName:s.placeholder,parameters:[i.arrowFunction({parameters:[],statements:[i.returnStatement({expression:i.identifier({text:"undefined"})})]})],types:[i.typeNode(p)]})},dg=({isRequiredOptions:e,methodName:t,operation:r,plugin:n})=>{let o=n.gen.ensureFile(`${n.output}${Lr}`),s=n.getPluginOrThrow("@hey-api/typescript"),a=n.getPluginOrThrow("@hey-api/sdk"),p=n.gen.selectSymbolFirstOrThrow(a.api.getSelector("Options"));o.addImport({from:p.file,typeNames:[p.placeholder]});let c=n.gen.selectSymbolFirst(s.api.getSelector("data",r.id));c&&o.addImport({from:c.file,typeNames:[c.placeholder]});let m=c?.placeholder||"unknown";return i.methodDeclaration({accessLevel:"public",comment:J({operation:r}),name:t,parameters:[{isRequired:e,name:"options",type:`() => ${p.placeholder}<${m}, ThrowOnError> | undefined`}],returnType:void 0,statements:[i.returnStatement({expression:Jc({operation:r,plugin:n})})],types:[{default:false,extends:"boolean",name:"ThrowOnError"}]})},yg=({isRequiredOptions:e,operation:t,plugin:r,symbol:n})=>{let o=r.gen.ensureFile(`${r.output}${Lr}`),s=r.getPluginOrThrow("@hey-api/typescript"),a=r.getPluginOrThrow("@hey-api/sdk"),p=r.gen.selectSymbolFirstOrThrow(a.api.getSelector("Options"));o.addImport({from:p.file,typeNames:[p.placeholder]});let c=r.gen.selectSymbolFirst(s.api.getSelector("data",t.id));c&&o.addImport({from:c.file,typeNames:[c.placeholder]});let m=c?.placeholder||"unknown";return i.constVariable({comment:J({operation:t}),exportConst:true,expression:i.arrowFunction({parameters:[{isRequired:e,name:"options",type:`() => ${p.placeholder}<${m}, ThrowOnError> | undefined`}],statements:[i.returnStatement({expression:Jc({operation:t,plugin:r})})],types:[{default:false,extends:"boolean",name:"ThrowOnError"}]}),name:n.placeholder})},Yc=({plugin:e})=>{let t=e.gen.createFile(`${e.output}${Lr}`,{extension:".ts",path:"{{path}}.gen",renderer:new M});e.config.httpResources.asClass?fg({plugin:e}):ug({plugin:e}),e.config.exportFromIndex&&t.hasContent()&&e.gen.ensureFile("index").addExport({from:t,namespaceImport:true});};var em=({plugin:e})=>{e.config.httpRequests.enabled&&Gc({plugin:e}),e.config.httpResources.enabled&&Yc({plugin:e});};var jo={api:new Ln({name:"@angular/common"}),config:{exportFromIndex:false},dependencies:["@hey-api/client-angular","@hey-api/sdk"],handler:em,name:"@angular/common",output:"@angular/common",resolveConfig:(e,t)=>{if(e.config.httpRequests=t.valueToObject({defaultValue:{asClass:false,classNameBuilder:"{{name}}Requests",enabled:true},mappers:{boolean:r=>({enabled:r})},value:e.config.httpRequests}),!e.config.httpRequests.methodNameBuilder){let{asClass:r}=e.config.httpRequests;e.config.httpRequests.methodNameBuilder=n=>r?String(n.id):`${String(n.id)}Request`;}if(e.config.httpResources=t.valueToObject({defaultValue:{asClass:false,classNameBuilder:"{{name}}Resources",enabled:true},mappers:{boolean:r=>({enabled:r})},value:e.config.httpResources}),!e.config.httpResources.methodNameBuilder){let{asClass:r}=e.config.httpResources;e.config.httpResources.methodNameBuilder=n=>r?String(n.id):`${String(n.id)}Resource`;}}};var Ke={baseUrl:true,bundle:true,exportFromIndex:false},ze={dependencies:["@hey-api/typescript"],output:"client",tags:["client"]};var hg=({plugin:e})=>{let{baseUrl:t}=e.config;if(t===false)return;if(typeof t=="string")return t;let{servers:r}=e.context.ir;if(r)return r[typeof t=="number"?t:0]?.url},tm=({plugin:e})=>{let t=e.gen.ensureFile(e.output),r=ne({config:e.context.config,sourceOutput:t.path}),n=t.addSymbol({name:"createClient"});t.addImport({aliases:{[n.name]:n.placeholder},from:r,names:[n.name]});let o=t.addSymbol({name:"createConfig"});t.addImport({aliases:{[o.name]:o.placeholder},from:r,names:[o.name]});let s=e.getPluginOrThrow("@hey-api/typescript"),a=e.gen.selectSymbolFirstOrThrow(s.api.getSelector("ClientOptions"));t.addImport({from:a.file,typeNames:[a.placeholder]});let p;e.config.runtimeConfigPath&&(p=t.addSymbol({name:"createClientConfig"}),t.addImport({from:t.relativePathToFile({path:e.config.runtimeConfigPath}),names:[p.placeholder]}));let c=[],m=hg({plugin:e});if(m){let d=mt(m);if(d.protocol&&d.host&&!m.includes("{"))c.push({key:be(e.context.config),value:m});else if(m!=="/"&&m.startsWith("/")){let y=m.endsWith("/")?m.slice(0,-1):m;c.push({key:be(e.context.config),value:y});}}"throwOnError"in e.config&&e.config.throwOnError&&c.push({key:"throwOnError",value:true});let l=[i.callExpression({functionName:o.placeholder,parameters:c.length?[i.objectExpression({obj:c})]:void 0,types:[i.typeReferenceNode({typeName:a.placeholder})]})],f=t.addSymbol({name:"client",selector:e.api.getSelector("client")}),u=i.constVariable({exportConst:true,expression:i.callExpression({functionName:n.placeholder,parameters:p?[i.callExpression({functionName:p.placeholder,parameters:l})]:l}),name:f.placeholder});f.update({value:u});};var rm=({plugin:e})=>{let t=e.gen.ensureFile(e.output),r=ne({config:e.context.config,sourceOutput:t.path}),n=e.getPluginOrThrow("@hey-api/typescript"),o=e.gen.selectSymbolFirstOrThrow(n.api.getSelector("ClientOptions"));t.addImport({from:o.file,typeNames:[o.placeholder]});let s=t.addSymbol({name:"Config"}),a=t.addSymbol({name:"DefaultClientOptions"});t.addImport({aliases:{ClientOptions:a.placeholder,[s.name]:s.placeholder},from:r,typeNames:["ClientOptions",s.name]});let p=i.typeReferenceNode({typeName:a.placeholder}),c=i.typeReferenceNode({typeName:"T"}),m=t.addSymbol({name:"CreateClientConfig"}),l=i.typeAliasDeclaration({comment:["The `createClientConfig()` function will be called on client initialization","and the returned object will become the client's initial configuration.","","You may want to initialize your client this way instead of calling","`setConfig()`. This is useful for example if you're using Next.js","to ensure your client always has the correct values."],exportType:true,name:m.placeholder,type:i.functionTypeNode({parameters:[i.parameterDeclaration({name:"override",required:false,type:i.typeReferenceNode({typeArguments:[i.typeIntersectionNode({types:[p,c]})],typeName:s.placeholder})})],returnType:i.typeReferenceNode({typeArguments:[i.typeIntersectionNode({types:[i.typeReferenceNode({typeArguments:[p],typeName:"Required"}),c]})],typeName:s.placeholder})}),typeParameters:[{default:i.typeReferenceNode({typeName:o.placeholder}),extends:p,name:"T"}]});m.update({value:l});};var Qe=({plugin:e})=>{let t=e.gen.createFile(e.output,{extension:".ts",path:"{{path}}.gen",renderer:new M});rm({plugin:e}),tm({plugin:e}),e.config.exportFromIndex&&t.hasContent()&&e.gen.ensureFile("index").addExport({from:t,namespaceImport:true});};var No=class{constructor(t){this.meta=t;}getSelector(...t){return [this.meta.name,...t]}};var wo={...ze,api:new No({name:"@hey-api/client-angular"}),config:{...Ke,throwOnError:false},handler:Qe,name:"@hey-api/client-angular"};var qo=class{constructor(t){this.meta=t;}getSelector(...t){return [this.meta.name,...t]}};var $o={...ze,api:new qo({name:"@hey-api/client-axios"}),config:{...Ke,throwOnError:false},handler:Qe,name:"@hey-api/client-axios"};var Fo=class{constructor(t){this.meta=t;}getSelector(...t){return [this.meta.name,...t]}};var Do={...ze,api:new Fo({name:"@hey-api/client-fetch"}),config:{...Ke,throwOnError:false},handler:Qe,name:"@hey-api/client-fetch"};var Mo=class{constructor(t){this.meta=t;}getSelector(...t){return [this.meta.name,...t]}};var Lo={...ze,api:new Mo({name:"@hey-api/client-next"}),config:{...Ke,throwOnError:false},handler:Qe,name:"@hey-api/client-next"};var Bo=class{constructor(t){this.meta=t;}getSelector(...t){return [this.meta.name,...t]}};var Vo={...ze,api:new Bo({name:"@hey-api/client-nuxt"}),config:Ke,handler:Qe,name:"@hey-api/client-nuxt"};var Ho={config:{},handler:()=>{},name:"legacy/angular",output:"client",tags:["client"]};var _o={config:{},handler:()=>{},name:"legacy/axios",output:"client",tags:["client"]};var Wo={config:{},handler:()=>{},name:"legacy/fetch",output:"client",tags:["client"]};var Ko={config:{},handler:()=>{},name:"legacy/node",output:"client",tags:["client"]};var zo={config:{},handler:()=>{},name:"legacy/xhr",output:"client",tags:["client"]};var Qo=class{constructor(t){this.meta=t;}getSelector(...t){return [this.meta.name,...t]}};var Ri=({plugin:e,schema:t})=>{e.config.type==="form"&&(t.description&&delete t.description,t["x-enum-descriptions"]&&delete t["x-enum-descriptions"],t["x-enum-varnames"]&&delete t["x-enum-varnames"],t["x-enumNames"]&&delete t["x-enumNames"],t.title&&delete t.title);},Br=({context:e,plugin:t,schema:r})=>{if(Array.isArray(r))return r.map(o=>Br({context:e,plugin:t,schema:o}));let n=structuredClone(r);if(n.$ref)return n.$ref=decodeURI(n.$ref),n;if(Ri({plugin:t,schema:n}),n.additionalProperties&&typeof n.additionalProperties!="boolean"&&(n.additionalProperties=Br({context:e,plugin:t,schema:n.additionalProperties})),n.allOf&&(n.allOf=n.allOf.map(o=>Br({context:e,plugin:t,schema:o}))),n.items&&(n.items=Br({context:e,plugin:t,schema:n.items})),n.properties)for(let o in n.properties){let s=n.properties[o];typeof s!="boolean"&&(n.properties[o]=Br({context:e,plugin:t,schema:s}));}return n},Kt=({context:e,plugin:t,schema:r})=>{if(Array.isArray(r))return r.map(o=>Kt({context:e,plugin:t,schema:o}));let n=structuredClone(r);if("$ref"in n)return n.$ref=decodeURI(n.$ref),n;if(Ri({plugin:t,schema:n}),n.additionalProperties&&typeof n.additionalProperties!="boolean"&&(n.additionalProperties=Kt({context:e,plugin:t,schema:n.additionalProperties})),n.allOf&&(n.allOf=n.allOf.map(o=>Kt({context:e,plugin:t,schema:o}))),n.anyOf&&(n.anyOf=n.anyOf.map(o=>Kt({context:e,plugin:t,schema:o}))),n.items&&(n.items=Kt({context:e,plugin:t,schema:n.items})),n.oneOf&&(n.oneOf=n.oneOf.map(o=>Kt({context:e,plugin:t,schema:o}))),n.properties)for(let o in n.properties){let s=n.properties[o];typeof s!="boolean"&&(n.properties[o]=Kt({context:e,plugin:t,schema:s}));}return n},vt=({context:e,plugin:t,schema:r})=>{if(Array.isArray(r))return r.map(o=>vt({context:e,plugin:t,schema:o}));let n=structuredClone(r);if(Ri({plugin:t,schema:n}),n.$ref&&(n.$ref=decodeURI(n.$ref)),n.additionalProperties&&typeof n.additionalProperties!="boolean"&&(n.additionalProperties=vt({context:e,plugin:t,schema:n.additionalProperties})),n.allOf&&(n.allOf=n.allOf.map(o=>vt({context:e,plugin:t,schema:o}))),n.anyOf&&(n.anyOf=n.anyOf.map(o=>vt({context:e,plugin:t,schema:o}))),n.items&&(n.items=vt({context:e,plugin:t,schema:n.items})),n.oneOf&&(n.oneOf=n.oneOf.map(o=>vt({context:e,plugin:t,schema:o}))),n.prefixItems&&(n.prefixItems=n.prefixItems.map(o=>vt({context:e,plugin:t,schema:o}))),n.properties)for(let o in n.properties){let s=n.properties[o];typeof s!="boolean"&&(n.properties[o]=vt({context:e,plugin:t,schema:s}));}return n},Ti=({name:e,plugin:t,schema:r})=>{let n="";return t.config.nameBuilder&&(typeof t.config.nameBuilder=="function"?n=t.config.nameBuilder(e,r):n=t.config.nameBuilder.replace("{{name}}",e)),n||(n=`${e}Schema`),rt(n)},Eg=({context:e,plugin:t})=>{if(e.spec.definitions)for(let r in e.spec.definitions){let n=e.spec.definitions[r],s=t.gen.ensureFile(t.output).ensureSymbol({name:Ti({name:r,plugin:t,schema:n}),selector:t.api.getSelector("ref",r)}),a=Br({context:e,plugin:t,schema:n}),p=i.constVariable({assertion:"const",exportConst:true,expression:i.objectExpression({obj:a}),name:s.placeholder});s.update({value:p});}},vg=({context:e,plugin:t})=>{if(e.spec.components)for(let r in e.spec.components.schemas){let n=e.spec.components.schemas[r],s=t.gen.ensureFile(t.output).ensureSymbol({name:Ti({name:r,plugin:t,schema:n}),selector:t.api.getSelector("ref",r)}),a=Kt({context:e,plugin:t,schema:n}),p=i.constVariable({assertion:"const",exportConst:true,expression:i.objectExpression({obj:a}),name:s.placeholder});s.update({value:p});}},kg=({context:e,plugin:t})=>{if(e.spec.components)for(let r in e.spec.components.schemas){let n=e.spec.components.schemas[r],s=t.gen.ensureFile(t.output).ensureSymbol({name:Ti({name:r,plugin:t,schema:n}),selector:t.api.getSelector("ref",r)}),a=vt({context:e,plugin:t,schema:n}),p=i.constVariable({assertion:"const",exportConst:true,expression:i.objectExpression({obj:a}),name:s.placeholder});s.update({value:p});}},nm=({plugin:e})=>{if(e.gen.createFile(e.output,{extension:".ts",path:"{{path}}.gen",renderer:new M}),"swagger"in e.context.spec){Eg({context:e.context,plugin:e});return}switch(e.context.spec.openapi){case "3.0.0":case "3.0.1":case "3.0.2":case "3.0.3":case "3.0.4":vg({context:e.context,plugin:e});break;case "3.1.0":case "3.1.1":kg({context:e.context,plugin:e});break;default:throw new Error("Unsupported OpenAPI specification")}};var Pi=(e,t)=>{let r=T();if(Array.isArray(e))return e.map(o=>Pi(o));if(typeof e!="object"||e===null)return e;let n={...e};return Object.entries(n).forEach(([o,s])=>{if(r.plugins["@hey-api/schemas"]?.config.type==="form"&&["description","x-enum-descriptions","x-enum-varnames","x-enumNames","title"].includes(o)&&t!=="properties"){delete n[o];return}o==="$ref"&&typeof s=="string"&&(n[o]=decodeURIComponent(s)),s&&typeof s=="object"&&(n[o]=Pi(s,o));}),n},jg=(e,t)=>{let r=T(),n=He(e),o=r.plugins["@hey-api/schemas"];return o?.config.nameBuilder?typeof o.config.nameBuilder=="function"?o.config.nameBuilder(n,t):o.config.nameBuilder.replace("{{name}}",n):`${n}Schema`},om=({files:e,openApi:t,plugin:r})=>{let n=T();e.schemas=new Te({dir:n.output.path,exportFromIndex:r.config.exportFromIndex,id:"schemas",name:"schemas.ts"});let o=(s,a)=>{let p=Pi(a),c=i.objectExpression({obj:p}),m=i.constVariable({assertion:"const",exportConst:true,expression:c,name:jg(s,a)});e.schemas.add(m);};"swagger"in t&&Object.entries(t.definitions??{}).forEach(([s,a])=>{o(s,a);}),"openapi"in t&&Object.entries(t.components?.schemas??{}).forEach(([s,a])=>{o(s,a);});};var Uo={api:new Qo({name:"@hey-api/schemas"}),config:{exportFromIndex:false,nameBuilder:e=>`${e}Schema`,type:"json"},handler:nm,handlerLegacy:om,name:"@hey-api/schemas",output:"schemas"};var Zo=class{constructor(t){this.meta=t;}getSelector(...t){return [this.meta.name,...t]}};var ir=({meta:e,onImport:t,...r})=>{if(!e)return {created:false,name:""};let{created:n,name:o}=Fe({meta:e,...r});return o&&t(o),{created:n,name:o}},cm=e=>`${e}ModelResponseTransformer`,ar=e=>`${k({case:"PascalCase",value:e})}Data`,Vr=e=>`${k({case:"PascalCase",value:e})}Error`,Ai=e=>`${e}Transformer`,gt=e=>`${k({case:"PascalCase",value:e})}Response`,Ii=({importedType:e,throwOnError:t})=>{let r="OptionsLegacyParser";return t?`${r}<${e||"unknown"}, ${t}>`:e?`${r}<${e}>`:r},sm=(e,t)=>{let r=T(),{name:n}=Fe({client:e,meta:{$ref:t.name,name:t.name},nameTransformer:ar}),o=dt(t.parameters);if(!K(r))return [{isRequired:o,name:"options",type:Ii({importedType:n,throwOnError:"ThrowOnError"})}];if(!t.parameters.length)return [];let s=a=>{if(a.default!==void 0)return JSON.stringify(a.default,null,4)};return r.useOptions?[{default:o?void 0:{},name:"data",type:n}]:t.parameters.map(a=>{let p=`${n}['${a.name}']`;return {default:a?.default,isRequired:(!a.isRequired&&!s(a)?"?":"")=="",name:a.name,type:p}})},im=(e,t)=>{let r=T(),n=i.typeNode("void");if(t.responses.filter(a=>a.responseTypes.includes("success")).length){let{name:a}=Fe({client:e,meta:{$ref:t.name,name:t.name},nameTransformer:gt});n=i.typeUnionNode({types:[a]});}return r.useOptions&&r.plugins["@hey-api/sdk"]?.config.response==="response"&&(n=i.typeNode("ApiResult",[n])),A(r).name==="legacy/angular"?n=i.typeNode("Observable",[n]):n=i.typeNode("CancelablePromise",[n]),n},am=e=>{let t=T();if(!K(t))return [e.deprecated&&"@deprecated",e.summary&&Q(e.summary),e.description&&Q(e.description)];let r=[];e.parameters.length&&(t.useOptions?r=["@param data The data for the request.",...e.parameters.map(s=>`@param data.${s.name} ${s.description?Q(s.description):""}`)]:r=e.parameters.map(s=>`@param ${s.name} ${s.description?Q(s.description):""}`));let n=e.responses.filter(s=>s.responseTypes.includes("success"));return [e.deprecated&&"@deprecated",e.summary&&Q(e.summary),e.description&&Q(e.description),...r,...n.map(s=>`@returns ${s.type} ${s.description?Q(s.description):""}`),"@throws ApiError"]},wg=({client:e,onClientImport:t,onImport:r,operation:n})=>{let o=T(),s=gt(n.name),{name:a}=Fe({client:e,meta:{$ref:`transformers/${s}`,name:s},nameTransformer:Ai});if(a&&r(a),!K(o)){let l=[{spread:"options"}],u=n.parameters.filter(d=>d.in==="body"||d.in==="formData").map(d=>d.mediaType||(d.in==="formData"?"multipart/form-data":void 0)).filter(Boolean).filter(he);return u.length===1&&(u[0]==="multipart/form-data"&&(l=[...l,{spread:"formDataBodySerializer"},{key:"headers",value:[{key:"Content-Type",value:null},{spread:"options?.headers"}]}],t?.("formDataBodySerializer")),u[0]==="application/x-www-form-urlencoded"&&(l=[...l,{spread:"urlSearchParamsBodySerializer"},{key:"headers",value:[{key:"Content-Type",value:u[0]},{spread:"options?.headers"}]}],t?.("urlSearchParamsBodySerializer"))),l=[...l,{key:"url",value:n.path}],a&&(l=[...l,{key:"responseTransformer",value:a}]),i.objectExpression({identifiers:["responseTransformer"],obj:l})}let p=l=>l.reduce((f,u)=>{let d=u.prop,y=o.useOptions?`data.${u.name}`:u.name;return d===y?f[d]=d:je(d)===d?f[d]=y:f[`'${d}'`]=y,f},{}),c={method:n.method,url:n.path};n.parametersPath.length&&(c.path=p(n.parametersPath)),n.parametersCookie.length&&(c.cookies=p(n.parametersCookie)),n.parametersHeader.length&&(c.headers=p(n.parametersHeader)),n.parametersQuery.length&&(c.query=p(n.parametersQuery)),n.parametersForm.length&&(c.formData=p(n.parametersForm)),n.parametersBody&&(n.parametersBody.in==="formData"&&(o.useOptions?c.formData=`data.${n.parametersBody.name}`:c.formData=n.parametersBody.name),n.parametersBody.in==="body"&&(o.useOptions?c.body=`data.${n.parametersBody.name}`:c.body=n.parametersBody.name)),n.parametersBody?.mediaType&&(c.mediaType=n.parametersBody?.mediaType),n.responseHeader&&(c.responseHeader=n.responseHeader),a&&(c.responseTransformer=a);let m=n.responses.filter(l=>l.responseTypes.includes("error"));if(m.length>0){let l={};m.forEach(f=>{l[f.code]=f.description??"";}),c.errors=l;}return i.objectExpression({identifiers:["body","cookies","formData","headers","path","query","responseTransformer"],obj:c,shorthand:true})},Pe=({config:e,handleIllegal:t,id:r,operation:n})=>e.plugins["@hey-api/sdk"]?.config.methodNameBuilder?e.plugins["@hey-api/sdk"].config.methodNameBuilder(n):t&&r.match(Se)?`${r}_`:r,pm=({client:e,onClientImport:t,onImport:r,operation:n})=>{let o=T(),s=wg({client:e,onClientImport:t,onImport:r,operation:n});if(!K(o)){let p=Fe({client:e,meta:{$ref:n.name,name:n.name},nameTransformer:Vr}).name,m=n.responses.filter(l=>l.responseTypes.includes("success")).length?Fe({client:e,meta:{$ref:n.name,name:n.name},nameTransformer:gt}).name:"void";return [i.returnFunctionCall({args:[s],name:`(options?.client ?? client).${n.method.toLocaleLowerCase()}`,types:p&&m?[m,p,"ThrowOnError"]:p?["unknown",p,"ThrowOnError"]:m?[m,"unknown","ThrowOnError"]:[]})]}return G(o)?[i.returnFunctionCall({args:[s],name:"this.httpRequest.request"})]:A(o).name==="legacy/angular"?[i.returnFunctionCall({args:["OpenAPI","this.http",s],name:"__request"})]:[i.returnFunctionCall({args:["OpenAPI",s],name:"__request"})]},qg=({client:e,onClientImport:t,onImport:r,onNode:n,service:o})=>{let s=T(),a=A(s),p=K(s);for(let u of o.operations)u.parameters.length&&ir({client:e,meta:{$ref:u.name,name:u.name},nameTransformer:ar,onImport:r}),p||ir({client:e,meta:{$ref:u.name,name:u.name},nameTransformer:Vr,onImport:r}),u.responses.filter(y=>y.responseTypes.includes("success")).length&&ir({client:e,meta:{$ref:u.name,name:u.name},nameTransformer:gt,onImport:r});let c={default:("throwOnError"in a.config?a.config.throwOnError:false)??false,extends:"boolean",name:"ThrowOnError"};if(!s.plugins["@hey-api/sdk"]?.config.asClass&&!G(s)){for(let u of o.operations){let d={parameters:sm(e,u),returnType:p?im(e,u):void 0,statements:pm({client:e,onClientImport:t,onImport:r,operation:u}),types:p?void 0:[c]},y=a.name==="legacy/angular"?i.anonymousFunction(d):i.arrowFunction(d),h=i.constVariable({comment:am(u),exportConst:true,expression:y,name:Pe({config:s,handleIllegal:true,id:u.name,operation:u})});n(h);}return}let m=o.operations.map(u=>i.methodDeclaration({accessLevel:"public",comment:am(u),isStatic:G(s)===void 0&&a.name!=="legacy/angular",name:Pe({config:s,id:u.name,operation:u}),parameters:sm(e,u),returnType:p?im(e,u):void 0,statements:pm({client:e,onClientImport:t,onImport:r,operation:u}),types:p?void 0:[c]}));if(!m.length)return;G(s)?m=[i.constructorDeclaration({multiLine:false,parameters:[{accessLevel:"public",isReadOnly:true,name:"httpRequest",type:"BaseHttpRequest"}]}),...m]:a.name==="legacy/angular"&&(m=[i.constructorDeclaration({multiLine:false,parameters:[{accessLevel:"public",isReadOnly:true,name:"http",type:"HttpClient"}]}),...m]);let l=[];m.forEach((u,d)=>{d&&l.push(i.identifier({text:`
`})),l.push(u);});let f=i.classDeclaration({decorator:a.name==="legacy/angular"?{args:[{providedIn:"root"}],name:"Injectable"}:void 0,exportClass:true,name:_t({config:s,name:o.name}),nodes:l});n(f);},mm=({client:e,files:t,plugin:r})=>{let n=T(),o=K(n),s="sdk";if(t.sdk=new Te({dir:n.output.path,exportFromIndex:r.config.exportFromIndex,id:"sdk",name:`${s}.ts`}),!o)t.sdk.import({module:ne({config:n,sourceOutput:s}),name:"createClient"}),t.sdk.import({module:ne({config:n,sourceOutput:s}),name:"createConfig"}),t.sdk.import({asType:true,module:ne({config:n,sourceOutput:s}),name:"OptionsLegacyParser"});else if(A(n).name==="legacy/angular"?(t.sdk.import({module:"@angular/core",name:"Injectable"}),G(n)||t.sdk.import({module:"@angular/common/http",name:"HttpClient"}),t.sdk.import({asType:true,module:"rxjs",name:"Observable"})):t.sdk.import({asType:true,module:"./core/CancelablePromise",name:"CancelablePromise"}),n.plugins["@hey-api/sdk"]?.config.response==="response"&&t.sdk.import({asType:true,module:"./core/ApiResult",name:"ApiResult"}),G(n)){let p=A(n);t.sdk.import({asType:p.name!=="legacy/angular",module:"./core/BaseHttpRequest",name:"BaseHttpRequest"});}else t.sdk.import({module:"./core/OpenAPI",name:"OpenAPI"}),t.sdk.import({alias:"__request",module:"./core/request",name:"request"});if(!o){let a=A(n),p=i.constVariable({exportConst:true,expression:i.callExpression({functionName:"createClient",parameters:[i.callExpression({functionName:"createConfig",parameters:["throwOnError"in a&&a.throwOnError?i.objectExpression({obj:[{key:"throwOnError",value:true}]}):void 0]})]}),name:"client"});t.sdk.add(p);}for(let a of e.services)qg({client:e,onClientImport:p=>{t.sdk.import({module:ne({config:n,sourceOutput:s}),name:p});},onImport:p=>{t.sdk.import({asType:!p.endsWith("Transformer"),module:`./${t.types.nameWithoutExtension()}`,name:p});},onNode:p=>{t.sdk.add(p);},service:a});};var lm=({plugin:e,symbolClientOptions:t})=>{let r=e.gen.ensureFile(e.output),o=A(e.context.config).name==="@hey-api/client-nuxt",s=ne({config:e.context.config,sourceOutput:r.path}),a=r.addSymbol({name:"TDataShape"}),p=r.ensureSymbol({name:"Client",selector:e.api.getSelector("Client")});r.addImport({from:s,typeNames:[p.name,a.name]});let c=r.ensureSymbol({selector:e.api.getSelector("Options")}).update({name:"Options"}),m=i.typeAliasDeclaration({exportType:true,name:c.placeholder,type:i.typeIntersectionNode({types:[i.typeReferenceNode({typeArguments:o?[i.typeReferenceNode({typeName:"TComposable"}),i.typeReferenceNode({typeName:"TData"}),i.typeReferenceNode({typeName:bi}),i.typeReferenceNode({typeName:yt})]:[i.typeReferenceNode({typeName:"TData"}),i.typeReferenceNode({typeName:"ThrowOnError"})],typeName:t.placeholder}),i.typeInterfaceNode({properties:[{comment:["You can provide a client instance returned by `createClient()` instead of","individual options. This might be also useful if you want to implement a","custom client."],isRequired:!e.config.client,name:"client",type:i.typeReferenceNode({typeName:p.placeholder})},{comment:["You can pass arbitrary values through the `meta` object. This can be","used to access values that aren't defined as part of the SDK function."],isRequired:false,name:"meta",type:i.typeReferenceNode({typeArguments:[i.keywordTypeNode({keyword:"string"}),i.keywordTypeNode({keyword:"unknown"})],typeName:"Record"})}],useLegacyResolution:false})]}),typeParameters:o?[i.typeParameterDeclaration({constraint:i.typeReferenceNode({typeName:"Composable"}),defaultType:i.typeNode("'$fetch'"),name:"TComposable"}),i.typeParameterDeclaration({constraint:i.typeReferenceNode({typeName:a.placeholder}),defaultType:i.typeReferenceNode({typeName:a.placeholder}),name:"TData"}),i.typeParameterDeclaration({defaultType:i.keywordTypeNode({keyword:"unknown"}),name:bi}),i.typeParameterDeclaration({defaultType:i.keywordTypeNode({keyword:"undefined"}),name:yt})]:[i.typeParameterDeclaration({constraint:i.typeReferenceNode({typeName:a.placeholder}),defaultType:i.typeReferenceNode({typeName:a.placeholder}),name:"TData"}),i.typeParameterDeclaration({constraint:i.keywordTypeNode({keyword:"boolean"}),defaultType:i.keywordTypeNode({keyword:"boolean"}),name:"ThrowOnError"})]});c.update({value:m});};var $g=({plugin:e})=>{let t=i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:i.this(),name:"_client"}),operator:"=",right:i.propertyAccessExpression({expression:i.identifier({text:"args"}),name:"client"})})}),n=e.gen.ensureFile(e.output).ensureSymbol({selector:e.api.getSelector("Client")}),o=A(e.context.config),s;return o.api&&"getSelector"in o.api&&(s=e.gen.selectSymbolFirst(o.api.getSelector("client"))),[i.propertyDeclaration({initializer:s?i.identifier({text:s.placeholder}):void 0,modifier:"protected",name:"_client",type:i.typeReferenceNode({typeName:n.placeholder})}),i.identifier({text:`
`}),i.constructorDeclaration({multiLine:true,parameters:[{isRequired:!e.config.client,name:"args",type:i.typeInterfaceNode({properties:[{isRequired:!e.config.client,name:"client",type:n.placeholder}],useLegacyResolution:false})}],statements:[e.config.client?i.ifStatement({expression:i.propertyAccessExpression({expression:i.identifier({text:"args"}),isOptional:true,name:"client"}),thenStatement:i.block({statements:[t]})}):t]})]},Fg=({plugin:e})=>{let t=A(e.context.config),r=t.name==="@hey-api/client-angular",n=t.name==="@hey-api/client-nuxt",o=e.gen.ensureFile(e.output),s=new Map,a=new Set,p=e.config.instance?$g({plugin:e}):[];e.forEach("operation",({operation:l})=>{let f=le({context:e.context,operation:l}),u=e.getPluginOrThrow("@hey-api/typescript"),d;n&&(d=e.gen.selectSymbolFirst(u.api.getSelector("response",l.id)),d&&o.addImport({from:d.file,typeNames:[d.placeholder]}));let y=We({context:e.context,operation:l,plugin:e});for(let h of y.values())h.path.forEach((x,b)=>{let I=o.ensureSymbol({name:x,selector:e.api.getSelector("class",x)});s.has(I.id)||s.set(I.id,{className:I.name,classes:new Set,id:I.id,methods:new Set,nodes:[],root:!b});let E=h.path[b-1];if(E){let D=o.ensureSymbol({name:E,selector:e.api.getSelector("class",E)});if(D.placeholder!==I.placeholder){let _=s.get(D.id);_.classes.add(I.id),s.set(D.id,_);}}if(!(h.path.length===b+1))return;let q=s.get(I.id);if(q.methods.has(h.methodName))return;let N=Si({file:o,isRequiredOptions:f,operation:l,plugin:e}),W=Oi({isRequiredOptions:f,opParameters:N,operation:l,plugin:e}),ie=i.methodDeclaration({accessLevel:"public",comment:J({operation:l}),isStatic:r?false:!e.config.instance,name:h.methodName,parameters:N.parameters,returnType:void 0,statements:W,types:n?[{default:i.ots.string("$fetch"),extends:i.typeNode("Composable"),name:Fr},{default:d?i.typeReferenceNode({typeName:d.placeholder}):i.typeNode("undefined"),extends:d?i.typeReferenceNode({typeName:d.placeholder}):void 0,name:yt}]:[{default:("throwOnError"in t.config?t.config.throwOnError:false)??false,extends:"boolean",name:"ThrowOnError"}]});q.nodes.length?q.nodes.push(i.identifier({text:`
`}),ie):q.nodes.push(ie),q.methods.add(h.methodName),s.set(I.id,q);});});let c=o.addSymbol({name:"_HeyApiClient"}),m=l=>{if(a.has(l.id))return;if(l.classes.size)for(let d of l.classes){let y=s.get(d);m(y),l.nodes.push(i.propertyDeclaration({initializer:e.config.instance?i.newExpression({argumentsArray:e.config.instance?[i.objectExpression({multiLine:false,obj:[{key:"client",value:i.propertyAccessExpression({expression:i.this(),name:"_client"})}]})]:[],expression:i.identifier({text:o.getSymbolById(y.id).placeholder})}):i.identifier({text:o.getSymbolById(y.id).placeholder}),modifier:e.config.instance?void 0:"static",name:k({case:"camelCase",value:y.className})}));}let f=o.ensureSymbol({name:l.className,selector:e.api.getSelector("class",l.className)}),u=i.classDeclaration({decorator:l.root&&r?{args:[{providedIn:"root"}],name:"Injectable"}:void 0,exportClass:l.root,extendedClasses:e.config.instance?[c.placeholder]:void 0,name:f.placeholder,nodes:l.nodes});f.update({value:u}),a.add(f.id);};if(p.length){let l=i.classDeclaration({exportClass:false,name:c.placeholder,nodes:p});c.update({value:l});}for(let l of s.values())m(l);},Dg=({plugin:e})=>{let t=A(e.context.config),r=t.name==="@hey-api/client-nuxt",n=e.gen.ensureFile(e.output);e.forEach("operation",({operation:o})=>{let s=le({context:e.context,operation:o}),a=e.getPluginOrThrow("@hey-api/typescript"),p;r&&(p=e.gen.selectSymbolFirst(a.api.getSelector("response",o.id)),p&&n.addImport({from:p.file,typeNames:[p.placeholder]}));let c=Si({file:n,isRequiredOptions:s,operation:o,plugin:e}),m=Oi({isRequiredOptions:s,opParameters:c,operation:o,plugin:e}),l=n.addSymbol({name:Pe({config:e.context.config,handleIllegal:true,id:o.id,operation:o}),selector:e.api.getSelector("function",o.id)}),f=i.constVariable({comment:J({operation:o}),exportConst:true,expression:i.arrowFunction({parameters:c.parameters,returnType:void 0,statements:m,types:r?[{default:i.ots.string("$fetch"),extends:i.typeNode("Composable"),name:Fr},{default:p?i.typeReferenceNode({typeName:p.placeholder}):i.typeNode("undefined"),extends:p?i.typeReferenceNode({typeName:p.placeholder}):void 0,name:yt}]:[{default:("throwOnError"in t.config?t.config.throwOnError:false)??false,extends:"boolean",name:"ThrowOnError"}]}),name:l.placeholder});l.update({value:f});});},fm=({plugin:e})=>{let t=e.gen.createFile(e.output,{extension:".ts",path:"{{path}}.gen",renderer:new M}),r=ne({config:e.context.config,sourceOutput:t.path}),n=t.addSymbol({name:"ClientOptions"});t.addImport({aliases:{Options:n.placeholder},from:r,typeNames:["Options"]});let o=A(e.context.config),s=o.name==="@hey-api/client-angular";o.name==="@hey-api/client-nuxt"&&t.addImport({from:r,typeNames:["Composable"]}),s&&e.config.asClass&&t.addImport({from:"@angular/core",names:["Injectable"]}),lm({plugin:e,symbolClientOptions:n}),e.config.asClass?Fg({plugin:e}):Dg({plugin:e}),e.config.exportFromIndex&&t.hasContent()&&e.gen.ensureFile("index").addExport({from:t,namespaceImport:true});};var Xo={api:new Zo({name:"@hey-api/sdk"}),config:{asClass:false,auth:true,classNameBuilder:"{{name}}",classStructure:"auto",client:true,exportFromIndex:true,instance:false,operationId:true,params_EXPERIMENTAL:"default",response:"body",responseStyle:"fields",transformer:false,validator:false},dependencies:["@hey-api/typescript"],handler:fm,handlerLegacy:mm,name:"@hey-api/sdk",output:"sdk",resolveConfig:(e,t)=>{e.config.client?(typeof e.config.client=="boolean"&&(e.config.client=t.pluginByTag("client",{defaultPlugin:"@hey-api/client-fetch"})),e.dependencies.add(e.config.client)):e.config.client=false,e.config.transformer?(typeof e.config.transformer=="boolean"&&(e.config.transformer=t.pluginByTag("transformer")),e.dependencies.add(e.config.transformer)):e.config.transformer=false,typeof e.config.validator!="object"&&(e.config.validator={request:e.config.validator,response:e.config.validator}),e.config.validator.request?(typeof e.config.validator.request=="boolean"&&(e.config.validator.request=t.pluginByTag("validator")),e.dependencies.add(e.config.validator.request)):e.config.validator.request=false,e.config.validator.response?(typeof e.config.validator.response=="boolean"&&(e.config.validator.response=t.pluginByTag("validator")),e.dependencies.add(e.config.validator.response)):e.config.validator.response=false,e.config.instance?(typeof e.config.instance!="string"&&(e.config.instance="Sdk"),e.config.asClass=true):e.config.instance=false,e.config.classNameBuilder==="{{name}}"&&e.config.client==="@hey-api/client-angular"&&(e.config.classNameBuilder="{{name}}Service");}};var Go=class{constructor(t){this.meta=t;}getSelector(...t){return [this.meta.name,...t]}};var um=({dataExpression:e,schema:t})=>{if(t.type!=="integer"||t.format!=="int64")return;let r=e!==void 0?i.callExpression({functionName:"BigInt",parameters:[i.callExpression({functionName:i.propertyAccessExpression({expression:e,name:"toString"})})]}):void 0;if(r){if(typeof e=="string")return [r];if(e)return [i.assignment({left:e,right:r})]}},dm=({dataExpression:e,schema:t})=>{if(t.type!=="string"||!(t.format==="date"||t.format==="date-time"))return;let r=i.identifier({text:"Date"});if(typeof e=="string")return [i.newExpression({argumentsArray:[i.identifier({text:e})],expression:r})];if(e)return [i.assignment({left:e,right:i.newExpression({argumentsArray:[e],expression:r})})]};var Jo="data",hn=e=>e.map(t=>S__default.default.isStatement(t)?t:i.expressionToStatement({expression:t})),gm=({node:e})=>e.kind===S__default.default.SyntaxKind.ReturnStatement,hm=({plugin:e,schema:t})=>{let r=i.identifier({text:Jo}),n=xn({dataExpression:r,plugin:e,schema:t});return n.length&&!gm({node:n[n.length-1]})&&n.push(i.returnStatement({expression:r})),n},xn=({dataExpression:e,plugin:t,schema:r})=>{let n=t.gen.ensureFile(t.output);if(r.$ref){let o=t.api.getSelector("response-ref",r.$ref),s=n.selectSymbolFirst(o);if(!s){s=n.addSymbol({name:R({config:{case:"camelCase",name:"{{name}}SchemaResponseTransformer"},name:V(r.$ref)}),selector:o});let a=t.context.resolveIrRef(r.$ref),p=hm({plugin:t,schema:a});if(p.length){let c=i.constVariable({expression:i.arrowFunction({async:false,multiLine:true,parameters:[{name:Jo,type:i.keywordTypeNode({keyword:"any"})}],statements:hn(p)}),name:s.placeholder});s.update({value:c});}else s.update({value:null});}if(s=n.selectSymbolFirst(o),s?.value){let a=i.callExpression({functionName:s.placeholder,parameters:[e]});if(e)return typeof e=="string"&&e==="item"?[i.returnStatement({expression:a})]:[typeof e=="string"?a:i.assignment({left:e,right:a})]}return []}if(r.type==="array"){if(!e||typeof e=="string")return [];let o=r.items?xn({dataExpression:"item",plugin:t,schema:r.items?.[0]?r.items[0]:{...r,type:void 0}}):[];if(!o.length)return [];let s=hn(o);return s.some(p=>gm({node:p}))||s.push(i.returnStatement({expression:i.identifier({text:"item"})})),[i.assignment({left:e,right:i.callExpression({functionName:i.propertyAccessExpression({expression:e,name:"map"}),parameters:[i.arrowFunction({multiLine:true,parameters:[{name:"item",type:"any"}],statements:s})]})})]}if(r.type==="object"){let o=[],s=r.required??[];for(let a in r.properties){let p=r.properties[a],c=i.propertyAccessExpression({expression:e||Jo,name:a}),m=xn({dataExpression:c,plugin:t,schema:p});if(!m.length)continue;let l=!p.items?.find(u=>u.type==="null");s.includes(a)&&l?o=o.concat(m):o.push(i.ifStatement({expression:c,thenStatement:i.block({statements:hn(m)})}));}return o}if(r.items){if(r.items.length===1)return xn({dataExpression:"item",plugin:t,schema:r.items[0]});let o=[];if(r.logicalOperator==="and"||r.items.length===2&&r.items.find(s=>s.type==="null"||s.type==="void")){for(let s of r.items){let a=xn({dataExpression:e||"item",plugin:t,schema:s});if(a.length)if(e)o=o.concat(a);else {let p=i.identifier({text:"item"});o.push(i.ifStatement({expression:p,thenStatement:i.block({statements:hn(a)})}),i.returnStatement({expression:p}));}}return o}r.type!=="enum"&&((r.items??[]).every(s=>["boolean","integer","null","number","string"].includes(s.type))||console.warn(`\u2757\uFE0F Transformers warning: schema ${JSON.stringify(r)} is too complex and won't be currently processed. This will likely produce an incomplete transformer which is not what you want. Please open an issue if you'd like this improved https://github.com/hey-api/openapi-ts/issues`));}for(let o of t.config.transformers){let s=o({config:t.config,dataExpression:e,file:n,schema:r});if(s)return s}return []},xm=({plugin:e})=>{let t=e.gen.createFile(e.output,{extension:".ts",path:"{{path}}.gen",renderer:new M});e.forEach("operation",({operation:r})=>{let{response:n}=it(r);if(!n)return;if(n.items&&n.items.length>1){e.context.config.logs.level==="debug"&&console.warn(`\u2757\uFE0F Transformers warning: route ${B(r)} has ${n.items.length} non-void success responses. This is currently not handled and we will not generate a response transformer. Please open an issue if you'd like this feature https://github.com/hey-api/openapi-ts/issues`);return}let o=e.getPluginOrThrow("@hey-api/typescript"),s=e.gen.selectSymbolFirst(o.api.getSelector("response",r.id));if(!s)return;let a=t.addSymbol({name:R({config:{case:"camelCase",name:"{{name}}ResponseTransformer"},name:r.id}),selector:e.api.getSelector("response",r.id)}),p=hm({plugin:e,schema:n});if(p.length){t.addImport({from:s.file,typeNames:[s.placeholder]});let c=i.constVariable({exportConst:true,expression:i.arrowFunction({async:true,multiLine:true,parameters:[{name:Jo,type:i.keywordTypeNode({keyword:"any"})}],returnType:i.typeReferenceNode({typeArguments:[i.typeReferenceNode({typeName:s.placeholder})],typeName:"Promise"}),statements:hn(p)}),name:a.placeholder});a.update({value:c});}else a.update({value:null});});};var Lg="$OpenApiTs",ge={$refs:[],base:"",description:null,enum:[],enums:[],export:"interface",imports:[],in:"",isDefinition:false,isNullable:false,isReadOnly:false,isRequired:false,link:null,name:"",properties:[],template:null,type:""},Bg=({comments:e,leadingComment:t,meta:r,obj:n,onNode:o,...s})=>{if(!r)return;let{created:a,name:p}=Fe({create:true,meta:r,...s});if(a){let m=T().plugins["@hey-api/typescript"],l=i.enumDeclaration({asConst:typeof m?.config.enums=="object"&&m.config.enums.mode==="typescript-const",comments:e,leadingComment:t,name:p,obj:n});o(l);}},kt=({comment:e,meta:t,onCreated:r,onNode:n,type:o,...s})=>{if(!t)return {created:false,name:""};let a=Fe({create:true,meta:t,...s}),{created:p,name:c}=a;if(p){let m=i.typeAliasDeclaration({comment:e,exportType:true,name:c,type:o});n(m),r?.(c);}return a},Vg=e=>{let t=[];bm(e),e.model.enums.forEach(r=>_g({...e,model:r,onNode:n=>{t.push(n);}})),t.length&&e.onNode(i.namespaceDeclaration({name:e.model.name,statements:t}));},Hg=({client:e,model:t,onNode:r})=>{let n=T(),o={},s={};t.enum.forEach(c=>{let{key:m,value:l}=fo(c);o[m]=l;let f=c.customDescription||c.description;f&&(s[m]=[Q(f)]);});let a=[t.description&&Q(t.description),t.deprecated&&"@deprecated"],p=n.plugins["@hey-api/typescript"];if(p?.config&&typeof p.config.enums=="object"&&p.config.enums.enabled&&(p.config.enums.mode==="typescript"||p.config.enums.mode==="typescript-const")){Bg({asConst:p.config.enums.mode==="typescript-const",client:e,comments:s,leadingComment:a,meta:t.meta,obj:o,onNode:r});return}kt({client:e,comment:a,meta:t.meta,onCreated:c=>{let m=n.plugins["@hey-api/typescript"];if(m?.config&&typeof m.config.enums=="object"&&m.config.enums.enabled&&m.config.enums.mode==="javascript"){let l=i.objectExpression({multiLine:true,obj:Object.entries(o).map(([u,d])=>({comments:s[u],key:u,value:d})),unescape:true}),f=i.constVariable({assertion:"const",comment:a,exportConst:true,expression:l,name:c});r(f);}},onNode:r,type:bc(t.enum)});},_g=({model:e,onNode:t})=>{let r={},n={};e.enum.forEach(a=>{let{key:p,value:c}=fo(a);r[p]=c;let m=a.customDescription||a.description;m&&(n[p]=[Q(m)]);});let s=T().plugins["@hey-api/typescript"];t(i.enumDeclaration({asConst:typeof s?.config.enums=="object"&&s.config.enums.mode==="typescript-const",comments:n,leadingComment:[e.description&&Q(e.description),e.deprecated&&"@deprecated"],name:e.meta?.name||e.name,obj:r}));},bm=({client:e,model:t,onNode:r})=>{kt({client:e,comment:[t.description&&Q(t.description),t.deprecated&&"@deprecated"],meta:t.meta,onNode:r,type:$e(t)});},Wg=e=>{switch(e.model.export){case "all-of":case "any-of":case "one-of":case "interface":return Vg(e);case "enum":return Hg(e);default:return bm(e)}},Kg=({client:e,onNode:t})=>{let r={},n=T();if(!n.plugins["@hey-api/sdk"]&&!n.plugins["@hey-api/typescript"]?.config.tree)return;let o=K(n);for(let a of e.services)for(let p of a.operations){if(!p.parameters.length&&!p.responses.length)continue;r[p.path]||(r[p.path]={});let c=r[p.path];c[p.method]||(c[p.method]={});let m=c[p.method];if(m.$ref=p.name,p.responses.length>0){if(m.res||(m.res={}),Array.isArray(m.res))continue;p.responses.forEach(f=>{m.res[f.code]=f;});}if(p.parameters.length>0){let f={mediaType:null,...ge,in:"body",name:"body",prop:"body"},u=p.parameters.filter(b=>b.in==="body");u.length||(u=p.parameters.filter(b=>b.in==="formData")),u.length===1?f={...ge,...u[0],in:"body",isRequired:u[0].isRequired,name:"body",prop:"body"}:u.length>1&&(f={...ge,in:"body",isRequired:u.some(b=>b.isRequired),mediaType:"multipart/form-data",name:"body",prop:"body",properties:u});let d={...ge,in:"header",isRequired:dt(p.parameters.filter(b=>b.in==="header")),mediaType:null,name:o?"header":"headers",prop:o?"header":"headers",properties:p.parameters.filter(b=>b.in==="header").sort(un)},y={...ge,in:"path",isRequired:dt(p.parameters.filter(b=>b.in==="path")),mediaType:null,name:"path",prop:"path",properties:p.parameters.filter(b=>b.in==="path").sort(un)},h={...ge,in:"query",isRequired:dt(p.parameters.filter(b=>b.in==="query")),mediaType:null,name:"query",prop:"query",properties:p.parameters.filter(b=>b.in==="query").sort(un)},x=o?dn([...p.parameters]):[f,d,y,h].filter(b=>b.properties.length||b.$refs.length||b.mediaType);m.req=x,kt({client:e,meta:{$ref:p.name,name:p.name},nameTransformer:ar,onNode:t,type:$e({...ge,properties:x})});}let l=p.responses.filter(f=>f.responseTypes.includes("success"));if(l.length>0){kt({client:e,meta:{$ref:p.name,name:p.name},nameTransformer:gt,onNode:t,type:$e({...ge,export:"any-of",properties:l})});let f=p.responses.filter(u=>u.responseTypes.includes("error"));o||kt({client:e,meta:{$ref:p.name,name:p.name},nameTransformer:Vr,onNode:t,type:$e(f.length?{...ge,export:"one-of",properties:f}:{...ge,base:"unknown"})});}}let s=Object.entries(r).map(([a,p])=>{let c=Object.entries(p).map(([l,f])=>{let u=l,d=[];if(f.req){let h=f.$ref,{name:x}=Fe({client:e,meta:{$ref:h,name:h},nameTransformer:ar}),b={...ge,base:x,export:"reference",isRequired:true,name:"req",properties:[],type:x};d=[...d,b];}if(f.res){let h=Object.entries(f.res).map(([b,I])=>({...ge,...I,isRequired:true,name:String(b)})),x={...ge,isRequired:true,name:"res",properties:h};d=[...d,x];}return {...ge,isRequired:true,name:u.toLocaleLowerCase(),properties:d}}).filter(Boolean);return {...ge,isRequired:true,name:`'${a}'`,properties:c}});n.plugins["@hey-api/typescript"]?.config.tree&&kt({client:e,meta:{$ref:"@hey-api/openapi-ts",name:Lg},onNode:t,type:$e({...ge,properties:s})});},Sm=({client:e,files:t,plugin:r})=>{let n=T();t.types=new Te({dir:n.output.path,exportFromIndex:r.config.exportFromIndex,id:"types",name:"types.ts"});let o=s=>{t.types?.add(s);};for(let s of e.models)Wg({client:e,model:s,onNode:o});Kg({client:e,onNode:o});};var zt="data",zg=e=>e.base==="unknown"&&e.export==="generic"&&e.type==="unknown",Om=({client:e,model:t})=>t.$refs.map(n=>{let o=e.models.find(s=>s.meta?.$ref===n);if(!o)throw new Error(`Ref ${n} could not be found. Transformers cannot be generated without having access to all refs.`);return o}),Rm=e=>{let t=e.model.meta.name,{name:r}=kt({...e,meta:{$ref:`transformers/${t}`,name:t},nameTransformer:cm,onCreated:o=>{let s=Yo({...e,meta:{$ref:`transformers/${t}`,name:o},path:[zt]});Tm({...e,async:false,name:o,statements:s});},type:`(${zt}: any) => ${t}`});return {created:!!e.client.types[r],name:r}},Qg=e=>{let{model:t}=e,r=Om(e);if(r.length===1){let{created:n,name:o}=Rm({...e,model:r[0]});return n?[i.transformArrayMutation({path:e.path,transformerName:o})]:[]}return yn(t)||t.link&&!Array.isArray(t.link)&&t.link.export==="any-of"&&t.link.properties.find(n=>yn(n))?[i.transformArrayMap({path:e.path,transformExpression:i.conditionalExpression({condition:i.identifier({text:"item"}),whenFalse:i.identifier({text:"item"}),whenTrue:i.transformNewDate({parameterName:"item"})})})]:[]},Ug=e=>{let{model:t}=e,r=[...e.path,t.name];return t.type==="string"&&t.export!=="array"&&yn(t)?[i.transformDateMutation({path:r})]:Yo({...e,model:t,path:r})},Yo=e=>{let{model:t}=e;switch(t.export){case "array":return Qg(e);case "interface":return t.properties.flatMap(r=>Ug({...e,model:r}));case "reference":{if(t.$refs.length!==1)return [];let r=Om(e),{created:n,name:o}=Rm({...e,model:r[0]});return n?t.in==="response"?[i.expressionToStatement({expression:i.callExpression({functionName:o,parameters:[zt]})})]:i.transformFunctionMutation({path:e.path,transformerName:o}):[]}default:return []}},Tm=({async:e,client:t,name:r,onNode:n,onRemoveNode:o,statements:s})=>{let a={created:false,name:r};if(!s.length)return Rc({client:t,name:r}),o?.(),a;let p=i.arrowFunction({async:e,multiLine:true,parameters:[{name:zt}],statements:[...s,i.returnVariable({expression:zt})]}),c=i.constVariable({exportConst:true,expression:p,name:r,typeName:r});return n(c),{created:true,name:r}},Pm=({client:e,files:t})=>{let r=T(),n=s=>{t.types?.add(s);},o=()=>{t.types?.removeNode_LEGACY();};for(let s of e.services)for(let a of s.operations){let p=a.responses.filter(l=>l.responseTypes.includes("success"));if(!p.length)continue;let c=p.filter(l=>!zg(l));if(!c.length)continue;if(c.length>1){r.logs.level==="debug"&&console.warn(`\u2757\uFE0F Transformers warning: route ${B(a)} has ${c.length} non-void success responses. This is currently not handled and we will not generate a response transformer. Please open an issue if you'd like this feature https://github.com/hey-api/openapi-ts/issues`);continue}let m=gt(a.name);kt({client:e,meta:{$ref:`transformers/${m}`,name:m},nameTransformer:Ai,onCreated:l=>{let f=p.length>1?p.flatMap(u=>{let d=Yo({client:e,meta:{$ref:`transformers/${m}`,name:m},model:u,onNode:n,onRemoveNode:o,path:[zt]});return d.length?[i.ifStatement({expression:i.safeAccessExpression(["data"]),thenStatement:i.block({statements:d})})]:[]}):Yo({client:e,meta:{$ref:`transformers/${m}`,name:m},model:p[0],onNode:n,onRemoveNode:o,path:[zt]});Tm({async:true,client:e,name:l,onNode:n,onRemoveNode:o,statements:f});},onNode:n,type:`(${zt}: any) => Promise<${m}>`});}};var es={api:new Go({name:"@hey-api/transformers"}),config:{bigInt:true,dates:true,exportFromIndex:false,transformers:[],typeTransformers:[]},dependencies:["@hey-api/typescript"],handler:xm,handlerLegacy:Pm,name:"@hey-api/transformers",output:"transformers",resolveConfig:e=>{e.config.transformers||(e.config.transformers=[]),e.config.dates&&(e.config.transformers=[...e.config.transformers,dm]),e.config.bigInt&&(e.config.transformers=[...e.config.transformers,um]);},tags:["transformer"]};var Im=({context:e,name:t})=>(ae.lastIndex=0,ae.test(t)?t.startsWith("-")?S__default.default.factory.createStringLiteral(t):S__default.default.factory.createNumericLiteral(t):k({case:e.config.output.case,value:t}));var Ae=({schema:e})=>{let t=[];return e.title&&t.push(Q(e.title)),e.description&&t.push(Q(e.description)),e.deprecated&&t.push("@deprecated"),t.length?t:void 0};var ts=i.keywordTypeNode({keyword:"string"}),Gg=({server:e})=>{let t=mt(e.url);return t.protocol&&t.host?i.literalTypeNode({literal:i.stringLiteral({text:e.url})}):i.templateLiteralType({value:[t.protocol||ts,"://",t.host||ts,t.port?`:${t.port}`:"",t.path||""]})},Cm=({plugin:e,servers:t,symbolClientOptions:r})=>{let n=A(e.context.config),o=t.map(p=>Gg({server:p}));t.length?"strictBaseUrl"in n.config&&n.config.strictBaseUrl||o.push(i.typeIntersectionNode({types:[ts,S__default.default.factory.createTypeLiteralNode([])]})):o.push(ts);let s=i.typeInterfaceNode({properties:[{name:be(e.context.config),type:i.typeUnionNode({types:o})}],useLegacyResolution:false}),a=i.typeAliasDeclaration({exportType:true,name:r.placeholder,type:s});r.update({value:a});};var Jg=({plugin:e,schema:t})=>{let r=[];return {obj:(t.items??[]).map((o,s)=>{let a=typeof o.const;r.includes(a)||r.push(a);let p;return o.title?p=o.title:a==="number"||a==="string"?p=`${o.const}`:a==="boolean"?p=o.const?"true":"false":o.const===null?p="null":p=`${s}`,p&&(p=k({case:e.config.enums.case,stripLeadingSeparators:false,value:p}),ae.lastIndex=0,ae.test(p)&&e.config.enums.enabled&&(e.config.enums.mode==="typescript"||e.config.enums.mode==="typescript-const")&&(p=`_${p}`)),{comments:Ae({schema:o}),key:p,value:o.const}}),typeofItems:r}},Em=({plugin:e,schema:t,symbol:r,type:n})=>{if(t.type==="enum"&&e.config.enums.enabled){let s=Jg({plugin:e,schema:t});if(e.config.enums.mode==="javascript"){e.config.enums.constantsIgnoreNull&&s.typeofItems.includes("object")&&(s.obj=s.obj.filter(m=>m.value!==null));let a=i.constVariable({assertion:"const",comment:Ae({schema:t}),exportConst:true,expression:i.objectExpression({multiLine:true,obj:s.obj}),name:r.placeholder}),p=i.typeOfExpression({text:r.placeholder}),c=i.typeAliasDeclaration({comment:Ae({schema:t}),exportType:true,name:r.placeholder,type:i.indexedAccessTypeNode({indexType:i.typeOperatorNode({operator:"keyof",type:p}),objectType:p})});r.update({value:[a,c]});return}else if((e.config.enums.mode==="typescript"||e.config.enums.mode==="typescript-const")&&!s.typeofItems.some(p=>p!=="number"&&p!=="string")){let p=i.enumDeclaration({asConst:e.config.enums.mode==="typescript-const",leadingComment:Ae({schema:t}),name:r.placeholder,obj:s.obj});r.update({value:p});return}}let o=i.typeAliasDeclaration({comment:Ae({schema:t}),exportType:true,name:r.placeholder,type:n});r.update({value:o});};var Ci=({parameters:e})=>{let t={type:"object"};if(e){let r={},n=[];for(let o in e){let s=e[o];r[s.name]=Y({detectFormat:false,schema:s.schema}),s.required&&n.push(s.name);}t.properties=r,n.length&&(t.required=n);}return t},Yg=({operation:e,plugin:t,state:r})=>{let n={type:"object"},o=[];n.properties||(n.properties={}),e.body?(n.properties.body=e.body.schema,e.body.required&&o.push("body")):n.properties.body={type:"never"},e.parameters?.header&&(n.properties.headers=Ci({parameters:e.parameters.header}),n.properties.headers.required&&o.push("headers")),e.parameters?.path?(n.properties.path=Ci({parameters:e.parameters.path}),n.properties.path.required&&o.push("path")):n.properties.path={type:"never"},e.parameters?.query?(n.properties.query=Ci({parameters:e.parameters.query}),n.properties.query.required&&o.push("query")):n.properties.query={type:"never"},n.properties.url={const:e.path,type:"string"},o.push("url"),n.required=o;let a=t.gen.ensureFile(t.output).addSymbol({name:R({config:t.config.requests,name:e.id}),selector:t.api.getSelector("data",e.id)}),p=se({onRef:void 0,plugin:t,schema:n,state:r}),c=i.typeAliasDeclaration({exportType:true,name:a.placeholder,type:p});a.update({value:c});},vm=({operation:e,plugin:t,state:r})=>{Yg({operation:e,plugin:t,state:r});let n=t.gen.ensureFile(t.output),{error:o,errors:s,response:a,responses:p}=it(e);if(s){let c=n.addSymbol({name:R({config:t.config.errors,name:e.id}),selector:t.api.getSelector("errors",e.id)}),m=se({onRef:void 0,plugin:t,schema:s,state:r}),l=i.typeAliasDeclaration({exportType:true,name:c.placeholder,type:m});if(c.update({value:l}),o){let f=n.addSymbol({name:R({config:{case:t.config.errors.case,name:t.config.errors.error},name:e.id}),selector:t.api.getSelector("error",e.id)}),u=i.indexedAccessTypeNode({indexType:i.typeOperatorNode({operator:"keyof",type:i.typeReferenceNode({typeName:c.placeholder})}),objectType:i.typeReferenceNode({typeName:c.placeholder})}),d=i.typeAliasDeclaration({exportType:true,name:f.placeholder,type:u});f.update({value:d});}}if(p){let c=n.addSymbol({name:R({config:t.config.responses,name:e.id}),selector:t.api.getSelector("responses",e.id)}),m=se({onRef:void 0,plugin:t,schema:p,state:r}),l=i.typeAliasDeclaration({exportType:true,name:c.placeholder,type:m});if(c.update({value:l}),a){let f=n.addSymbol({name:R({config:{case:t.config.responses.case,name:t.config.responses.response},name:e.id}),selector:t.api.getSelector("response",e.id)}),u=i.indexedAccessTypeNode({indexType:i.typeOperatorNode({operator:"keyof",type:i.typeReferenceNode({typeName:c.placeholder})}),objectType:i.typeReferenceNode({typeName:c.placeholder})}),d=i.typeAliasDeclaration({exportType:true,name:f.placeholder,type:u});f.update({value:d});}}};var eh=({operation:e,plugin:t,state:r})=>{let n=t.gen.ensureFile(t.output),o={type:"object"},s=[];if(o.properties||(o.properties={}),e.body){let m=n.ensureSymbol({selector:t.api.getSelector("webhook-payload",e.id)}).update({name:R({config:{case:t.config.webhooks.case,name:t.config.webhooks.payload},name:e.id})}),l=se({onRef:void 0,plugin:t,schema:e.body.schema,state:r}),f=i.typeAliasDeclaration({comment:Ae({schema:e.body.schema}),exportType:true,name:m.placeholder,type:l});m.update({value:f}),n.ensureSymbol({selector:t.api.getSelector("ref",m.placeholder)}).update({name:m.name,placeholder:m.placeholder}),o.properties.body={$ref:m.placeholder},s.push("body");}else o.properties.body={type:"never"};o.properties.key={const:e.path,type:"string"},s.push("key"),o.properties.path={type:"never"},o.properties.query={type:"never"},o.required=s;let a=n.addSymbol({name:R({config:t.config.webhooks,name:e.id}),selector:t.api.getSelector("webhook-request",e.id)}),p=se({onRef:void 0,plugin:t,schema:o,state:r}),c=i.typeAliasDeclaration({exportType:true,name:a.placeholder,type:p});return a.update({value:c}),a.placeholder},km=({operation:e,plugin:t,state:r})=>eh({operation:e,plugin:t,state:r});var jm=({symbolWebhooks:e,webhookNames:t})=>{if(!t.length)return;let r=i.typeUnionNode({types:t.map(o=>i.typeReferenceNode({typeName:o}))}),n=i.typeAliasDeclaration({exportType:true,name:e.placeholder,type:r});e.update({value:n});};var th=({onRef:e,plugin:t,schema:r,state:n})=>{if(!r.items)return i.typeArrayNode(i.keywordTypeNode({keyword:t.config.topType}));r=Y({detectFormat:true,schema:r});let o=[];for(let s of r.items){let a=se({onRef:e,plugin:t,schema:s,state:n});o.push(a);}return o.length===1?i.typeArrayNode(o[0]):r.logicalOperator==="and"?i.typeArrayNode(i.typeIntersectionNode({types:o})):i.typeArrayNode(i.typeUnionNode({types:o}))},rh=({schema:e})=>e.const!==void 0?i.literalTypeNode({literal:i.ots.boolean(e.const)}):i.keywordTypeNode({keyword:"boolean"}),nh=({onRef:e,plugin:t,schema:r,state:n})=>se({onRef:e,plugin:t,schema:{...r,type:void 0},state:n}),oh=({plugin:e,schema:t})=>t.const!==void 0?i.literalTypeNode({literal:i.ots.number(t.const)}):t.type==="integer"&&t.format==="int64"&&e.getPlugin("@hey-api/transformers")?.config.bigInt?i.typeReferenceNode({typeName:"bigint"}):i.keywordTypeNode({keyword:"number"}),sh=({onRef:e,plugin:t,schema:r,state:n})=>{let o,s,a=[],p=[],c=r.required??[],m=false;for(let y in r.properties){let h=r.properties[y],x=se({onRef:e,plugin:t,schema:h,state:n}),b=c.includes(y);a.push({comment:Ae({schema:h}),isReadOnly:h.accessScope==="read",isRequired:b,name:Im({context:t.context,name:y}),type:x}),p.push(h),b||(m=true);}if(r.patternProperties)for(let y in r.patternProperties){let h=r.patternProperties[y];p.unshift(h);}let l=!!r.patternProperties&&Object.keys(r.patternProperties).length>0,f=r.additionalProperties,u=f!==false&&f?f:void 0;if(l||!!u&&(u.type!=="never"||!p.length)){let y=u;y&&y.type!=="never"?p.unshift(y):!l&&!p.length&&y&&y.type==="never"&&(p=[y]),m&&p.push({type:"undefined"}),s={isRequired:!r.propertyNames,name:"key",type:p.length===1?se({onRef:e,plugin:t,schema:p[0],state:n}):se({onRef:e,plugin:t,schema:{items:p,logicalOperator:"or"},state:n})},r.propertyNames?.$ref&&(o=se({onRef:e,plugin:t,schema:{$ref:r.propertyNames.$ref},state:n}));}return i.typeInterfaceNode({indexKey:o,indexProperty:s,properties:a,useLegacyResolution:false})},ih=({plugin:e,schema:t,state:r})=>{if(t.const!==void 0)return i.literalTypeNode({literal:i.stringLiteral({text:t.const})});if(t.format){if(t.format==="binary")return i.typeUnionNode({types:[i.typeReferenceNode({typeName:"Blob"}),i.typeReferenceNode({typeName:"File"})]});if((t.format==="date-time"||t.format==="date")&&e.getPlugin("@hey-api/transformers")?.config.dates)return i.typeReferenceNode({typeName:"Date"});if(t.format==="typeid"&&typeof t.example=="string"){let n=String(t.example).split("_");n.pop();let o=n.join("_");r.usedTypeIDs.add(o);let s=rt(k({case:e.config.case,value:o+"_id"}));return i.typeReferenceNode({typeName:s})}}return i.keywordTypeNode({keyword:"string"})},ah=({onRef:e,plugin:t,schema:r,state:n})=>{let o=[];if(r.const&&Array.isArray(r.const))o=r.const.map(s=>i.valueToExpression({value:s})??i.identifier({text:t.config.topType}));else if(r.items)for(let s of r.items){let a=se({onRef:e,plugin:t,schema:s,state:n});o.push(a);}return i.typeTupleNode({types:o})},Nm=({onRef:e,plugin:t,schema:r,state:n})=>{let o=t.getPlugin("@hey-api/transformers");if(o?.config.typeTransformers)for(let s of o.config.typeTransformers){let a=t.gen.ensureFile(t.output),p=s({file:a,schema:r});if(p)return p}switch(r.type){case "array":return th({onRef:e,plugin:t,schema:r,state:n});case "boolean":return rh({schema:r});case "enum":return nh({onRef:e,plugin:t,schema:r,state:n});case "integer":case "number":return oh({plugin:t,schema:r});case "never":return i.keywordTypeNode({keyword:"never"});case "null":return i.literalTypeNode({literal:i.null()});case "object":return sh({onRef:e,plugin:t,schema:r,state:n});case "string":return ih({plugin:t,schema:r,state:n});case "tuple":return ah({onRef:e,plugin:t,schema:r,state:n});case "undefined":return i.keywordTypeNode({keyword:"undefined"});case "unknown":return i.keywordTypeNode({keyword:t.config.topType});case "void":return i.keywordTypeNode({keyword:"void"})}},se=({onRef:e,plugin:t,schema:r,state:n})=>{let o=t.gen.ensureFile(t.output);if(r.$ref){let s=o.ensureSymbol({selector:t.api.getSelector("ref",r.$ref)});return e&&e(s),i.typeReferenceNode({typeName:s.placeholder})}if(r.type)return Nm({onRef:e,plugin:t,schema:r,state:n});if(r.items){if(r=Y({detectFormat:false,schema:r}),r.items){let s=[];for(let a of r.items){let p=se({onRef:e,plugin:t,schema:a,state:n});s.push(p);}return r.logicalOperator==="and"?i.typeIntersectionNode({types:s}):i.typeUnionNode({types:s})}return se({onRef:e,plugin:t,schema:r,state:n})}return Nm({onRef:e,plugin:t,schema:{type:"unknown"},state:n})},Ei=({id:e,plugin:t,schema:r,state:n})=>{let o=se({onRef:void 0,plugin:t,schema:r,state:n}),a=t.gen.ensureFile(t.output).ensureSymbol({selector:t.api.getSelector("ref",e)}).update({name:R({config:t.config.definitions,name:V(e)})});Em({plugin:t,schema:r,symbol:a,type:o});},wm=({plugin:e})=>{let t=e.gen.createFile(e.output,{extension:".ts",path:"{{path}}.gen",renderer:new M}),r=t.addSymbol({name:R({config:{case:e.config.case},name:"ClientOptions"}),selector:e.api.getSelector("ClientOptions")}),n=t.addSymbol({name:R({config:{case:e.config.case},name:"Webhooks"}),selector:e.api.getSelector("Webhooks")}),o=[],s={usedTypeIDs:new Set},a=[];if(e.forEach("operation","parameter","requestBody","schema","server","webhook",p=>{switch(p.type){case "operation":vm({operation:p.operation,plugin:e,state:s});break;case "parameter":Ei({id:p.$ref,plugin:e,schema:p.parameter.schema,state:s});break;case "requestBody":Ei({id:p.$ref,plugin:e,schema:p.requestBody.schema,state:s});break;case "schema":Ei({id:p.$ref,plugin:e,schema:p.schema,state:s});break;case "server":o.push(p.server);break;case "webhook":a.push(km({operation:p.operation,plugin:e,state:s}));break}}),s.usedTypeIDs.size){let p=i.typeParameterDeclaration({constraint:i.keywordTypeNode({keyword:"string"}),name:"T"}),c=t.addSymbol({name:"TypeID"}),m=i.typeAliasDeclaration({exportType:true,name:c.placeholder,type:i.templateLiteralType({value:[i.typeReferenceNode({typeName:"T"}),"_",i.keywordTypeNode({keyword:"string"})]}),typeParameters:[p]});c.update({value:m});for(let l of s.usedTypeIDs.values()){let f=t.addSymbol({name:rt(k({case:e.config.case,value:`${l}_id`}))}),u=i.typeAliasDeclaration({exportType:true,name:f.placeholder,type:i.typeReferenceNode({typeArguments:[i.literalTypeNode({literal:i.stringLiteral({text:l})})],typeName:c.placeholder})});f.update({value:u});}}Cm({plugin:e,servers:o,symbolClientOptions:r}),jm({symbolWebhooks:n,webhookNames:a}),e.config.exportFromIndex&&t.hasContent()&&e.gen.ensureFile("index").addExport({from:t,namespaceImport:true});};var rs=class{constructor(t){this.meta=t;}getSelector(...t){return [this.meta.name,...t]}schemaToType(t){return se({onRef:void 0,...t})}};var ns={api:new rs({name:"@hey-api/typescript"}),config:{case:"PascalCase",exportFromIndex:true,style:"preserve",topType:"unknown",tree:false},handler:wm,handlerLegacy:Sm,name:"@hey-api/typescript",output:"types",resolveConfig:(e,t)=>{e.config.definitions=t.valueToObject({defaultValue:{case:e.config.case??"PascalCase",name:"{{name}}"},mappers:{function:r=>({name:r}),string:r=>({name:r})},value:e.config.definitions}),e.config.enums=t.valueToObject({defaultValue:{case:"SCREAMING_SNAKE_CASE",constantsIgnoreNull:false,enabled:!!e.config.enums,mode:"javascript"},mappers:{boolean:r=>({enabled:r}),string:r=>({mode:r})},value:e.config.enums}),e.config.errors=t.valueToObject({defaultValue:{case:e.config.case??"PascalCase",error:"{{name}}Error",name:"{{name}}Errors"},mappers:{function:r=>({name:r}),string:r=>({name:r})},value:e.config.errors}),e.config.requests=t.valueToObject({defaultValue:{case:e.config.case??"PascalCase",name:"{{name}}Data"},mappers:{function:r=>({name:r}),string:r=>({name:r})},value:e.config.requests}),e.config.responses=t.valueToObject({defaultValue:{case:e.config.case??"PascalCase",name:"{{name}}Responses",response:"{{name}}Response"},mappers:{function:r=>({name:r}),string:r=>({name:r})},value:e.config.responses}),e.config.webhooks=t.valueToObject({defaultValue:{case:e.config.case??"PascalCase",name:"{{name}}WebhookRequest",payload:"{{name}}WebhookPayload"},mappers:{function:r=>({name:r}),string:r=>({name:r})},value:e.config.webhooks});}};var os=class{constructor(t){this.meta=t;}getSelector(...t){return [this.meta.name,...t]}};var ss=(e,t,r)=>{let n=e.config[r].meta;if(!n)return;let o=n(t);if(Object.keys(o).length)return i.valueToExpression({value:o})};var Hr=({operation:e,plugin:t})=>{let r=t.gen.ensureFile(t.output),n=t.getPluginOrThrow("@hey-api/sdk");return gn({file:r,operation:e,plugin:n})},is=({operation:e,plugin:t})=>{let r=t.gen.ensureFile(t.output),n=A(t.context.config),o=t.getPluginOrThrow("@hey-api/typescript"),s=t.gen.selectSymbolFirst(o.api.getSelector("error",e.id));s&&r.addImport({from:s.file,typeNames:[s.placeholder]});let a=s?.placeholder;if(a||(a="Error"),n.name==="@hey-api/client-axios"){let p=r.ensureSymbol({selector:t.api.getSelector("AxiosError")}).update({name:"AxiosError"});r.addImport({from:"axios",typeNames:[p.placeholder]}),a=`${p.placeholder}<${a}>`;}return a},as=({operation:e,plugin:t})=>{let r=t.gen.ensureFile(t.output),n=t.getPluginOrThrow("@hey-api/typescript"),o=t.gen.selectSymbolFirst(n.api.getSelector("response",e.id));return o&&r.addImport({from:o.file,typeNames:[o.placeholder]}),o?.placeholder||"unknown"};var _r=({plugin:e,typeData:t})=>{let n=A(e.context.config).name==="@hey-api/client-nuxt",o=n?`Omit<${t}, 'composable'>`:t;return {isNuxtClient:n,strippedTypeData:o}};var qm=({operation:e,plugin:t,queryFn:r,state:n})=>{let o=t.gen.ensureFile(t.output);n.hasMutations||(n.hasMutations=true);let s=o.ensureSymbol({name:"UseMutationOptions",selector:t.api.getSelector("UseMutationOptions")});o.addImport({from:t.name,typeNames:[s.name]}),n.hasUsedQueryFn=true;let a=Hr({operation:e,plugin:t}),p=is({operation:e,plugin:t}),c=as({operation:e,plugin:t}),{isNuxtClient:m,strippedTypeData:l}=_r({plugin:t,typeData:a}),f=m?`${s.placeholder}<${c}, ${l}, ${p}>`:`${s.placeholder}<${c}, ${a}, ${p}>`,u="fnOptions",d=i.awaitExpression({expression:i.callExpression({functionName:r,parameters:[i.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:u},{key:"throwOnError",value:true}]})]})}),y=[];t.getPluginOrThrow("@hey-api/sdk").config.responseStyle==="data"?y.push(i.returnVariable({expression:d})):y.push(i.constVariable({destructure:true,expression:d,name:"data"}),i.returnVariable({expression:"data"}));let h=[{key:"mutation",value:i.arrowFunction({async:true,multiLine:true,parameters:[m?{name:u,type:`Partial<${l}>`}:{name:u}],statements:y})}],x=ss(t,e,"mutationOptions");x&&h.push({key:"meta",value:x});let b=o.addSymbol({name:R({config:t.config.mutationOptions,name:e.id})}),I=i.constVariable({comment:t.config.comments?J({operation:e}):void 0,exportConst:true,expression:i.arrowFunction({parameters:[{isRequired:false,name:"options",type:`Partial<${l}>`}],returnType:f,statements:[i.returnStatement({expression:i.objectExpression({obj:h})})]}),name:b.placeholder});b.update({value:I});};var bn="TOptions",ps=i.identifier({text:"options"}),$m=({plugin:e})=>{let t=e.gen.ensureFile(e.output),r=t.ensureSymbol({selector:e.api.getSelector("createQueryKey")}).update({name:R({config:{case:e.config.case},name:"createQueryKey"})}),n=t.ensureSymbol({selector:e.api.getSelector("QueryKey")}),o=i.indexedAccessTypeNode({indexType:i.literalTypeNode({literal:i.ots.number(0)}),objectType:i.typeReferenceNode({typeArguments:[i.typeReferenceNode({typeName:bn})],typeName:n.placeholder})}),s=be(e.context.config),a=e.getPluginOrThrow("@hey-api/sdk"),p=e.gen.selectSymbolFirstOrThrow(a.api.getSelector("Options")),c=A(e.context.config),m;c.api&&"getSelector"in c.api&&(m=e.gen.selectSymbolFirst(c.api.getSelector("client")));let l=i.constVariable({expression:i.arrowFunction({multiLine:true,parameters:[{name:"id",type:i.typeReferenceNode({typeName:"string"})},{isRequired:false,name:"options",type:i.typeReferenceNode({typeName:bn})},{isRequired:false,name:"tags",type:i.typeReferenceNode({typeName:"ReadonlyArray<string>"})}],returnType:i.typeTupleNode({types:[o]}),statements:[i.constVariable({assertion:o,expression:i.objectExpression({multiLine:false,obj:[{key:"_id",value:i.identifier({text:"id"})},{key:s,value:i.identifier({text:`options?.${s} || (options?.client ?? ${m?.placeholder}).getConfig().${s}`})}]}),name:"params",typeName:o}),i.ifStatement({expression:i.identifier({text:"tags"}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"tags"}),right:i.asExpression({expression:i.asExpression({expression:i.identifier({text:"tags"}),type:i.keywordTypeNode({keyword:"unknown"})}),type:i.keywordTypeNode({keyword:"undefined"})})})})]})}),i.ifStatement({expression:i.propertyAccessExpression({expression:ps,isOptional:true,name:i.identifier({text:"body"})}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"body"}),right:i.propertyAccessExpression({expression:"options",name:"body"})})})]})}),i.ifStatement({expression:i.propertyAccessExpression({expression:ps,isOptional:true,name:i.identifier({text:"headers"})}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"headers"}),right:i.asExpression({expression:i.asExpression({expression:i.propertyAccessExpression({expression:"options",name:"headers"}),type:i.keywordTypeNode({keyword:"unknown"})}),type:i.keywordTypeNode({keyword:"undefined"})})})})]})}),i.ifStatement({expression:i.propertyAccessExpression({expression:ps,isOptional:true,name:i.identifier({text:"path"})}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"path"}),right:i.propertyAccessExpression({expression:"options",name:"path"})})})]})}),i.ifStatement({expression:i.propertyAccessExpression({expression:ps,isOptional:true,name:i.identifier({text:"query"})}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"query"}),right:i.asExpression({expression:i.asExpression({expression:i.propertyAccessExpression({expression:"options",name:"query"}),type:i.keywordTypeNode({keyword:"unknown"})}),type:i.keywordTypeNode({keyword:"undefined"})})})})]})}),i.returnStatement({expression:i.arrayLiteralExpression({elements:[i.identifier({text:"params"})]})})],types:[{extends:i.typeReferenceNode({typeName:i.identifier({text:p.placeholder})}),name:bn}]}),name:r.placeholder});r.update({value:l});},ch=({id:e,operation:t,plugin:r})=>{let n=r.gen.ensureFile(r.output),o=r.config.queryKeys,s;o.tags&&t.tags&&t.tags.length>0&&(s=i.arrayLiteralExpression({elements:t.tags.map(c=>i.stringLiteral({text:c}))}));let a=n.ensureSymbol({selector:r.api.getSelector("createQueryKey")});return i.callExpression({functionName:a.placeholder,parameters:[i.ots.string(e),"options",s]})},Fm=({plugin:e})=>{let t=e.gen.ensureFile(e.output),r=t.ensureSymbol({selector:e.api.getSelector("_JSONValue")}).update({name:"_JSONValue"});t.addImport({from:e.name,typeNames:[r.placeholder]});let n=[{name:"_id",type:i.keywordTypeNode({keyword:"string"})},{isRequired:false,name:be(e.context.config),type:i.typeReferenceNode({typeName:r.placeholder})},{isRequired:false,name:"headers",type:i.typeReferenceNode({typeName:r.placeholder})},{isRequired:false,name:"query",type:i.typeReferenceNode({typeName:r.placeholder})},{isRequired:false,name:"tags",type:i.typeReferenceNode({typeName:r.placeholder})}],o=e.getPluginOrThrow("@hey-api/sdk"),s=e.gen.selectSymbolFirstOrThrow(o.api.getSelector("Options")),a=t.ensureSymbol({selector:e.api.getSelector("QueryKey")}).update({name:"QueryKey"}),p=i.typeAliasDeclaration({exportType:true,name:a.placeholder,type:i.typeTupleNode({types:[i.typeIntersectionNode({types:[i.typeReferenceNode({typeName:`Pick<${bn}, 'body' | 'path'>`}),i.typeInterfaceNode({properties:n,useLegacyResolution:true})]})]}),typeParameters:[{extends:i.typeReferenceNode({typeName:i.identifier({text:s.placeholder})}),name:bn}]});a.update({value:p});},Dm=({operation:e,plugin:t,symbol:r})=>{let n=Hr({operation:e,plugin:t}),{strippedTypeData:o}=_r({plugin:t,typeData:n});return i.constVariable({exportConst:true,expression:i.arrowFunction({parameters:[{isRequired:Or(e),name:"options",type:o}],statements:ch({id:e.id,operation:e,plugin:t})}),name:r.placeholder})};var vi="context",ki="options",Mm=({operation:e,plugin:t,queryFn:r,state:n})=>{if(Dr({operation:e}))return;let o=t.gen.ensureFile(t.output),s=le({context:t.context,operation:e});n.hasQueries||(n.hasQueries=true,n.hasCreateQueryKeyParamsFunction||(Fm({plugin:t}),$m({plugin:t}),n.hasCreateQueryKeyParamsFunction=true));let a=o.ensureSymbol({name:"UseQueryOptions",selector:t.api.getSelector("UseQueryOptions")});o.addImport({from:t.name,typeNames:[a.name]}),n.hasUsedQueryFn=true;let p=o.addSymbol({name:R({config:t.config.queryKeys,name:e.id})}),c=Dm({operation:e,plugin:t,symbol:p});p.update({value:c});let m=Hr({operation:e,plugin:t}),l=is({operation:e,plugin:t}),f=as({operation:e,plugin:t}),{isNuxtClient:u,strippedTypeData:d}=_r({plugin:t,typeData:m}),y=i.awaitExpression({expression:i.callExpression({functionName:r,parameters:[i.objectExpression({multiLine:true,obj:[{spread:ki},{spread:vi},{key:"throwOnError",value:true}]})]})}),h=[];t.getPluginOrThrow("@hey-api/sdk").config.responseStyle==="data"?h.push(i.returnVariable({expression:y})):h.push(i.constVariable({destructure:true,expression:y,name:"data"}),i.returnVariable({expression:"data"}));let x=[{key:"key",value:i.callExpression({functionName:p.placeholder,parameters:[ki]})},{key:"query",value:i.arrowFunction({async:true,multiLine:true,parameters:[u?{name:vi,type:d}:{name:vi}],statements:h})}],b=ss(t,e,"queryOptions");b&&x.push({key:"meta",value:b});let I=o.ensureSymbol({selector:t.api.getSelector("queryOptionsFn",e.id)}).update({name:R({config:t.config.queryOptions,name:e.id})}),E=i.constVariable({comment:t.config.comments?J({operation:e}):void 0,exportConst:true,expression:i.arrowFunction({parameters:[{isRequired:s,name:ki,type:d}],returnType:u?`${a.placeholder}<${f}, ${d}, ${l}>`:`${a.placeholder}<${f}, ${l}>`,statements:[i.returnStatement({expression:i.objectExpression({obj:x})})]}),name:I.placeholder});I.update({value:E});};var Lm=({plugin:e})=>{let t=e.gen.createFile(e.output,{extension:".ts",path:"{{path}}.gen",renderer:new M}),r={hasCreateQueryKeyParamsFunction:false,hasMutations:false,hasQueries:false,hasUsedQueryFn:false},n=e.getPluginOrThrow("@hey-api/sdk"),o=e.gen.selectSymbolFirst(n.api.getSelector("Options"));if(o&&t.addImport({from:o.file,typeNames:[o.placeholder]}),e.forEach("operation",({operation:s})=>{r.hasUsedQueryFn=false;let a=n.config.asClass?We({context:e.context,operation:s,plugin:n}):void 0,p=a?a.values().next().value:void 0,c=(p?[p.path[0],...p.path.slice(1).map(m=>k({case:"camelCase",value:m})),p.methodName].filter(Boolean):[Pe({config:e.context.config,handleIllegal:true,id:s.id,operation:s})]).join(".");if(e.hooks.operation.isQuery(s)&&e.config.queryOptions.enabled&&Mm({operation:s,plugin:e,queryFn:c,state:r}),e.hooks.operation.isMutation(s)&&e.config.mutationOptions.enabled&&qm({operation:s,plugin:e,queryFn:c,state:r}),r.hasUsedQueryFn){let m=e.gen.selectSymbolFirst(p?n.api.getSelector("class",p.path[0]):n.api.getSelector("function",s.id));m&&t.addImport({from:m.file,names:[m.placeholder]});}}),r.hasQueries){let s,a=A(e.context.config);a.api&&"getSelector"in a.api&&(s=e.gen.selectSymbolFirst(a.api.getSelector("client")),s&&t.addImport({from:s.file,names:[s.placeholder]}));}e.config.exportFromIndex&&t.hasContent()&&e.gen.ensureFile("index").addExport({from:t,namespaceImport:true});};var cs={api:new os({name:"@pinia/colada"}),config:{case:"camelCase",comments:true,exportFromIndex:false},dependencies:["@hey-api/typescript","@hey-api/sdk"],handler:Lm,name:"@pinia/colada",output:"@pinia/colada",resolveConfig:(e,t)=>{e.config.mutationOptions=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}Mutation"},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.mutationOptions}),e.config.queryKeys=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}QueryKey",tags:false},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.queryKeys}),e.config.queryOptions=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}Query"},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.queryOptions});}};var Wr=(e,t,r)=>{let n=e.config[r].meta;if(!n)return;let o=n(t);if(Object.keys(o).length)return i.valueToExpression({value:o})};var ht=({operation:e,plugin:t})=>{let r=t.gen.ensureFile(t.output),n=t.getPluginOrThrow("@hey-api/sdk");return gn({file:r,operation:e,plugin:n})},ms=({operation:e,plugin:t})=>{let r=t.gen.ensureFile(t.output),n=A(t.context.config),o=t.getPluginOrThrow("@hey-api/typescript"),s=t.gen.selectSymbolFirst(o.api.getSelector("error",e.id));s&&r.addImport({from:s.file,typeNames:[s.placeholder]});let a=s?.placeholder;if(!a){let p=r.ensureSymbol({selector:t.api.getSelector("DefaultError")}).update({name:"DefaultError"});r.addImport({from:t.name,typeNames:[p.placeholder]}),a=p.placeholder;}if(n.name==="@hey-api/client-axios"){let p=r.ensureSymbol({selector:t.api.getSelector("AxiosError")}).update({name:"AxiosError"});r.addImport({from:"axios",typeNames:[p.placeholder]}),a=`${p.placeholder}<${a}>`;}return a},ls=({operation:e,plugin:t})=>{let r=t.gen.ensureFile(t.output),n=t.getPluginOrThrow("@hey-api/typescript"),o=t.gen.selectSymbolFirst(n.api.getSelector("response",e.id));return o&&r.addImport({from:o.file,typeNames:[o.placeholder]}),o?.placeholder||"unknown"};var Sn="TOptions",Bm=i.identifier({text:"infinite"}),fs=i.identifier({text:"options"}),us=({plugin:e})=>{let t=e.gen.ensureFile(e.output),r=t.ensureSymbol({selector:e.api.getSelector("createQueryKey")}).update({name:R({config:{case:e.config.case},name:"createQueryKey"})}),n=t.ensureSymbol({selector:e.api.getSelector("QueryKey")}),o=i.indexedAccessTypeNode({indexType:i.literalTypeNode({literal:i.ots.number(0)}),objectType:i.typeReferenceNode({typeArguments:[i.typeReferenceNode({typeName:Sn})],typeName:n.placeholder})}),s=be(e.context.config),a=A(e.context.config),p;a.api&&"getSelector"in a.api&&(p=e.gen.selectSymbolFirst(a.api.getSelector("client")));let c=e.getPluginOrThrow("@hey-api/sdk"),m=e.gen.selectSymbolFirstOrThrow(c.api.getSelector("Options")),l=i.constVariable({expression:i.arrowFunction({multiLine:true,parameters:[{name:"id",type:i.typeReferenceNode({typeName:"string"})},{isRequired:false,name:"options",type:i.typeReferenceNode({typeName:Sn})},{isRequired:false,name:"infinite",type:i.typeReferenceNode({typeName:"boolean"})},{isRequired:false,name:"tags",type:i.typeReferenceNode({typeName:"ReadonlyArray<string>"})}],returnType:i.typeTupleNode({types:[o]}),statements:[i.constVariable({assertion:o,expression:i.objectExpression({multiLine:false,obj:[{key:"_id",value:i.identifier({text:"id"})},{key:s,value:i.identifier({text:`options?.${s} || (options?.client ?? ${p?.placeholder}).getConfig().${s}`})}]}),name:"params",typeName:o}),i.ifStatement({expression:Bm,thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"_infinite"}),right:Bm})})]})}),i.ifStatement({expression:i.identifier({text:"tags"}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"tags"}),right:i.identifier({text:"tags"})})})]})}),i.ifStatement({expression:i.propertyAccessExpression({expression:fs,isOptional:true,name:i.identifier({text:"body"})}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"body"}),right:i.propertyAccessExpression({expression:"options",name:"body"})})})]})}),i.ifStatement({expression:i.propertyAccessExpression({expression:fs,isOptional:true,name:i.identifier({text:"headers"})}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"headers"}),right:i.propertyAccessExpression({expression:"options",name:"headers"})})})]})}),i.ifStatement({expression:i.propertyAccessExpression({expression:fs,isOptional:true,name:i.identifier({text:"path"})}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"path"}),right:i.propertyAccessExpression({expression:"options",name:"path"})})})]})}),i.ifStatement({expression:i.propertyAccessExpression({expression:fs,isOptional:true,name:i.identifier({text:"query"})}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"query"}),right:i.propertyAccessExpression({expression:"options",name:"query"})})})]})}),i.returnStatement({expression:i.arrayLiteralExpression({elements:[i.identifier({text:"params"})]})})],types:[{extends:i.typeReferenceNode({typeName:i.identifier({text:m.placeholder})}),name:Sn}]}),name:r.placeholder});r.update({value:l});},lh=({id:e,isInfinite:t,operation:r,plugin:n})=>{let o=n.gen.ensureFile(n.output),s=t?n.config.infiniteQueryKeys:n.config.queryKeys,a;s.tags&&r.tags&&r.tags.length>0&&(a=i.arrayLiteralExpression({elements:r.tags.map(m=>i.stringLiteral({text:m}))}));let p=o.ensureSymbol({selector:n.api.getSelector("createQueryKey")});return i.callExpression({functionName:p.placeholder,parameters:[i.ots.string(e),"options",t||a?i.ots.boolean(!!t):void 0,a]})},ds=({plugin:e})=>{let t=e.gen.ensureFile(e.output),r=[{name:"_id",type:i.keywordTypeNode({keyword:"string"})},{isRequired:false,name:"_infinite",type:i.keywordTypeNode({keyword:"boolean"})},{isRequired:false,name:"tags",type:i.typeReferenceNode({typeName:"ReadonlyArray<string>"})}],n=e.getPluginOrThrow("@hey-api/sdk"),o=e.gen.selectSymbolFirstOrThrow(n.api.getSelector("Options")),s=t.ensureSymbol({selector:e.api.getSelector("QueryKey")}).update({name:"QueryKey"}),a=i.typeAliasDeclaration({exportType:true,name:s.placeholder,type:i.typeTupleNode({types:[i.typeIntersectionNode({types:[i.typeReferenceNode({typeName:`Pick<${Sn}, '${be(e.context.config)}' | 'body' | 'headers' | 'path' | 'query'>`}),i.typeInterfaceNode({properties:r,useLegacyResolution:true})]})]}),typeParameters:[{extends:i.typeReferenceNode({typeName:i.identifier({text:o.placeholder})}),name:Sn}]});s.update({value:a});},ys=({isInfinite:e,operation:t,plugin:r,symbol:n,typeQueryKey:o})=>{let s=ht({operation:t,plugin:r});return i.constVariable({exportConst:true,expression:i.arrowFunction({parameters:[{isRequired:Or(t),name:"options",type:s}],returnType:e?o:void 0,statements:lh({id:t.id,isInfinite:e,operation:t,plugin:r})}),name:n.placeholder})};var uh=({plugin:e})=>{let r=e.gen.ensureFile(e.output).ensureSymbol({selector:e.api.getSelector("createInfiniteParams")}).update({name:R({config:{case:e.config.case},name:"createInfiniteParams"})}),n=i.constVariable({expression:i.arrowFunction({multiLine:true,parameters:[{name:"queryKey",type:i.typeReferenceNode({typeName:"QueryKey<Options>"})},{name:"page",type:i.typeReferenceNode({typeName:"K"})}],statements:[i.constVariable({expression:i.objectExpression({obj:[{spread:i.propertyAccessExpression({expression:"queryKey",name:0})}]}),name:"params"}),i.ifStatement({expression:i.propertyAccessExpression({expression:i.identifier({text:"page"}),name:i.identifier({text:"body"})}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"body"}),right:i.objectExpression({multiLine:true,obj:[{assertion:"any",spread:"queryKey[0].body"},{assertion:"any",spread:"page.body"}]})})})]})}),i.ifStatement({expression:i.propertyAccessExpression({expression:i.identifier({text:"page"}),name:i.identifier({text:"headers"})}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"headers"}),right:i.objectExpression({multiLine:true,obj:[{spread:"queryKey[0].headers"},{spread:"page.headers"}]})})})]})}),i.ifStatement({expression:i.propertyAccessExpression({expression:i.identifier({text:"page"}),name:i.identifier({text:"path"})}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"path"}),right:i.objectExpression({multiLine:true,obj:[{assertion:"any",spread:"queryKey[0].path"},{assertion:"any",spread:"page.path"}]})})})]})}),i.ifStatement({expression:i.propertyAccessExpression({expression:i.identifier({text:"page"}),name:i.identifier({text:"query"})}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"query"}),right:i.objectExpression({multiLine:true,obj:[{assertion:"any",spread:"queryKey[0].query"},{assertion:"any",spread:"page.query"}]})})})]})}),i.returnVariable({expression:i.asExpression({expression:i.asExpression({expression:i.identifier({text:"params"}),type:i.keywordTypeNode({keyword:"unknown"})}),type:S__default.default.factory.createTypeQueryNode(i.identifier({text:"page"}))})})],types:[{extends:i.typeReferenceNode({typeName:i.identifier({text:"Pick<QueryKey<Options>[0], 'body' | 'headers' | 'path' | 'query'>"})}),name:"K"}]}),name:r.placeholder});r.update({value:n});},Vm=({operation:e,plugin:t,queryFn:r,state:n})=>{let o=Pp({context:t.context,operation:e});if(!o)return;let s=t.gen.ensureFile(t.output),a=le({context:t.context,operation:e});n.hasInfiniteQueries||(n.hasInfiniteQueries=true,n.hasCreateQueryKeyParamsFunction||(ds({plugin:t}),us({plugin:t}),n.hasCreateQueryKeyParamsFunction=true),n.hasCreateInfiniteParamsFunction||(uh({plugin:t}),n.hasCreateInfiniteParamsFunction=true));let p=s.ensureSymbol({selector:t.api.getSelector("infiniteQueryOptions")}).update({name:"infiniteQueryOptions"}),c=s.ensureSymbol({selector:t.api.getSelector("InfiniteData")}).update({name:"InfiniteData"});s.addImport({from:t.name,names:[p.name],typeNames:[c.name]}),n.hasUsedQueryFn=true;let m=ht({operation:e,plugin:t}),l=ms({operation:e,plugin:t}),f=ls({operation:e,plugin:t}),d=`${s.ensureSymbol({selector:t.api.getSelector("QueryKey")}).placeholder}<${m}>`,y=`Pick<${d}[0], 'body' | 'headers' | 'path' | 'query'>`,h=t.getPluginOrThrow("@hey-api/typescript"),x={usedTypeIDs:new Set},b=h.api.schemaToType({plugin:h,schema:o.schema,state:x}),I=`${fe({node:b,unescape:true})} | ${y}`,E=s.addSymbol({name:R({config:t.config.infiniteQueryKeys,name:e.id})}),$=ys({isInfinite:true,operation:e,plugin:t,symbol:E,typeQueryKey:d});E.update({value:$});let q=i.awaitExpression({expression:i.callExpression({functionName:r,parameters:[i.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:"params"},{key:"signal",shorthand:true,value:i.identifier({text:"signal"})},{key:"throwOnError",value:true}]})]})}),N=s.ensureSymbol({selector:t.api.getSelector("createInfiniteParams")}),W=[i.constVariable({comment:[{jsdoc:false,lines:["@ts-ignore"]}],expression:i.conditionalExpression({condition:i.binaryExpression({left:i.typeOfExpression({text:"pageParam"}),operator:"===",right:i.ots.string("object")}),whenFalse:i.objectExpression({multiLine:true,obj:[{key:o.in,value:i.objectExpression({multiLine:true,obj:[{key:o.name,value:i.identifier({text:"pageParam"})}]})}]}),whenTrue:i.identifier({text:"pageParam"})}),name:"page",typeName:y}),i.constVariable({expression:i.callExpression({functionName:N.placeholder,parameters:["queryKey","page"]}),name:"params"})];t.getPluginOrThrow("@hey-api/sdk").config.responseStyle==="data"?W.push(i.returnVariable({expression:q})):W.push(i.constVariable({destructure:true,expression:q,name:"data"}),i.returnVariable({expression:"data"}));let ie=[{key:"queryFn",value:i.arrowFunction({async:true,multiLine:true,parameters:[{destructure:[{name:"pageParam"},{name:"queryKey"},{name:"signal"}]}],statements:W})},{key:"queryKey",value:i.callExpression({functionName:E.placeholder,parameters:["options"]})}],D=Wr(t,e,"infiniteQueryOptions");D&&ie.push({key:"meta",value:D});let _=s.addSymbol({name:R({config:t.config.infiniteQueryOptions,name:e.id})}),St=i.constVariable({comment:t.config.comments?J({operation:e}):void 0,exportConst:true,expression:i.arrowFunction({parameters:[{isRequired:a,name:"options",type:m}],statements:[i.returnFunctionCall({args:[i.objectExpression({comments:[{jsdoc:false,lines:["@ts-ignore"]}],obj:ie})],name:p.placeholder,types:[f,l||"unknown",`${c.placeholder}<${f}>`,d,I]})]}),name:_.placeholder});_.update({value:St});};var Hm=({operation:e,plugin:t,queryFn:r,state:n})=>{let o=t.name==="@tanstack/angular-query-experimental"||t.name==="@tanstack/svelte-query"||t.name==="@tanstack/solid-query"?"MutationOptions":"UseMutationOptions",s=t.gen.ensureFile(t.output);n.hasMutations||(n.hasMutations=true);let a=s.ensureSymbol({name:o,selector:t.api.getSelector("MutationOptions")});s.addImport({from:t.name,typeNames:[a.name]}),n.hasUsedQueryFn=true;let p=ht({operation:e,plugin:t}),c=ms({operation:e,plugin:t}),m=ls({operation:e,plugin:t}),l=`${a.placeholder}<${m}, ${c}, ${p}>`,f="fnOptions",u=i.awaitExpression({expression:i.callExpression({functionName:r,parameters:[i.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:f},{key:"throwOnError",value:true}]})]})}),d=[];t.getPluginOrThrow("@hey-api/sdk").config.responseStyle==="data"?d.push(i.returnVariable({expression:u})):d.push(i.constVariable({destructure:true,expression:u,name:"data"}),i.returnVariable({expression:"data"}));let y=[{key:"mutationFn",value:i.arrowFunction({async:true,multiLine:true,parameters:[{name:f}],statements:d})}],h=Wr(t,e,"mutationOptions");h&&y.push({key:"meta",value:h});let x="mutationOptions",b=i.arrowFunction({parameters:[{isRequired:false,name:"options",type:`Partial<${p}>`}],returnType:l,statements:[i.constVariable({expression:i.objectExpression({obj:y}),name:x,typeName:l}),i.returnVariable({expression:x})]}),I=s.addSymbol({name:R({config:t.config.mutationOptions,name:e.id})}),E=i.constVariable({comment:t.config.comments?J({operation:e}):void 0,exportConst:true,expression:b,name:I.placeholder});I.update({value:E});};var ji="options",_m=({operation:e,plugin:t,queryFn:r,state:n})=>{if(Dr({operation:e}))return;let o=t.gen.ensureFile(t.output),s=le({context:t.context,operation:e});n.hasQueries||(n.hasQueries=true,n.hasCreateQueryKeyParamsFunction||(ds({plugin:t}),us({plugin:t}),n.hasCreateQueryKeyParamsFunction=true));let a=o.ensureSymbol({name:"queryOptions",selector:t.api.getSelector("queryOptions")});o.addImport({from:t.name,names:[a.name]}),n.hasUsedQueryFn=true;let p=o.addSymbol({name:R({config:t.config.queryKeys,name:e.id})}),c=ys({isInfinite:false,operation:e,plugin:t,symbol:p});p.update({value:c});let m=ht({operation:e,plugin:t}),l=i.awaitExpression({expression:i.callExpression({functionName:r,parameters:[i.objectExpression({multiLine:true,obj:[{spread:ji},{spread:"queryKey[0]"},{key:"signal",shorthand:true,value:i.identifier({text:"signal"})},{key:"throwOnError",value:true}]})]})}),f=[];t.getPluginOrThrow("@hey-api/sdk").config.responseStyle==="data"?f.push(i.returnVariable({expression:l})):f.push(i.constVariable({destructure:true,expression:l,name:"data"}),i.returnVariable({expression:"data"}));let u=[{key:"queryFn",value:i.arrowFunction({async:true,multiLine:true,parameters:[{destructure:[{name:"queryKey"},{name:"signal"}]}],statements:f})},{key:"queryKey",value:i.callExpression({functionName:p.placeholder,parameters:[ji]})}],d=Wr(t,e,"queryOptions");d&&u.push({key:"meta",value:d});let y=o.ensureSymbol({selector:t.api.getSelector("queryOptionsFn",e.id)}).update({name:R({config:t.config.queryOptions,name:e.id})}),h=i.constVariable({comment:t.config.comments?J({operation:e}):void 0,exportConst:t.config.queryOptions.exported,expression:i.arrowFunction({parameters:[{isRequired:s,name:ji,type:m}],statements:[i.returnFunctionCall({args:[i.objectExpression({obj:u})],name:a.placeholder})]}),name:y.placeholder});y.update({value:h});};var Wm="options",Km=({operation:e,plugin:t,state:r})=>{if(Dr({operation:e})||!("useQuery"in t.config))return;let n=t.gen.ensureFile(t.output),o=n.addSymbol({name:R({config:t.config.useQuery,name:e.id})});r.hasUseQuery||(r.hasUseQuery=true);let s=n.ensureSymbol({name:"useQuery",selector:t.api.getSelector("useQuery")});n.addImport({from:t.name,names:[s.name]});let a=le({context:t.context,operation:e}),p=ht({operation:e,plugin:t}),c=n.ensureSymbol({selector:t.api.getSelector("queryOptionsFn",e.id)}),m=i.constVariable({comment:t.config.comments?J({operation:e}):void 0,exportConst:true,expression:i.arrowFunction({parameters:[{isRequired:a,name:Wm,type:p}],statements:[i.returnStatement({expression:i.callExpression({functionName:s.placeholder,parameters:[i.callExpression({functionName:c.placeholder,parameters:[Wm]})]})})]}),name:o.placeholder});o.update({value:m});};var xt=({plugin:e})=>{let t=e.gen.createFile(e.output,{extension:".ts",path:"{{path}}.gen",renderer:new M}),r={hasCreateInfiniteParamsFunction:false,hasCreateQueryKeyParamsFunction:false,hasInfiniteQueries:false,hasMutations:false,hasQueries:false,hasUsedQueryFn:false},n=e.getPluginOrThrow("@hey-api/sdk"),o=e.gen.selectSymbolFirst(n.api.getSelector("Options"));if(o&&t.addImport({from:o.file,typeNames:[o.placeholder]}),e.forEach("operation",({operation:s})=>{r.hasUsedQueryFn=false;let a=n.config.asClass?We({context:e.context,operation:s,plugin:n}):void 0,p=a?a.values().next().value:void 0,c=(p?[p.path[0],...p.path.slice(1).map(m=>k({case:"camelCase",value:m})),p.methodName].filter(Boolean):[Pe({config:e.context.config,handleIllegal:true,id:s.id,operation:s})]).join(".");if(e.hooks.operation.isQuery(s)&&(e.config.queryOptions.enabled&&_m({operation:s,plugin:e,queryFn:c,state:r}),e.config.infiniteQueryOptions.enabled&&Vm({operation:s,plugin:e,queryFn:c,state:r}),"useQuery"in e.config&&e.config.useQuery.enabled&&Km({operation:s,plugin:e,state:r})),e.hooks.operation.isMutation(s)&&e.config.mutationOptions.enabled&&Hm({operation:s,plugin:e,queryFn:c,state:r}),r.hasUsedQueryFn){let m=e.gen.selectSymbolFirst(p?n.api.getSelector("class",p.path[0]):n.api.getSelector("function",s.id));m&&t.addImport({from:m.file,names:[m.placeholder]});}}),r.hasQueries||r.hasInfiniteQueries){let s,a=A(e.context.config);a.api&&"getSelector"in a.api&&(s=e.gen.selectSymbolFirst(a.api.getSelector("client")),s&&t.addImport({from:s.file,names:[s.placeholder]}));}e.config.exportFromIndex&&t.hasContent()&&e.gen.ensureFile("index").addExport({from:t,namespaceImport:true});};var dh=e=>`${Pe({config:T(),id:e.name,operation:e})}InfiniteOptions`,yh=e=>`${Pe({config:T(),id:e.name,operation:e})}Mutation`,gh=({config:e,id:t,operation:r})=>`${Pe({config:e,id:t,operation:r})}Options`,gs=({config:e,id:t,isInfinite:r,operation:n})=>`${Pe({config:e,id:t,operation:n})}${r?"Infinite":""}QueryKey`,hh=e=>{switch(e.in){case "formData":return "body";case "header":return "headers";default:return e.in}},xh="createInfiniteParams",el="createQueryKey",zm="infiniteQueryOptions",Qm="mutationOptions",wi="QueryKey",Um="queryOptions",Rn="TOptions",bh=({file:e})=>{let t=i.constVariable({expression:i.arrowFunction({multiLine:true,parameters:[{name:"queryKey",type:i.typeNode("QueryKey<OptionsLegacyParser>")},{name:"page",type:i.typeNode("K")}],statements:[i.constVariable({expression:i.identifier({text:"queryKey[0]"}),name:"params"}),i.ifStatement({expression:i.propertyAccessExpression({expression:i.identifier({text:"page"}),name:i.identifier({text:"body"})}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"body"}),right:i.objectExpression({multiLine:true,obj:[{assertion:"any",spread:"queryKey[0].body"},{assertion:"any",spread:"page.body"}]})})})]})}),i.ifStatement({expression:i.propertyAccessExpression({expression:i.identifier({text:"page"}),name:i.identifier({text:"headers"})}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"headers"}),right:i.objectExpression({multiLine:true,obj:[{spread:"queryKey[0].headers"},{spread:"page.headers"}]})})})]})}),i.ifStatement({expression:i.propertyAccessExpression({expression:i.identifier({text:"page"}),name:i.identifier({text:"path"})}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"path"}),right:i.objectExpression({multiLine:true,obj:[{spread:"queryKey[0].path"},{spread:"page.path"}]})})})]})}),i.ifStatement({expression:i.propertyAccessExpression({expression:i.identifier({text:"page"}),name:i.identifier({text:"query"})}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"query"}),right:i.objectExpression({multiLine:true,obj:[{spread:"queryKey[0].query"},{spread:"page.query"}]})})})]})}),i.returnVariable({expression:S__default.default.factory.createAsExpression(S__default.default.factory.createAsExpression(i.identifier({text:"params"}),S__default.default.factory.createKeywordTypeNode(S__default.default.SyntaxKind.UnknownKeyword)),S__default.default.factory.createTypeQueryNode(i.identifier({text:"page"})))})],types:[{extends:i.typeReferenceNode({typeName:i.identifier({text:"Pick<QueryKey<OptionsLegacyParser>[0], 'body' | 'headers' | 'path' | 'query'>"})}),name:"K"}]}),name:xh});e.add(t);},Zm=({file:e})=>{let t=i.indexedAccessTypeNode({indexType:i.typeNode(0),objectType:i.typeNode(wi,[i.typeNode(Rn)])}),r=i.identifier({text:"infinite"}),n=be(T()),o=i.constVariable({expression:i.arrowFunction({multiLine:true,parameters:[{name:"id",type:i.typeNode("string")},{isRequired:false,name:"options",type:i.typeNode(Rn)},{isRequired:false,name:"infinite",type:i.typeNode("boolean")}],returnType:t,statements:[i.constVariable({assertion:t,expression:i.objectExpression({multiLine:false,obj:[{key:"_id",value:i.identifier({text:"id"})},{key:n,value:i.identifier({text:`options?.${n} || (options?.client ?? _heyApiClient).getConfig().${n}`})}]}),name:"params",typeName:t}),i.ifStatement({expression:r,thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"_infinite"}),right:r})})]})}),i.ifStatement({expression:i.propertyAccessExpression({expression:i.identifier({text:"options"}),isOptional:true,name:i.identifier({text:"body"})}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"body"}),right:i.propertyAccessExpression({expression:"options",name:"body"})})})]})}),i.ifStatement({expression:i.propertyAccessExpression({expression:i.identifier({text:"options"}),isOptional:true,name:i.identifier({text:"headers"})}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"headers"}),right:i.propertyAccessExpression({expression:"options",name:"headers"})})})]})}),i.ifStatement({expression:i.propertyAccessExpression({expression:i.identifier({text:"options"}),isOptional:true,name:i.identifier({text:"path"})}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"path"}),right:i.propertyAccessExpression({expression:"options",name:"path"})})})]})}),i.ifStatement({expression:i.propertyAccessExpression({expression:i.identifier({text:"options"}),isOptional:true,name:i.identifier({text:"query"})}),thenStatement:i.block({statements:[i.expressionToStatement({expression:i.binaryExpression({left:i.propertyAccessExpression({expression:"params",name:"query"}),right:i.propertyAccessExpression({expression:"options",name:"query"})})})]})}),i.returnVariable({expression:"params"})],types:[{extends:i.typeReferenceNode({typeName:i.identifier({text:"OptionsLegacyParser"})}),name:Rn}]}),name:el});e.add(o);},Xm=({file:e})=>{let t=[{name:"_id",type:i.keywordTypeNode({keyword:"string"})},{isRequired:false,name:"_infinite",type:i.keywordTypeNode({keyword:"boolean"})}],r=i.typeAliasDeclaration({name:wi,type:i.typeTupleNode({types:[i.typeIntersectionNode({types:[i.typeReferenceNode({typeName:`Pick<${Rn}, '${be(T())}' | 'body' | 'headers' | 'path' | 'query'>`}),i.typeInterfaceNode({properties:t,useLegacyResolution:true})]})]}),typeParameters:[{extends:i.typeReferenceNode({typeName:i.identifier({text:"OptionsLegacyParser"})}),name:Rn}]});e.add(r);},Ni=({client:e,file:t,operation:r,typesModulePath:n})=>{let{name:o}=ir({client:e,meta:r.parameters.length?{$ref:r.name,name:r.name}:void 0,nameTransformer:ar,onImport:a=>{t.import({asType:true,module:n,name:a});}});return {typeData:Ii({importedType:o})}},Gm=({client:e,file:t,operation:r,pluginName:n,typesModulePath:o})=>{let s=T(),{name:a}=ir({client:e,meta:{$ref:r.name,name:r.name},nameTransformer:Vr,onImport:m=>{t.import({asType:true,module:o,name:m});}}),p={asType:true,name:a};if(p.name||(p=t.import({asType:true,module:n,name:"DefaultError"})),A(s).name==="@hey-api/client-axios"){let m=t.import({asType:true,module:"axios",name:"AxiosError"});p={...m,name:`${m.name}<${p.name}>`};}return {typeError:p}},Jm=({client:e,file:t,operation:r,typesModulePath:n})=>{let{name:o}=ir({client:e,meta:{$ref:r.name,name:r.name},nameTransformer:gt,onImport:a=>{t.import({asType:true,module:n,name:a});}});return {typeResponse:o||"void"}},Ym=({id:e,isInfinite:t})=>i.arrayLiteralExpression({elements:[i.callExpression({functionName:el,parameters:[i.ots.string(e),"options",t?i.ots.boolean(true):void 0]})],multiLine:false}),bt=({client:e,files:t,plugin:r})=>{let n=T();if(K(n))throw new Error("TanStack Query plugin does not support legacy clients");let o=t[r.name];o.import({asType:true,module:ne({config:n,sourceOutput:r.output}),name:"OptionsLegacyParser"});let s=mr({moduleOutput:t.types.nameWithoutExtension(),sourceOutput:r.output}),a=r.name==="@tanstack/angular-query-experimental"||r.name==="@tanstack/svelte-query"||r.name==="@tanstack/solid-query"?"MutationOptions":"UseMutationOptions",p,c=false,m=false,l=false,f=false,u=false,d=new Map;for(let y of e.services)for(let h of y.operations){let x=B(h);if(d.has(x))continue;d.set(x,true);let b=[n.plugins["@hey-api/sdk"]?.config.asClass&&_t({config:n,name:y.name}),Pe({config:n,handleIllegal:!n.plugins["@hey-api/sdk"]?.config.asClass,id:h.name,operation:h})].filter(Boolean).join("."),I=false;if(r.config.queryOptions.enabled&&["GET","POST"].includes(h.method)){u||(u=true,m||(Xm({file:o}),Zm({file:o}),m=true),o.import({module:r.name,name:Um})),I=true;let{typeData:E}=Ni({client:e,file:o,operation:h,typesModulePath:s}),$=dt(h.parameters),q=i.constVariable({exportConst:true,expression:i.arrowFunction({parameters:[{isRequired:$,name:"options",type:E}],statements:Ym({id:h.name})}),name:gs({config:n,id:h.name,operation:h})});o.add(q);let N=i.constVariable({comment:[],exportConst:true,expression:i.arrowFunction({parameters:[{isRequired:$,name:"options",type:E}],statements:[i.returnFunctionCall({args:[i.objectExpression({obj:[{key:"queryFn",value:i.arrowFunction({async:true,multiLine:true,parameters:[{destructure:[{name:"queryKey"},{name:"signal"}]}],statements:[i.constVariable({destructure:true,expression:i.awaitExpression({expression:i.callExpression({functionName:b,parameters:[i.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:"queryKey[0]"},{key:"signal",shorthand:true,value:i.identifier({text:"signal"})},{key:"throwOnError",value:true}]})]})}),name:"data"}),i.returnVariable({expression:"data"})]})},{key:"queryKey",value:i.callExpression({functionName:gs({config:n,id:h.name,operation:h}),parameters:["options"]})}]})],name:Um})]}),name:gh({config:n,id:h.name,operation:h})});o.add(N);}if(r.config.infiniteQueryOptions&&["GET","POST"].includes(h.method)){let E,$=h.parameters.find(q=>{if(ve(n.parser.pagination).test(q.name))return E=q,true;if(q.in==="body"){if(q.export==="reference"){let W=q.$refs[0];return e.models.find(D=>D.meta?.$ref===W)?.properties.find(D=>{if(ve(n.parser.pagination).test(D.name))return E=D,true})}return q.properties.find(W=>{if(ve(n.parser.pagination).test(W.name))return E=W,true})}});if($&&E){l||(l=true,m||(Xm({file:o}),Zm({file:o}),m=true),c||(bh({file:o}),c=true),o.import({module:r.name,name:zm}),p=o.import({asType:true,module:r.name,name:"InfiniteData"})),I=true;let{typeData:q}=Ni({client:e,file:o,operation:h,typesModulePath:s}),{typeError:N}=Gm({client:e,file:o,operation:h,pluginName:r.name,typesModulePath:s}),{typeResponse:W}=Jm({client:e,file:o,operation:h,typesModulePath:s}),ie=dt(h.parameters),D=`${wi}<${q}>`,_=`Pick<${D}[0], 'body' | 'headers' | 'path' | 'query'>`,St=`${E.base} | ${_}`,Ge=i.constVariable({exportConst:true,expression:i.arrowFunction({parameters:[{isRequired:ie,name:"options",type:q}],returnType:D,statements:Ym({id:h.name,isInfinite:true})}),name:gs({config:n,id:h.name,isInfinite:true,operation:h})});o.add(Ge);let cr=i.constVariable({comment:[],exportConst:true,expression:i.arrowFunction({parameters:[{isRequired:ie,name:"options",type:q}],statements:[i.returnFunctionCall({args:[i.objectExpression({comments:[{jsdoc:false,lines:["@ts-ignore"]}],obj:[{key:"queryFn",value:i.arrowFunction({async:true,multiLine:true,parameters:[{destructure:[{name:"pageParam"},{name:"queryKey"},{name:"signal"}]}],statements:[i.constVariable({comment:[{jsdoc:false,lines:["@ts-ignore"]}],expression:i.conditionalExpression({condition:i.binaryExpression({left:i.typeOfExpression({text:"pageParam"}),operator:"===",right:i.ots.string("object")}),whenFalse:i.objectExpression({multiLine:true,obj:[{key:hh($),value:i.objectExpression({multiLine:true,obj:[{key:E.name,value:i.identifier({text:"pageParam"})}]})}]}),whenTrue:i.identifier({text:"pageParam"})}),name:"page",typeName:_}),i.constVariable({expression:i.callExpression({functionName:"createInfiniteParams",parameters:["queryKey","page"]}),name:"params"}),i.constVariable({destructure:true,expression:i.awaitExpression({expression:i.callExpression({functionName:b,parameters:[i.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:"params"},{key:"signal",shorthand:true,value:i.identifier({text:"signal"})},{key:"throwOnError",value:true}]})]})}),name:"data"}),i.returnVariable({expression:"data"})]})},{key:"queryKey",value:i.callExpression({functionName:gs({config:n,id:h.name,isInfinite:true,operation:h}),parameters:["options"]})}]})],name:zm,types:[W,N.name,`${typeof p=="string"?p:p.name}<${W}>`,D,St]})]}),name:dh(h)});o.add(cr);}}if(r.config.mutationOptions&&["DELETE","PATCH","POST","PUT"].includes(h.method)){f||(f=true,o.import({asType:true,module:r.name,name:a})),I=true;let{typeData:E}=Ni({client:e,file:o,operation:h,typesModulePath:s}),{typeError:$}=Gm({client:e,file:o,operation:h,pluginName:r.name,typesModulePath:s}),{typeResponse:q}=Jm({client:e,file:o,operation:h,typesModulePath:s}),N="fnOptions",W=i.arrowFunction({parameters:[{isRequired:false,name:"options",type:`Partial<${E}>`}],statements:[i.constVariable({expression:i.objectExpression({obj:[{key:"mutationFn",value:i.arrowFunction({async:true,multiLine:true,parameters:[{name:N}],statements:[i.constVariable({destructure:true,expression:i.awaitExpression({expression:i.callExpression({functionName:b,parameters:[i.objectExpression({multiLine:true,obj:[{spread:"options"},{spread:N},{key:"throwOnError",value:true}]})]})}),name:"data"}),i.returnVariable({expression:"data"})]})}]}),name:Qm,typeName:`${a}<${q}, ${$.name}, ${E}>`}),i.returnVariable({expression:Qm})]}),ie=i.constVariable({comment:[],exportConst:true,expression:W,name:yh(h)});o.add(ie);}(u||l)&&o.import({alias:"_heyApiClient",module:mr({moduleOutput:t.client.nameWithoutExtension(),sourceOutput:r.output}),name:"client"}),I&&o.import({module:mr({moduleOutput:t.sdk.nameWithoutExtension(),sourceOutput:r.output}),name:b.split(".")[0]});}};var hs=class{constructor(t){this.meta=t;}getSelector(...t){return [this.meta.name,...t]}};var xs={api:new hs({name:"@tanstack/angular-query-experimental"}),config:{case:"camelCase",comments:true,exportFromIndex:false},dependencies:["@hey-api/sdk","@hey-api/typescript"],handler:xt,handlerLegacy:bt,name:"@tanstack/angular-query-experimental",output:"@tanstack/angular-query-experimental",resolveConfig:(e,t)=>{e.config.infiniteQueryKeys=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}InfiniteQueryKey",tags:false},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.infiniteQueryKeys}),e.config.infiniteQueryOptions=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}InfiniteOptions"},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.infiniteQueryOptions}),e.config.mutationOptions=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}Mutation"},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.mutationOptions}),e.config.queryKeys=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}QueryKey",tags:false},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.queryKeys}),e.config.queryOptions=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,exported:true,name:"{{name}}Options"},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.queryOptions});}};var bs=class{constructor(t){this.meta=t;}getSelector(...t){return [this.meta.name,...t]}};var Ss={api:new bs({name:"@tanstack/react-query"}),config:{case:"camelCase",comments:true,exportFromIndex:false},dependencies:["@hey-api/sdk","@hey-api/typescript"],handler:xt,handlerLegacy:bt,name:"@tanstack/react-query",output:"@tanstack/react-query",resolveConfig:(e,t)=>{e.config.infiniteQueryKeys=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}InfiniteQueryKey",tags:false},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.infiniteQueryKeys}),e.config.infiniteQueryOptions=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}InfiniteOptions"},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.infiniteQueryOptions}),e.config.mutationOptions=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}Mutation"},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.mutationOptions}),e.config.queryKeys=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}QueryKey",tags:false},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.queryKeys}),e.config.queryOptions=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,exported:true,name:"{{name}}Options"},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.queryOptions}),e.config.useQuery=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:false,name:"use{{name}}Query"},mappers:{boolean:r=>({enabled:r}),function:r=>({enabled:true,name:r}),object:r=>({enabled:true,...r}),string:r=>({enabled:true,name:r})},value:e.config.useQuery}),e.config.useQuery.enabled&&(e.config.queryOptions.enabled||(e.config.queryOptions.enabled=true,e.config.queryOptions.exported=false));}};var Os=class{constructor(t){this.meta=t;}getSelector(...t){return [this.meta.name,...t]}};var Rs={api:new Os({name:"@tanstack/solid-query"}),config:{case:"camelCase",comments:true,exportFromIndex:false},dependencies:["@hey-api/sdk","@hey-api/typescript"],handler:xt,handlerLegacy:bt,name:"@tanstack/solid-query",output:"@tanstack/solid-query",resolveConfig:(e,t)=>{e.config.infiniteQueryKeys=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}InfiniteQueryKey",tags:false},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.infiniteQueryKeys}),e.config.infiniteQueryOptions=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}InfiniteOptions"},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.infiniteQueryOptions}),e.config.mutationOptions=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}Mutation"},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.mutationOptions}),e.config.queryKeys=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}QueryKey",tags:false},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.queryKeys}),e.config.queryOptions=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,exported:true,name:"{{name}}Options"},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.queryOptions});}};var Ts=class{constructor(t){this.meta=t;}getSelector(...t){return [this.meta.name,...t]}};var Ps={api:new Ts({name:"@tanstack/svelte-query"}),config:{case:"camelCase",comments:true,exportFromIndex:false},dependencies:["@hey-api/sdk","@hey-api/typescript"],handler:xt,handlerLegacy:bt,name:"@tanstack/svelte-query",output:"@tanstack/svelte-query",resolveConfig:(e,t)=>{e.config.infiniteQueryKeys=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}InfiniteQueryKey",tags:false},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.infiniteQueryKeys}),e.config.infiniteQueryOptions=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}InfiniteOptions"},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.infiniteQueryOptions}),e.config.mutationOptions=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}Mutation"},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.mutationOptions}),e.config.queryKeys=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}QueryKey",tags:false},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.queryKeys}),e.config.queryOptions=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,exported:true,name:"{{name}}Options"},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.queryOptions});}};var As=class{constructor(t){this.meta=t;}getSelector(...t){return [this.meta.name,...t]}};var Is={api:new As({name:"@tanstack/vue-query"}),config:{case:"camelCase",comments:true,exportFromIndex:false},dependencies:["@hey-api/sdk","@hey-api/typescript"],handler:xt,handlerLegacy:bt,name:"@tanstack/vue-query",output:"@tanstack/vue-query",resolveConfig:(e,t)=>{e.config.infiniteQueryKeys=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}InfiniteQueryKey",tags:false},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.infiniteQueryKeys}),e.config.infiniteQueryOptions=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}InfiniteOptions"},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.infiniteQueryOptions}),e.config.mutationOptions=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}Mutation"},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.mutationOptions}),e.config.queryKeys=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"{{name}}QueryKey",tags:false},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.queryKeys}),e.config.queryOptions=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,exported:true,name:"{{name}}Options"},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.queryOptions});}};var Cs=class{constructor(t){this.meta=t;}getSelector(...t){return [this.meta.name,...t]}};var Ah=({operation:e,plugin:t})=>{let r=t.gen.ensureFile(t.output),n=[],o=t.getPluginOrThrow("@hey-api/typescript"),s=t.gen.selectSymbolFirst(o.api.getSelector("data",e.id));s&&(e.body&&(r.addImport({from:s.file,typeNames:[s.placeholder]}),n.push({isRequired:e.body.required,name:"Body",type:`${s.placeholder}['body']`})),e.parameters&&(e.parameters.header&&(r.addImport({from:s.file,typeNames:[s.placeholder]}),n.push({isRequired:Dt(e.parameters.header),name:"Headers",type:`${s.placeholder}['headers']`})),e.parameters.path&&(r.addImport({from:s.file,typeNames:[s.placeholder]}),n.push({isRequired:Dt(e.parameters.path),name:"Params",type:`${s.placeholder}['path']`})),e.parameters.query&&(r.addImport({from:s.file,typeNames:[s.placeholder]}),n.push({isRequired:Dt(e.parameters.query),name:"Querystring",type:`${s.placeholder}['query']`}))));let{errors:a,responses:p}=it(e),c,m=t.gen.selectSymbolFirst(o.api.getSelector("errors",e.id));if(m&&a&&a.properties){let h=Object.keys(a.properties);if(h.length){if(!h.includes("default"))r.addImport({from:m.file,typeNames:[m.placeholder]}),c=i.typeReferenceNode({typeName:m.placeholder});else if(h.length>1){r.addImport({from:m.file,typeNames:[m.placeholder]});let b=i.typeReferenceNode({typeName:m.placeholder}),I=i.literalTypeNode({literal:i.stringLiteral({text:"default"})});c=i.typeReferenceNode({typeArguments:[b,I],typeName:"Omit"});}}}let l,f=t.gen.selectSymbolFirst(o.api.getSelector("responses",e.id));if(f&&p&&p.properties){let h=Object.keys(p.properties);if(h.length){if(!h.includes("default"))r.addImport({from:f.file,typeNames:[f.placeholder]}),l=i.typeReferenceNode({typeName:f.placeholder});else if(h.length>1){r.addImport({from:f.file,typeNames:[f.placeholder]});let b=i.typeReferenceNode({typeName:f.placeholder}),I=i.literalTypeNode({literal:i.stringLiteral({text:"default"})});l=i.typeReferenceNode({typeArguments:[b,I],typeName:"Omit"});}}}let u=[c,l].filter(Boolean);if(u.length&&n.push({name:"Reply",type:i.typeIntersectionNode({types:u})}),!n.length)return;let d=r.ensureSymbol({selector:t.api.getSelector("RouteHandler")});return {name:e.id,type:i.typeReferenceNode({typeArguments:[i.typeInterfaceNode({properties:n,useLegacyResolution:false})],typeName:d.placeholder})}},tl=({plugin:e})=>{let t=e.gen.createFile(e.output,{extension:".ts",path:"{{path}}.gen",renderer:new M}),r=[];e.forEach("operation",({operation:s})=>{let a=Ah({operation:s,plugin:e});a&&r.push(a);});let n=t.addSymbol({name:"RouteHandlers"});if(r.length){let s=t.ensureSymbol({selector:e.api.getSelector("RouteHandler")}).update({name:"RouteHandler"});t.addImport({from:"fastify",typeNames:[s.name]});}let o=i.typeAliasDeclaration({exportType:true,name:n.placeholder,type:i.typeInterfaceNode({properties:r,useLegacyResolution:false})});n.update({value:o});};var Es={api:new Cs({name:"fastify"}),config:{exportFromIndex:false},dependencies:["@hey-api/typescript"],handler:tl,name:"fastify",output:"fastify"};var P={actions:{args:i.identifier({text:"args"}),base64:i.identifier({text:"base64"}),bic:i.identifier({text:"bic"}),brand:i.identifier({text:"brand"}),bytes:i.identifier({text:"bytes"}),check:i.identifier({text:"check"}),checkItems:i.identifier({text:"checkItems"}),creditCard:i.identifier({text:"creditCard"}),cuid2:i.identifier({text:"cuid2"}),decimal:i.identifier({text:"decimal"}),description:i.identifier({text:"description"}),digits:i.identifier({text:"digits"}),email:i.identifier({text:"email"}),emoji:i.identifier({text:"emoji"}),empty:i.identifier({text:"empty"}),endsWith:i.identifier({text:"endsWith"}),entries:i.identifier({text:"entries"}),everyItem:i.identifier({text:"everyItem"}),excludes:i.identifier({text:"excludes"}),filterItems:i.identifier({text:"filterItems"}),findItem:i.identifier({text:"findItem"}),finite:i.identifier({text:"finite"}),flavor:i.identifier({text:"flavor"}),graphemes:i.identifier({text:"graphemes"}),gtValue:i.identifier({text:"gtValue"}),hash:i.identifier({text:"hash"}),hexColor:i.identifier({text:"hexColor"}),hexadecimal:i.identifier({text:"hexadecimal"}),imei:i.identifier({text:"imei"}),includes:i.identifier({text:"includes"}),integer:i.identifier({text:"integer"}),ip:i.identifier({text:"ip"}),ipv4:i.identifier({text:"ipv4"}),ipv6:i.identifier({text:"ipv6"}),isoDate:i.identifier({text:"isoDate"}),isoDateTime:i.identifier({text:"isoDateTime"}),isoTime:i.identifier({text:"isoTime"}),isoTimeSecond:i.identifier({text:"isoTimeSecond"}),isoTimestamp:i.identifier({text:"isoTimestamp"}),isoWeek:i.identifier({text:"isoWeek"}),length:i.identifier({text:"length"}),ltValue:i.identifier({text:"ltValue"}),mac:i.identifier({text:"mac"}),mac48:i.identifier({text:"mac48"}),mac64:i.identifier({text:"mac64"}),mapItems:i.identifier({text:"mapItems"}),maxBytes:i.identifier({text:"maxBytes"}),maxEntries:i.identifier({text:"maxEntries"}),maxGraphemes:i.identifier({text:"maxGraphemes"}),maxLength:i.identifier({text:"maxLength"}),maxSize:i.identifier({text:"maxSize"}),maxValue:i.identifier({text:"maxValue"}),maxWords:i.identifier({text:"maxWords"}),metadata:i.identifier({text:"metadata"}),mimeType:i.identifier({text:"mimeType"}),minBytes:i.identifier({text:"minBytes"}),minEntries:i.identifier({text:"minEntries"}),minGraphemes:i.identifier({text:"minGraphemes"}),minLength:i.identifier({text:"minLength"}),minSize:i.identifier({text:"minSize"}),minValue:i.identifier({text:"minValue"}),minWords:i.identifier({text:"minWords"}),multipleOf:i.identifier({text:"multipleOf"}),nanoid:i.identifier({text:"nanoid"}),nonEmpty:i.identifier({text:"nonEmpty"}),normalize:i.identifier({text:"normalize"}),notBytes:i.identifier({text:"notBytes"}),notEntries:i.identifier({text:"notEntries"}),notGraphemes:i.identifier({text:"notGraphemes"}),notLength:i.identifier({text:"notLength"}),notSize:i.identifier({text:"notSize"}),notValue:i.identifier({text:"notValue"}),notValues:i.identifier({text:"notValues"}),notWords:i.identifier({text:"notWords"}),octal:i.identifier({text:"octal"}),parseJson:i.identifier({text:"parseJson"}),partialCheck:i.identifier({text:"partialCheck"}),rawCheck:i.identifier({text:"rawCheck"}),rawTransform:i.identifier({text:"rawTransform"}),readonly:i.identifier({text:"readonly"}),reduceItems:i.identifier({text:"reduceItems"}),regex:i.identifier({text:"regex"}),returns:i.identifier({text:"returns"}),rfcEmail:i.identifier({text:"rfcEmail"}),safeInteger:i.identifier({text:"safeInteger"}),size:i.identifier({text:"size"}),slug:i.identifier({text:"slug"}),someItem:i.identifier({text:"someItem"}),sortItems:i.identifier({text:"sortItems"}),startsWith:i.identifier({text:"startsWith"}),stringifyJson:i.identifier({text:"stringifyJson"}),title:i.identifier({text:"title"}),toLowerCase:i.identifier({text:"toLowerCase"}),toMaxValue:i.identifier({text:"toMaxValue"}),toMinValue:i.identifier({text:"toMinValue"}),toUpperCase:i.identifier({text:"toUpperCase"}),transform:i.identifier({text:"transform"}),trim:i.identifier({text:"trim"}),trimEnd:i.identifier({text:"trimEnd"}),trimStart:i.identifier({text:"trimStart"}),ulid:i.identifier({text:"ulid"}),url:i.identifier({text:"url"}),uuid:i.identifier({text:"uuid"}),value:i.identifier({text:"value"}),values:i.identifier({text:"values"}),words:i.identifier({text:"words"})},async:{argsAsync:i.identifier({text:"argsAsync"}),arrayAsync:i.identifier({text:"arrayAsync"}),awaitAsync:i.identifier({text:"awaitAsync"}),checkAsync:i.identifier({text:"checkAsync"}),checkItemsAsync:i.identifier({text:"checkItemsAsync"}),customAsync:i.identifier({text:"customAsync"}),exactOptionalAsync:i.identifier({text:"exactOptionalAsync"}),fallbackAsync:i.identifier({text:"fallbackAsync"}),forwardAsync:i.identifier({text:"forwardAsync"}),getDefaultsAsync:i.identifier({text:"getDefaultsAsync"}),getFallbacksAsync:i.identifier({text:"getFallbacksAsync"}),intersectAsync:i.identifier({text:"intersectAsync"}),lazyAsync:i.identifier({text:"lazyAsync"}),looseObjectAsync:i.identifier({text:"looseObjectAsync"}),looseTupleAsync:i.identifier({text:"looseTupleAsync"}),mapAsync:i.identifier({text:"mapAsync"}),nonNullableAsync:i.identifier({text:"nonNullableAsync"}),nonNullishAsync:i.identifier({text:"nonNullishAsync"}),nonOptionalAsync:i.identifier({text:"nonOptionalAsync"}),nullableAsync:i.identifier({text:"nullableAsync"}),nullishAsync:i.identifier({text:"nullishAsync"}),objectAsync:i.identifier({text:"objectAsync"}),objectWithRestAsync:i.identifier({text:"objectWithRestAsync"}),optionalAsync:i.identifier({text:"optionalAsync"}),parseAsync:i.identifier({text:"parseAsync"}),parserAsync:i.identifier({text:"parserAsync"}),partialAsync:i.identifier({text:"partialAsync"}),partialCheckAsync:i.identifier({text:"partialCheckAsync"}),pipeAsync:i.identifier({text:"pipeAsync"}),rawCheckAsync:i.identifier({text:"rawCheckAsync"}),rawTransformAsync:i.identifier({text:"rawTransformAsync"}),recordAsync:i.identifier({text:"recordAsync"}),requiredAsync:i.identifier({text:"requiredAsync"}),returnsAsync:i.identifier({text:"returnsAsync"}),safeParseAsync:i.identifier({text:"safeParseAsync"}),safeParserAsync:i.identifier({text:"safeParserAsync"}),setAsync:i.identifier({text:"setAsync"}),strictObjectAsync:i.identifier({text:"strictObjectAsync"}),strictTupleAsync:i.identifier({text:"strictTupleAsync"}),transformAsync:i.identifier({text:"transformAsync"}),tupleAsync:i.identifier({text:"tupleAsync"}),tupleWithRestAsync:i.identifier({text:"tupleWithRestAsync"}),undefinedableAsync:i.identifier({text:"undefinedableAsync"}),unionAsync:i.identifier({text:"unionAsync"}),variantAsync:i.identifier({text:"variantAsync"})},methods:{assert:i.identifier({text:"assert"}),config:i.identifier({text:"config"}),fallback:i.identifier({text:"fallback"}),flatten:i.identifier({text:"flatten"}),forward:i.identifier({text:"forward"}),getDefault:i.identifier({text:"getDefault"}),getDefaults:i.identifier({text:"getDefaults"}),getDescription:i.identifier({text:"getDescription"}),getFallback:i.identifier({text:"getFallback"}),getFallbacks:i.identifier({text:"getFallbacks"}),getMetadata:i.identifier({text:"getMetadata"}),getTitle:i.identifier({text:"getTitle"}),is:i.identifier({text:"is"}),keyof:i.identifier({text:"keyof"}),message:i.identifier({text:"message"}),omit:i.identifier({text:"omit"}),parse:i.identifier({text:"parse"}),parser:i.identifier({text:"parser"}),partial:i.identifier({text:"partial"}),pick:i.identifier({text:"pick"}),pipe:i.identifier({text:"pipe"}),required:i.identifier({text:"required"}),safeParse:i.identifier({text:"safeParse"}),safeParser:i.identifier({text:"safeParser"}),summarize:i.identifier({text:"summarize"}),unwrap:i.identifier({text:"unwrap"})},schemas:{any:i.identifier({text:"any"}),array:i.identifier({text:"array"}),bigInt:i.identifier({text:"bigint"}),blob:i.identifier({text:"blob"}),boolean:i.identifier({text:"boolean"}),custom:i.identifier({text:"custom"}),date:i.identifier({text:"date"}),enum:i.identifier({text:"enum"}),exactOptional:i.identifier({text:"exactOptional"}),file:i.identifier({text:"file"}),function:i.identifier({text:"function"}),instance:i.identifier({text:"instance"}),intersect:i.identifier({text:"intersect"}),lazy:i.identifier({text:"lazy"}),literal:i.identifier({text:"literal"}),looseObject:i.identifier({text:"looseObject"}),looseTuple:i.identifier({text:"looseTuple"}),map:i.identifier({text:"map"}),nan:i.identifier({text:"nan"}),never:i.identifier({text:"never"}),nonNullable:i.identifier({text:"nonNullable"}),nonNullish:i.identifier({text:"nonNullish"}),nonOptional:i.identifier({text:"nonOptional"}),null:i.identifier({text:"null"}),nullable:i.identifier({text:"nullable"}),nullish:i.identifier({text:"nullish"}),number:i.identifier({text:"number"}),object:i.identifier({text:"object"}),objectWithRest:i.identifier({text:"objectWithRest"}),optional:i.identifier({text:"optional"}),picklist:i.identifier({text:"picklist"}),promise:i.identifier({text:"promise"}),record:i.identifier({text:"record"}),set:i.identifier({text:"set"}),strictObject:i.identifier({text:"strictObject"}),strictTuple:i.identifier({text:"strictTuple"}),string:i.identifier({text:"string"}),symbol:i.identifier({text:"symbol"}),tuple:i.identifier({text:"tuple"}),tupleWithRest:i.identifier({text:"tupleWithRest"}),undefined:i.identifier({text:"undefined"}),undefinedable:i.identifier({text:"undefinedable"}),union:i.identifier({text:"union"}),unknown:i.identifier({text:"unknown"}),variant:i.identifier({text:"variant"}),void:i.identifier({text:"void"})},types:{GenericSchema:i.identifier({text:"GenericSchema"})}};var vs=class{constructor(t){this.meta=t;}createRequestValidator({file:t,operation:r,plugin:n}){let o=n.gen.selectSymbolFirst(n.api.getSelector("data",r.id));if(!o)return;t.addImport({from:o.file,names:[o.placeholder]});let s=t.ensureSymbol({name:"v",selector:n.api.getSelector("import","valibot")});t.addImport({from:"valibot",namespaceImport:s.placeholder});let a="data";return i.arrowFunction({async:true,parameters:[{name:a}],statements:[i.returnStatement({expression:i.awaitExpression({expression:i.callExpression({functionName:i.propertyAccessExpression({expression:s.placeholder,name:P.async.parseAsync}),parameters:[i.identifier({text:o.placeholder}),i.identifier({text:a})]})})})]})}createResponseValidator({file:t,operation:r,plugin:n}){let o=n.gen.selectSymbolFirst(n.api.getSelector("responses",r.id));if(!o)return;t.addImport({from:o.file,names:[o.placeholder]});let s=t.ensureSymbol({name:"v",selector:n.api.getSelector("import","valibot")});t.addImport({from:"valibot",namespaceImport:s.placeholder});let a="data";return i.arrowFunction({async:true,parameters:[{name:a}],statements:[i.returnStatement({expression:i.awaitExpression({expression:i.callExpression({functionName:i.propertyAccessExpression({expression:s.placeholder,name:P.async.parseAsync}),parameters:[i.identifier({text:o.placeholder}),i.identifier({text:a})]})})})]})}getSelector(...t){return [this.meta.name,...t]}};var ks={int16:{max:32767,maxError:"Invalid value: Expected int16 to be <= 2^15-1",min:-32768,minError:"Invalid value: Expected int16 to be >= -2^15",needsBigInt:false},int32:{max:2147483647,maxError:"Invalid value: Expected int32 to be <= 2^31-1",min:-2147483648,minError:"Invalid value: Expected int32 to be >= -2^31",needsBigInt:false},int64:{max:"9223372036854775807",maxError:"Invalid value: Expected int64 to be <= 2^63-1",min:"-9223372036854775808",minError:"Invalid value: Expected int64 to be >= -2^63",needsBigInt:true},int8:{max:127,maxError:"Invalid value: Expected int8 to be <= 2^7-1",min:-128,minError:"Invalid value: Expected int8 to be >= -2^7",needsBigInt:false},uint16:{max:65535,maxError:"Invalid value: Expected uint16 to be <= 2^16-1",min:0,minError:"Invalid value: Expected uint16 to be >= 0",needsBigInt:false},uint32:{max:4294967295,maxError:"Invalid value: Expected uint32 to be <= 2^32-1",min:0,minError:"Invalid value: Expected uint32 to be >= 0",needsBigInt:false},uint64:{max:"18446744073709551615",maxError:"Invalid value: Expected uint64 to be <= 2^64-1",min:"0",minError:"Invalid value: Expected uint64 to be >= 0",needsBigInt:true},uint8:{max:255,maxError:"Invalid value: Expected uint8 to be <= 2^8-1",min:0,minError:"Invalid value: Expected uint8 to be >= 0",needsBigInt:false}},qi=e=>e!==void 0&&e in ks,rl=e=>qi(e)&&ks[e].needsBigInt,Kr=({isBigInt:e,value:t})=>{let r=i.valueToExpression({value:t});return e&&(typeof t=="bigint"||typeof t=="number"||typeof t=="string"||typeof t=="boolean")?i.callExpression({functionName:"BigInt",parameters:[r]}):r};var nl=({operation:e,plugin:t,state:r})=>{if(t.config.requests.enabled){let n=new Set,o={properties:{body:{type:"never"},path:{type:"never"},query:{type:"never"}},type:"object"};if(e.parameters){if(e.parameters.header){let p={},c=[];for(let m in e.parameters.header){let l=e.parameters.header[m];p[l.name]=l.schema,l.required&&(c.push(l.name),n.add("headers"));}Object.keys(p).length&&(o.properties.headers={properties:p,required:c,type:"object"});}if(e.parameters.path){let p={},c=[];for(let m in e.parameters.path){let l=e.parameters.path[m];p[l.name]=l.schema,l.required&&(c.push(l.name),n.add("path"));}Object.keys(p).length&&(o.properties.path={properties:p,required:c,type:"object"});}if(e.parameters.query){let p={},c=[];for(let m in e.parameters.query){let l=e.parameters.query[m];p[l.name]=l.schema,l.required&&(c.push(l.name),n.add("query"));}Object.keys(p).length&&(o.properties.query={properties:p,required:c,type:"object"});}}e.body&&(o.properties.body=e.body.schema,e.body.required&&n.add("body")),o.required=[...n];let a=t.gen.ensureFile(t.output).addSymbol({name:R({config:t.config.requests,name:e.id}),selector:t.api.getSelector("data",e.id)});xe({$ref:`#/valibot-data/${e.id}`,plugin:t,schema:o,state:r,symbol:a});}if(t.config.responses.enabled&&e.responses){let{response:n}=it(e);if(n){let s=t.gen.ensureFile(t.output).addSymbol({name:R({config:t.config.responses,name:e.id}),selector:t.api.getSelector("responses",e.id)});xe({$ref:`#/valibot-response/${e.id}`,plugin:t,schema:n,state:r,symbol:s});}}};var ol=({operation:e,plugin:t,state:r})=>{if(t.config.webhooks.enabled){let n=new Set,o={properties:{body:{type:"never"},path:{type:"never"},query:{type:"never"}},type:"object"};if(e.parameters){if(e.parameters.header){let m={},l=[];for(let f in e.parameters.header){let u=e.parameters.header[f];m[u.name]=u.schema,u.required&&(l.push(u.name),n.add("headers"));}Object.keys(m).length&&(o.properties.headers={properties:m,required:l,type:"object"});}if(e.parameters.path){let m={},l=[];for(let f in e.parameters.path){let u=e.parameters.path[f];m[u.name]=u.schema,u.required&&(l.push(u.name),n.add("path"));}Object.keys(m).length&&(o.properties.path={properties:m,required:l,type:"object"});}if(e.parameters.query){let m={},l=[];for(let f in e.parameters.query){let u=e.parameters.query[f];m[u.name]=u.schema,u.required&&(l.push(u.name),n.add("query"));}Object.keys(m).length&&(o.properties.query={properties:m,required:l,type:"object"});}}e.body&&(o.properties.body=e.body.schema,e.body.required&&n.add("body")),o.required=[...n];let s=t.api.getSelector("webhook-request",e.id),a=R({config:t.config.webhooks,name:e.id}),c=t.gen.ensureFile(t.output).addSymbol({name:a,selector:s});xe({$ref:`#/valibot-webhook/${e.id}`,plugin:t,schema:o,state:r,symbol:c});}};var Ue=({pipes:e,plugin:t})=>{if(e.length===1)return e[0];let r=t.gen.selectSymbolFirstOrThrow(t.api.getSelector("import","valibot"));return i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:P.methods.pipe}),parameters:e})},Ch=({plugin:e,schema:t,state:r})=>{let n=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","valibot")),o=i.propertyAccessExpression({expression:n.placeholder,name:P.schemas.array}),s=[];if(t.items){t=Y({schema:t});let a=t.items.map(p=>{let c=xe({plugin:e,schema:p,state:r});return Ue({pipes:c,plugin:e})});if(a.length===1){let p=i.callExpression({functionName:o,parameters:a});s.push(p);}else {t.logicalOperator;let p=i.callExpression({functionName:o,parameters:[Tn({plugin:e})]});s.push(p);}}else {let a=i.callExpression({functionName:o,parameters:[Tn({plugin:e})]});s.push(a);}if(t.minItems===t.maxItems&&t.minItems!==void 0){let a=i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:P.actions.length}),parameters:[i.valueToExpression({value:t.minItems})]});s.push(a);}else {if(t.minItems!==void 0){let a=i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:P.actions.minLength}),parameters:[i.valueToExpression({value:t.minItems})]});s.push(a);}if(t.maxItems!==void 0){let a=i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:P.actions.maxLength}),parameters:[i.valueToExpression({value:t.maxItems})]});s.push(a);}}return Ue({pipes:s,plugin:e})},Eh=({plugin:e,schema:t})=>{let r=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","valibot"));return typeof t.const=="boolean"?i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:P.schemas.literal}),parameters:[i.ots.boolean(t.const)]}):i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:P.schemas.boolean})})},vh=({plugin:e,schema:t})=>{let r=[],n=false;for(let a of t.items??[])a.type==="string"&&typeof a.const=="string"?r.push(i.stringLiteral({text:a.const})):(a.type==="null"||a.const===null)&&(n=true);if(!r.length)return Tn({plugin:e});let o=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","valibot")),s=i.callExpression({functionName:i.propertyAccessExpression({expression:o.placeholder,name:P.schemas.picklist}),parameters:[i.arrayLiteralExpression({elements:r,multiLine:false})]});return n&&(s=i.callExpression({functionName:i.propertyAccessExpression({expression:o.placeholder,name:P.schemas.nullable}),parameters:[s]})),s},kh=({plugin:e})=>{let t=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","valibot"));return i.callExpression({functionName:i.propertyAccessExpression({expression:t.placeholder,name:P.schemas.never})})},jh=({plugin:e})=>{let t=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","valibot"));return i.callExpression({functionName:i.propertyAccessExpression({expression:t.placeholder,name:P.schemas.null})})},sl=({plugin:e,schema:t})=>{let r=t.format,n=t.type==="integer",o=rl(r),s=qi(r)?ks[r]:null,a=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","valibot"));if(t.const!==void 0&&t.const!==null){let c=t.const,m;if(typeof c=="number"&&!r)m=i.ots.number(c);else if(typeof c=="number"&&r)o?m=i.callExpression({functionName:"BigInt",parameters:[i.ots.string(c.toString())]}):m=i.ots.number(c);else if(typeof c=="string"&&o){let l=c.endsWith("n")?c.slice(0,-1):c;m=i.callExpression({functionName:"BigInt",parameters:[i.ots.string(l)]});}else if(typeof c=="bigint"){let l=c.toString(),f=l.endsWith("n")?l.slice(0,-1):l;m=i.callExpression({functionName:"BigInt",parameters:[i.ots.string(f)]});}else m=i.valueToExpression({value:c});return i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:P.schemas.literal}),parameters:[m]})}let p=[];if(o){let c=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:P.schemas.union}),parameters:[i.arrayLiteralExpression({elements:[i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:P.schemas.number})}),i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:P.schemas.string})}),i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:P.schemas.bigInt})})],multiLine:false})]});p.push(c);let m=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:P.actions.transform}),parameters:[i.arrowFunction({parameters:[{name:"x"}],statements:i.callExpression({functionName:"BigInt",parameters:[i.identifier({text:"x"})]})})]});p.push(m);}else {let c=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:P.schemas.number})});p.push(c);}if(!o&&n){let c=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:P.actions.integer})});p.push(c);}if(s){let c=s.min,m=s.max,l=s.minError,f=s.maxError,u=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:P.actions.minValue}),parameters:[o?i.callExpression({functionName:"BigInt",parameters:[i.ots.string(c.toString())]}):i.ots.number(c),i.ots.string(l)]});p.push(u);let d=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:P.actions.maxValue}),parameters:[o?i.callExpression({functionName:"BigInt",parameters:[i.ots.string(m.toString())]}):i.ots.number(m),i.ots.string(f)]});p.push(d);}if(t.exclusiveMinimum!==void 0){let c=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:P.actions.gtValue}),parameters:[Kr({isBigInt:o,value:t.exclusiveMinimum})]});p.push(c);}else if(t.minimum!==void 0){let c=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:P.actions.minValue}),parameters:[Kr({isBigInt:o,value:t.minimum})]});p.push(c);}if(t.exclusiveMaximum!==void 0){let c=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:P.actions.ltValue}),parameters:[Kr({isBigInt:o,value:t.exclusiveMaximum})]});p.push(c);}else if(t.maximum!==void 0){let c=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:P.actions.maxValue}),parameters:[Kr({isBigInt:o,value:t.maximum})]});p.push(c);}return Ue({pipes:p,plugin:e})},Nh=({plugin:e,schema:t,state:r})=>{let n=[],o=t.required??[];for(let p in t.properties){let c=t.properties[p],m=o.includes(p),l=xe({optional:!m,plugin:e,schema:c,state:r});ae.lastIndex=0;let f;ae.test(p)?f=p.startsWith("-")?S__default.default.factory.createStringLiteral(p):S__default.default.factory.createNumericLiteral(p):f=p,(p.match(/^[0-9]/)&&p.match(/\D+/g)||p.match(/\W/g))&&!p.startsWith("'")&&!p.endsWith("'")&&(f=`'${p}'`),n.push(i.propertyAssignment({initializer:Ue({pipes:l,plugin:e}),name:f}));}let s=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","valibot"));if(t.additionalProperties&&t.additionalProperties.type==="object"&&!Object.keys(n).length){let p=xe({plugin:e,schema:t.additionalProperties,state:r});return {anyType:"AnyZodObject",expression:i.callExpression({functionName:i.propertyAccessExpression({expression:s.placeholder,name:P.schemas.record}),parameters:[i.callExpression({functionName:i.propertyAccessExpression({expression:s.placeholder,name:P.schemas.string}),parameters:[]}),Ue({pipes:p,plugin:e})]})}}let a=i.callExpression({functionName:i.propertyAccessExpression({expression:s.placeholder,name:P.schemas.object}),parameters:[S__default.default.factory.createObjectLiteralExpression(n,true)]});return {anyType:P.types.GenericSchema.text,expression:a}},wh=({plugin:e,schema:t})=>{let r=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","valibot"));if(typeof t.const=="string")return i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:P.schemas.literal}),parameters:[i.ots.string(t.const)]});let n=[],o=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:P.schemas.string})});if(n.push(o),t.format)switch(t.format){case "date":n.push(i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:P.actions.isoDate})}));break;case "date-time":n.push(i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:P.actions.isoTimestamp})}));break;case "ipv4":case "ipv6":n.push(i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:P.actions.ip})}));break;case "uri":n.push(i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:P.actions.url})}));break;case "email":case "time":case "uuid":n.push(i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:i.identifier({text:t.format})})}));break}if(t.minLength===t.maxLength&&t.minLength!==void 0){let s=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:P.actions.length}),parameters:[i.valueToExpression({value:t.minLength})]});n.push(s);}else {if(t.minLength!==void 0){let s=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:P.actions.minLength}),parameters:[i.valueToExpression({value:t.minLength})]});n.push(s);}if(t.maxLength!==void 0){let s=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:P.actions.maxLength}),parameters:[i.valueToExpression({value:t.maxLength})]});n.push(s);}}if(t.pattern){let s=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:P.actions.regex}),parameters:[i.regularExpressionLiteral({text:t.pattern})]});n.push(s);}return Ue({pipes:n,plugin:e})},qh=({plugin:e,schema:t,state:r})=>{let n=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","valibot"));if(t.const&&Array.isArray(t.const)){let o=t.const.map(a=>i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:P.schemas.literal}),parameters:[i.valueToExpression({value:a})]}));return i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:P.schemas.tuple}),parameters:[i.arrayLiteralExpression({elements:o})]})}if(t.items){let o=t.items.map(a=>{let p=xe({plugin:e,schema:a,state:r});return Ue({pipes:p,plugin:e})});return i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:P.schemas.tuple}),parameters:[i.arrayLiteralExpression({elements:o})]})}return Tn({plugin:e})},$h=({plugin:e})=>{let t=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","valibot"));return i.callExpression({functionName:i.propertyAccessExpression({expression:t.placeholder,name:P.schemas.undefined})})},Tn=({plugin:e})=>{let t=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","valibot"));return i.callExpression({functionName:i.propertyAccessExpression({expression:t.placeholder,name:P.schemas.unknown})})},Fh=({plugin:e})=>{let t=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","valibot"));return i.callExpression({functionName:i.propertyAccessExpression({expression:t.placeholder,name:P.schemas.void})})},il=({plugin:e,schema:t,state:r})=>{switch(t.type){case "array":return {expression:Ch({plugin:e,schema:t,state:r})};case "boolean":return {expression:Eh({plugin:e,schema:t})};case "enum":return {expression:vh({plugin:e,schema:t})};case "integer":case "number":return {expression:sl({plugin:e,schema:t})};case "never":return {expression:kh({plugin:e})};case "null":return {expression:jh({plugin:e})};case "object":return Nh({plugin:e,schema:t,state:r});case "string":return t.format==="int64"||t.format==="uint64"?{expression:sl({plugin:e,schema:t})}:{expression:wh({plugin:e,schema:t})};case "tuple":return {expression:qh({plugin:e,schema:t,state:r})};case "undefined":return {expression:$h({plugin:e})};case "unknown":return {expression:Tn({plugin:e})};case "void":return {expression:Fh({plugin:e})}}},xe=({$ref:e,optional:t,plugin:r,schema:n,state:o,symbol:s})=>{let a=r.gen.ensureFile(r.output),p,c=[];if(e&&(o.circularReferenceTracker.add(e),!s)){let l=r.api.getSelector("ref",e);r.gen.selectSymbolFirst(l)||(s=a.ensureSymbol({name:R({config:{case:o.nameCase,name:o.nameTransformer},name:V(e)}),selector:l}));}let m=r.gen.selectSymbolFirstOrThrow(r.api.getSelector("import","valibot"));if(n.$ref){let l=o.circularReferenceTracker.has(n.$ref),f=r.api.getSelector("ref",n.$ref),u=r.gen.selectSymbolFirst(f);if(!u){let d=r.context.resolveIrRef(n.$ref),y=xe({$ref:n.$ref,plugin:r,schema:d,state:o});c.push(...y),u=r.gen.selectSymbolFirst(f);}if(u){let d=i.identifier({text:u.placeholder});if(l){let y=i.callExpression({functionName:i.propertyAccessExpression({expression:m.placeholder,name:P.schemas.lazy}),parameters:[i.arrowFunction({statements:[i.returnStatement({expression:d})]})]});c.push(y),o.hasCircularReference=true;}else c.push(d);}}else if(n.type){let l=il({plugin:r,schema:n,state:o});if(p=l.anyType,c.push(l.expression),r.config.metadata&&n.description){let f=i.callExpression({functionName:i.propertyAccessExpression({expression:m.placeholder,name:P.actions.metadata}),parameters:[i.objectExpression({obj:[{key:"description",value:i.stringLiteral({text:n.description})}]})]});c.push(f);}}else if(n.items)if(n=Y({schema:n}),n.items){let l=n.items.map(f=>{let u=xe({plugin:r,schema:f,state:o});return Ue({pipes:u,plugin:r})});if(n.logicalOperator==="and"){let f=i.callExpression({functionName:i.propertyAccessExpression({expression:m.placeholder,name:P.schemas.intersect}),parameters:[i.arrayLiteralExpression({elements:l})]});c.push(f);}else {let f=i.callExpression({functionName:i.propertyAccessExpression({expression:m.placeholder,name:P.schemas.union}),parameters:[i.arrayLiteralExpression({elements:l})]});c.push(f);}}else {let l=xe({plugin:r,schema:n,state:o});c.push(...l);}else {let l=il({plugin:r,schema:{type:"unknown"},state:o});p=l.anyType,c.push(l.expression);}if(e&&o.circularReferenceTracker.delete(e),c.length&&n.accessScope==="read"){let l=i.callExpression({functionName:i.propertyAccessExpression({expression:m.placeholder,name:P.actions.readonly})});c.push(l);}if(c.length){let l;if(n.default!==void 0){let f=n.type==="integer"&&n.format==="int64";l=Kr({isBigInt:f,value:n.default}),l&&(c=[i.callExpression({functionName:i.propertyAccessExpression({expression:m.placeholder,name:P.schemas.optional}),parameters:[Ue({pipes:c,plugin:r}),l]})]);}t&&!l&&(c=[i.callExpression({functionName:i.propertyAccessExpression({expression:m.placeholder,name:P.schemas.optional}),parameters:[Ue({pipes:c,plugin:r})]})]);}if(s){let l=i.constVariable({comment:r.config.comments?Ae({schema:n}):void 0,exportConst:true,expression:Ue({pipes:c,plugin:r}),name:s.placeholder,typeName:o.hasCircularReference?i.propertyAccessExpression({expression:m.placeholder,name:p||P.types.GenericSchema.text}):void 0});return s.update({value:l}),[]}return c},al=({plugin:e})=>{let t=e.gen.createFile(e.output,{extension:".ts",path:"{{path}}.gen",renderer:new M}),r=t.ensureSymbol({name:"v",selector:e.api.getSelector("import","valibot")});t.addImport({from:"valibot",namespaceImport:r.placeholder}),e.forEach("operation","parameter","requestBody","schema","webhook",n=>{let o={circularReferenceTracker:new Set,hasCircularReference:false,nameCase:e.config.definitions.case,nameTransformer:e.config.definitions.name};switch(n.type){case "operation":nl({operation:n.operation,plugin:e,state:o});break;case "parameter":xe({$ref:n.$ref,plugin:e,schema:n.parameter.schema,state:o});break;case "requestBody":xe({$ref:n.$ref,plugin:e,schema:n.requestBody.schema,state:o});break;case "schema":xe({$ref:n.$ref,plugin:e,schema:n.schema,state:o});break;case "webhook":ol({operation:n.operation,plugin:e,state:o});break}}),e.config.exportFromIndex&&t.hasContent()&&e.gen.ensureFile("index").addExport({from:t,namespaceImport:true});};var js={api:new vs({name:"valibot"}),config:{case:"camelCase",comments:true,exportFromIndex:false,metadata:false},handler:al,name:"valibot",output:"valibot",resolveConfig:(e,t)=>{e.config.definitions=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"v{{name}}"},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.definitions}),e.config.requests=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"v{{name}}Data"},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.requests}),e.config.responses=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"v{{name}}Response"},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.responses}),e.config.webhooks=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"v{{name}}WebhookRequest"},mappers:{boolean:r=>({enabled:r}),function:r=>({name:r}),string:r=>({name:r})},value:e.config.webhooks});},tags:["validator"]};var g={ZodMiniOptional:i.identifier({text:"ZodMiniOptional"}),ZodOptional:i.identifier({text:"ZodOptional"}),_default:i.identifier({text:"_default"}),and:i.identifier({text:"and"}),array:i.identifier({text:"array"}),bigint:i.identifier({text:"bigint"}),boolean:i.identifier({text:"boolean"}),check:i.identifier({text:"check"}),coerce:i.identifier({text:"coerce"}),date:i.identifier({text:"date"}),datetime:i.identifier({text:"datetime"}),default:i.identifier({text:"default"}),describe:i.identifier({text:"describe"}),email:i.identifier({text:"email"}),enum:i.identifier({text:"enum"}),globalRegistry:i.identifier({text:"globalRegistry"}),gt:i.identifier({text:"gt"}),gte:i.identifier({text:"gte"}),infer:i.identifier({text:"infer"}),int:i.identifier({text:"int"}),intersection:i.identifier({text:"intersection"}),ip:i.identifier({text:"ip"}),ipv4:i.identifier({text:"ipv4"}),ipv6:i.identifier({text:"ipv6"}),iso:i.identifier({text:"iso"}),lazy:i.identifier({text:"lazy"}),length:i.identifier({text:"length"}),literal:i.identifier({text:"literal"}),lt:i.identifier({text:"lt"}),lte:i.identifier({text:"lte"}),max:i.identifier({text:"max"}),maxLength:i.identifier({text:"maxLength"}),min:i.identifier({text:"min"}),minLength:i.identifier({text:"minLength"}),never:i.identifier({text:"never"}),null:i.identifier({text:"null"}),nullable:i.identifier({text:"nullable"}),number:i.identifier({text:"number"}),object:i.identifier({text:"object"}),optional:i.identifier({text:"optional"}),parseAsync:i.identifier({text:"parseAsync"}),readonly:i.identifier({text:"readonly"}),record:i.identifier({text:"record"}),regex:i.identifier({text:"regex"}),register:i.identifier({text:"register"}),string:i.identifier({text:"string"}),time:i.identifier({text:"time"}),tuple:i.identifier({text:"tuple"}),undefined:i.identifier({text:"undefined"}),union:i.identifier({text:"union"}),unknown:i.identifier({text:"unknown"}),url:i.identifier({text:"url"}),uuid:i.identifier({text:"uuid"}),void:i.identifier({text:"void"})};var Ns=class{constructor(t){this.meta=t;}createRequestValidator({file:t,operation:r,plugin:n}){let o=n.gen.selectSymbolFirst(n.api.getSelector("data",r.id));if(!o)return;t.addImport({from:o.file,names:[o.placeholder]});let s="data";return i.arrowFunction({async:true,parameters:[{name:s}],statements:[i.returnStatement({expression:i.awaitExpression({expression:i.callExpression({functionName:i.propertyAccessExpression({expression:o.placeholder,name:g.parseAsync}),parameters:[i.identifier({text:s})]})})})]})}createResponseValidator({file:t,operation:r,plugin:n}){let o=n.gen.selectSymbolFirst(n.api.getSelector("responses",r.id));if(!o)return;t.addImport({from:o.file,names:[o.placeholder]});let s="data";return i.arrowFunction({async:true,parameters:[{name:s}],statements:[i.returnStatement({expression:i.awaitExpression({expression:i.callExpression({functionName:i.propertyAccessExpression({expression:o.placeholder,name:g.parseAsync}),parameters:[i.identifier({text:s})]})})})]})}getSelector(...t){return [this.meta.name,...t]}};var Ze=({plugin:e,schema:t,symbol:r,typeInferSymbol:n,zodSchema:o})=>{let s=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod")),a=i.constVariable({comment:e.config.comments?Ae({schema:t}):void 0,exportConst:true,expression:o.expression,name:r.placeholder,typeName:o.typeName?i.propertyAccessExpression({expression:s.placeholder,name:o.typeName}):void 0});if(r.update({value:a}),n){let p=i.typeAliasDeclaration({exportType:true,name:n.placeholder,type:i.typeReferenceNode({typeArguments:[i.typeOfExpression({text:r.placeholder})],typeName:i.propertyAccessExpression({expression:s.placeholder,name:g.infer})})});n.update({value:p});}};var zr=({plugin:e})=>{let t=e.package.getVersion("zod");if(t&&e.package.satisfies(t,"<4.0.0"))switch(e.config.compatibilityVersion){case 3:default:return "zod";case 4:return "zod/v4";case "mini":return "zod/v4-mini"}switch(e.config.compatibilityVersion){case 3:return "zod/v3";case 4:default:return "zod";case "mini":return "zod/mini"}};var Qr=({getZodSchema:e,operation:t,plugin:r})=>{let n=r.gen.ensureFile(r.output);if(r.config.requests.enabled){let o=new Set,s={properties:{body:{type:"never"},path:{type:"never"},query:{type:"never"}},type:"object"};if(t.parameters){if(t.parameters.header){let m={},l=[];for(let f in t.parameters.header){let u=t.parameters.header[f];m[u.name]=u.schema,u.required&&(l.push(u.name),o.add("headers"));}Object.keys(m).length&&(s.properties.headers={properties:m,required:l,type:"object"});}if(t.parameters.path){let m={},l=[];for(let f in t.parameters.path){let u=t.parameters.path[f];m[u.name]=u.schema,u.required&&(l.push(u.name),o.add("path"));}Object.keys(m).length&&(s.properties.path={properties:m,required:l,type:"object"});}if(t.parameters.query){let m={},l=[];for(let f in t.parameters.query){let u=t.parameters.query[f];m[u.name]=u.schema,u.required&&(l.push(u.name),o.add("query"));}Object.keys(m).length&&(s.properties.query={properties:m,required:l,type:"object"});}}t.body&&(s.properties.body=t.body.schema,t.body.required&&o.add("body")),s.required=[...o];let a=e(s),p=n.addSymbol({name:R({config:r.config.requests,name:t.id}),selector:r.api.getSelector("data",t.id)}),c=r.config.requests.types.infer.enabled?n.addSymbol({name:R({config:r.config.requests.types.infer,name:t.id}),selector:r.api.getSelector("type-infer-data",t.id)}):void 0;Ze({plugin:r,schema:s,symbol:p,typeInferSymbol:c,zodSchema:a});}if(r.config.responses.enabled&&t.responses){let{response:o}=it(t);if(o){let s=e(o),a=n.addSymbol({name:R({config:r.config.responses,name:t.id}),selector:r.api.getSelector("responses",t.id)}),p=r.config.responses.types.infer.enabled?n.addSymbol({name:R({config:r.config.responses.types.infer,name:t.id}),selector:r.api.getSelector("type-infer-responses",t.id)}):void 0;Ze({plugin:r,schema:o,symbol:a,typeInferSymbol:p,zodSchema:s});}}};var Ur=({getZodSchema:e,operation:t,plugin:r})=>{let n=r.gen.ensureFile(r.output);if(r.config.webhooks.enabled){let o=new Set,s={properties:{body:{type:"never"},path:{type:"never"},query:{type:"never"}},type:"object"};if(t.parameters){if(t.parameters.header){let m={},l=[];for(let f in t.parameters.header){let u=t.parameters.header[f];m[u.name]=u.schema,u.required&&(l.push(u.name),o.add("headers"));}Object.keys(m).length&&(s.properties.headers={properties:m,required:l,type:"object"});}if(t.parameters.path){let m={},l=[];for(let f in t.parameters.path){let u=t.parameters.path[f];m[u.name]=u.schema,u.required&&(l.push(u.name),o.add("path"));}Object.keys(m).length&&(s.properties.path={properties:m,required:l,type:"object"});}if(t.parameters.query){let m={},l=[];for(let f in t.parameters.query){let u=t.parameters.query[f];m[u.name]=u.schema,u.required&&(l.push(u.name),o.add("query"));}Object.keys(m).length&&(s.properties.query={properties:m,required:l,type:"object"});}}t.body&&(s.properties.body=t.body.schema,t.body.required&&o.add("body")),s.required=[...o];let a=e(s),p=n.addSymbol({name:R({config:r.config.webhooks,name:t.id}),selector:r.api.getSelector("webhook-request",t.id)}),c=r.config.webhooks.types.infer.enabled?n.addSymbol({name:R({config:r.config.webhooks.types.infer,name:t.id}),selector:r.api.getSelector("type-infer-webhook-request",t.id)}):void 0;Ze({plugin:r,schema:s,symbol:p,typeInferSymbol:c,zodSchema:a});}};var Mh=({plugin:e,schema:t,state:r})=>{let n=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod")),o={},s=i.propertyAccessExpression({expression:n.placeholder,name:g.array});if(!t.items)o.expression=i.callExpression({functionName:s,parameters:[Di({plugin:e}).expression]});else {t=Y({schema:t});let p=t.items.map(c=>{let m=jt({plugin:e,schema:c,state:r});return m.hasCircularReference&&(o.hasCircularReference=true),m.expression});p.length===1?o.expression=i.callExpression({functionName:s,parameters:p}):(t.logicalOperator,o.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.array}),parameters:[i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.union}),parameters:[i.arrayLiteralExpression({elements:p})]})]}));}let a=[];return t.minItems===t.maxItems&&t.minItems!==void 0?a.push(i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.length}),parameters:[i.valueToExpression({value:t.minItems})]})):(t.minItems!==void 0&&a.push(i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.minLength}),parameters:[i.valueToExpression({value:t.minItems})]})),t.maxItems!==void 0&&a.push(i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.maxLength}),parameters:[i.valueToExpression({value:t.maxItems})]}))),a.length&&(o.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:o.expression,name:g.check}),parameters:a})),o},Lh=({plugin:e,schema:t})=>{let r=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod")),n={};return typeof t.const=="boolean"?(n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.literal}),parameters:[i.ots.boolean(t.const)]}),n):(n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.boolean})}),n)},Bh=({plugin:e,schema:t})=>{let r=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod")),n={},o=[],s=false;for(let a of t.items??[])a.type==="string"&&typeof a.const=="string"?o.push(i.stringLiteral({text:a.const})):(a.type==="null"||a.const===null)&&(s=true);return o.length?(n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.enum}),parameters:[i.arrayLiteralExpression({elements:o,multiLine:false})]}),s&&(n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.nullable}),parameters:[n.expression]})),n):Di({plugin:e})},Vh=({plugin:e})=>{let t=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod")),r={};return r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:t.placeholder,name:g.never})}),r},Hh=({plugin:e})=>{let t=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod")),r={};return r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:t.placeholder,name:g.null})}),r},Pn=({isBigInt:e,value:t})=>{let r=i.valueToExpression({value:t});return e&&(typeof t=="bigint"||typeof t=="number"||typeof t=="string"||typeof t=="boolean")?i.callExpression({functionName:"BigInt",parameters:[r]}):r},_h=({plugin:e,schema:t})=>{let r=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod")),n={},o=t.type==="integer"&&t.format==="int64";if(typeof t.const=="number")return n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.literal}),parameters:[i.ots.number(t.const)]}),n;n.expression=i.callExpression({functionName:o?i.propertyAccessExpression({expression:i.propertyAccessExpression({expression:r.placeholder,name:g.coerce}),name:g.bigint}):i.propertyAccessExpression({expression:r.placeholder,name:g.number})}),!o&&t.type==="integer"&&(n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.int})}));let s=[];return t.exclusiveMinimum!==void 0?s.push(i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.gt}),parameters:[Pn({isBigInt:o,value:t.exclusiveMinimum})]})):t.minimum!==void 0&&s.push(i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.gte}),parameters:[Pn({isBigInt:o,value:t.minimum})]})),t.exclusiveMaximum!==void 0?s.push(i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.lt}),parameters:[Pn({isBigInt:o,value:t.exclusiveMaximum})]})):t.maximum!==void 0&&s.push(i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.lte}),parameters:[Pn({isBigInt:o,value:t.maximum})]})),s.length&&(n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:n.expression,name:g.check}),parameters:s})),n},Wh=({plugin:e,schema:t,state:r})=>{let n=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod")),o={},s=[],a=t.required??[];for(let p in t.properties){let c=t.properties[p],m=a.includes(p),l=jt({optional:!m,plugin:e,schema:c,state:r});l.hasCircularReference&&(o.hasCircularReference=true),ae.lastIndex=0;let f;ae.test(p)?f=p.startsWith("-")?S__default.default.factory.createStringLiteral(p):S__default.default.factory.createNumericLiteral(p):f=p,(p.match(/^[0-9]/)&&p.match(/\D+/g)||p.match(/\W/g))&&!p.startsWith("'")&&!p.endsWith("'")&&(f=`'${p}'`),l.hasCircularReference?s.push(i.getAccessorDeclaration({name:f,returnType:l.typeName?i.propertyAccessExpression({expression:n.placeholder,name:l.typeName}):void 0,statements:[i.returnStatement({expression:l.expression})]})):s.push(i.propertyAssignment({initializer:l.expression,name:f}));}if(t.additionalProperties&&(!t.properties||!Object.keys(t.properties).length)){let p=jt({plugin:e,schema:t.additionalProperties,state:r});return o.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.record}),parameters:[i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.string}),parameters:[]}),p.expression]}),p.hasCircularReference&&(o.hasCircularReference=true),o}return o.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.object}),parameters:[S__default.default.factory.createObjectLiteralExpression(s,true)]}),o},Kh=({plugin:e,schema:t})=>{let r=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod")),n={};if(typeof t.const=="string")return n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.literal}),parameters:[i.ots.string(t.const)]}),n;n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.string})});let o=[];if(e.config.dates.offset&&o.push({key:"offset",value:true}),e.config.dates.local&&o.push({key:"local",value:true}),t.format)switch(t.format){case "date":n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:i.propertyAccessExpression({expression:r.placeholder,name:g.iso}),name:g.date})});break;case "date-time":n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:i.propertyAccessExpression({expression:r.placeholder,name:g.iso}),name:g.datetime}),parameters:o.length>0?[i.objectExpression({obj:o})]:[]});break;case "email":n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.email})});break;case "ipv4":n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.ipv4})});break;case "ipv6":n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.ipv6})});break;case "time":n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:i.propertyAccessExpression({expression:r.placeholder,name:g.iso}),name:g.time})});break;case "uri":n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.url})});break;case "uuid":n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.uuid})});break}let s=[];return t.minLength===t.maxLength&&t.minLength!==void 0?s.push(i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.length}),parameters:[i.valueToExpression({value:t.minLength})]})):(t.minLength!==void 0&&s.push(i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.minLength}),parameters:[i.valueToExpression({value:t.minLength})]})),t.maxLength!==void 0&&s.push(i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.maxLength}),parameters:[i.valueToExpression({value:t.maxLength})]}))),t.pattern&&s.push(i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.regex}),parameters:[i.regularExpressionLiteral({text:t.pattern})]})),s.length&&(n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:n.expression,name:g.check}),parameters:s})),n},zh=({plugin:e,schema:t,state:r})=>{let n=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod")),o={};if(t.const&&Array.isArray(t.const)){let a=t.const.map(p=>i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.literal}),parameters:[i.valueToExpression({value:p})]}));return o.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.tuple}),parameters:[i.arrayLiteralExpression({elements:a})]}),o}let s=[];for(let a of t.items??[]){let p=jt({plugin:e,schema:a,state:r});s.push(p.expression),p.hasCircularReference&&(o.hasCircularReference=true);}return o.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.tuple}),parameters:[i.arrayLiteralExpression({elements:s})]}),o},Qh=({plugin:e})=>{let t=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod")),r={};return r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:t.placeholder,name:g.undefined})}),r},Di=({plugin:e})=>{let t=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod")),r={};return r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:t.placeholder,name:g.unknown})}),r},Uh=({plugin:e})=>{let t=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod")),r={};return r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:t.placeholder,name:g.void})}),r},pl=({plugin:e,schema:t,state:r})=>{switch(t.type){case "array":return Mh({plugin:e,schema:t,state:r});case "boolean":return Lh({plugin:e,schema:t});case "enum":return Bh({plugin:e,schema:t});case "integer":case "number":return _h({plugin:e,schema:t});case "never":return Vh({plugin:e});case "null":return Hh({plugin:e});case "object":return Wh({plugin:e,schema:t,state:r});case "string":return Kh({plugin:e,schema:t});case "tuple":return zh({plugin:e,schema:t,state:r});case "undefined":return Qh({plugin:e});case "unknown":return Di({plugin:e});case "void":return Uh({plugin:e})}},jt=({optional:e,plugin:t,schema:r,state:n})=>{let o=t.gen.ensureFile(t.output),s={},a=t.gen.selectSymbolFirstOrThrow(t.api.getSelector("import","zod"));if(r.$ref){let p=n.circularReferenceTracker.includes(r.$ref),c=n.currentReferenceTracker.includes(r.$ref);n.circularReferenceTracker.push(r.$ref),n.currentReferenceTracker.push(r.$ref);let m=t.api.getSelector("ref",r.$ref),l=t.gen.selectSymbolFirst(m);if(p)l||(l=o.ensureSymbol({selector:m})),c?s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:g.lazy}),parameters:[i.arrowFunction({returnType:i.keywordTypeNode({keyword:"any"}),statements:[i.returnStatement({expression:i.identifier({text:l.placeholder})})]})]}):s.expression=i.identifier({text:l.placeholder}),s.hasCircularReference=true;else if(!l){let f=t.context.resolveIrRef(r.$ref);ws({id:r.$ref,plugin:t,schema:f,state:n});}if(!p){let f=t.gen.selectSymbolFirstOrThrow(m);s.expression=i.identifier({text:f.placeholder});}n.circularReferenceTracker.pop(),n.currentReferenceTracker.pop();}else if(r.type){let p=pl({plugin:t,schema:r,state:n});s.expression=p.expression,s.hasCircularReference=p.hasCircularReference,t.config.metadata&&r.description&&(s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:s.expression,name:g.register}),parameters:[i.propertyAccessExpression({expression:a.placeholder,name:g.globalRegistry}),i.objectExpression({obj:[{key:"description",value:i.stringLiteral({text:r.description})}]})]}));}else if(r.items)if(r=Y({schema:r}),r.items){let p=r.items.map(c=>jt({plugin:t,schema:c,state:n}).expression);if(r.logicalOperator==="and"){let c=r.items[0];c.logicalOperator==="or"||c.type&&c.type!=="object"?s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:g.intersection}),parameters:p}):(s.expression=p[0],p.slice(1).forEach(m=>{s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:g.intersection}),parameters:[s.expression,m]});}));}else s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:g.union}),parameters:[i.arrayLiteralExpression({elements:p})]});}else s=jt({plugin:t,schema:r,state:n});else {let p=pl({plugin:t,schema:{type:"unknown"},state:n});s.expression=p.expression;}if(s.expression&&(r.accessScope==="read"&&(s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:g.readonly}),parameters:[s.expression]})),e&&(s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:g.optional}),parameters:[s.expression]}),s.typeName=g.ZodMiniOptional),r.default!==void 0)){let p=r.type==="integer"&&r.format==="int64",c=Pn({isBigInt:p,value:r.default});c&&(s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:g._default}),parameters:[s.expression,c]}));}return s},ws=({id:e,plugin:t,schema:r,state:n})=>{let o={circularReferenceTracker:[e],hasCircularReference:false,...n,currentReferenceTracker:[e]},s=t.api.getSelector("ref",e),a=t.gen.selectSymbolFirst(s);if(a&&!a.headless)return;let p=jt({plugin:t,schema:r,state:o}),c=t.gen.ensureFile(t.output),m=V(e);a=c.ensureSymbol({selector:s}),a=a.update({name:R({config:t.config.definitions,name:m})});let l=t.config.definitions.types.infer.enabled?c.addSymbol({name:R({config:t.config.definitions.types.infer,name:m}),selector:t.api.getSelector("type-infer-ref",e)}):void 0;Ze({plugin:t,schema:r,symbol:a,typeInferSymbol:l,zodSchema:p});},cl=({plugin:e})=>{let t=e.gen.createFile(e.output,{extension:".ts",path:"{{path}}.gen",renderer:new M}),r=t.ensureSymbol({name:"z",selector:e.api.getSelector("import","zod")});t.addImport({from:zr({plugin:e}),namespaceImport:r.placeholder}),e.forEach("operation","parameter","requestBody","schema","webhook",n=>{switch(n.type){case "operation":Qr({getZodSchema:o=>jt({plugin:e,schema:o,state:{circularReferenceTracker:[],currentReferenceTracker:[],hasCircularReference:false}}),operation:n.operation,plugin:e});break;case "parameter":ws({id:n.$ref,plugin:e,schema:n.parameter.schema});break;case "requestBody":ws({id:n.$ref,plugin:e,schema:n.requestBody.schema});break;case "schema":ws({id:n.$ref,plugin:e,schema:n.schema});break;case "webhook":Ur({getZodSchema:o=>jt({plugin:e,schema:o,state:{circularReferenceTracker:[],currentReferenceTracker:[],hasCircularReference:false}}),operation:n.operation,plugin:e});break}}),e.config.exportFromIndex&&t.hasContent()&&e.gen.ensureFile("index").addExport({from:t,namespaceImport:true});};var Zh=({plugin:e,schema:t,state:r})=>{let n=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod")),o=i.propertyAccessExpression({expression:n.placeholder,name:g.array}),s;if(!t.items)s=i.callExpression({functionName:o,parameters:[Li({plugin:e})]});else {t=Y({schema:t});let a=t.items.map(p=>Nt({plugin:e,schema:p,state:r}).expression);a.length===1?s=i.callExpression({functionName:o,parameters:a}):(t.logicalOperator,s=i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.array}),parameters:[i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.union}),parameters:[i.arrayLiteralExpression({elements:a})]})]}));}return t.minItems===t.maxItems&&t.minItems!==void 0?s=i.callExpression({functionName:i.propertyAccessExpression({expression:s,name:g.length}),parameters:[i.valueToExpression({value:t.minItems})]}):(t.minItems!==void 0&&(s=i.callExpression({functionName:i.propertyAccessExpression({expression:s,name:g.min}),parameters:[i.valueToExpression({value:t.minItems})]})),t.maxItems!==void 0&&(s=i.callExpression({functionName:i.propertyAccessExpression({expression:s,name:g.max}),parameters:[i.valueToExpression({value:t.maxItems})]}))),s},Xh=({plugin:e,schema:t})=>{let r=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod"));return typeof t.const=="boolean"?i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.literal}),parameters:[i.ots.boolean(t.const)]}):i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.boolean})})},Gh=({plugin:e,schema:t})=>{let r=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod")),n=[],o=false;for(let a of t.items??[])a.type==="string"&&typeof a.const=="string"?n.push(i.stringLiteral({text:a.const})):(a.type==="null"||a.const===null)&&(o=true);if(!n.length)return Li({plugin:e});let s=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.enum}),parameters:[i.arrayLiteralExpression({elements:n,multiLine:false})]});return o&&(s=i.callExpression({functionName:i.propertyAccessExpression({expression:s,name:g.nullable})})),s},Jh=({plugin:e})=>{let t=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod"));return i.callExpression({functionName:i.propertyAccessExpression({expression:t.placeholder,name:g.never})})},Yh=({plugin:e})=>{let t=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod"));return i.callExpression({functionName:i.propertyAccessExpression({expression:t.placeholder,name:g.null})})},An=({isBigInt:e,value:t})=>{let r=i.valueToExpression({value:t});return e&&(typeof t=="bigint"||typeof t=="number"||typeof t=="string"||typeof t=="boolean")?i.callExpression({functionName:"BigInt",parameters:[r]}):r},ex=({plugin:e,schema:t})=>{let r=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod")),n=t.type==="integer"&&t.format==="int64";if(typeof t.const=="number")return i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.literal}),parameters:[i.ots.number(t.const)]});let o=i.callExpression({functionName:n?i.propertyAccessExpression({expression:i.propertyAccessExpression({expression:r.placeholder,name:g.coerce}),name:g.bigint}):i.propertyAccessExpression({expression:r.placeholder,name:g.number})});return !n&&t.type==="integer"&&(o=i.callExpression({functionName:i.propertyAccessExpression({expression:o,name:g.int})})),t.exclusiveMinimum!==void 0?o=i.callExpression({functionName:i.propertyAccessExpression({expression:o,name:g.gt}),parameters:[An({isBigInt:n,value:t.exclusiveMinimum})]}):t.minimum!==void 0&&(o=i.callExpression({functionName:i.propertyAccessExpression({expression:o,name:g.gte}),parameters:[An({isBigInt:n,value:t.minimum})]})),t.exclusiveMaximum!==void 0?o=i.callExpression({functionName:i.propertyAccessExpression({expression:o,name:g.lt}),parameters:[An({isBigInt:n,value:t.exclusiveMaximum})]}):t.maximum!==void 0&&(o=i.callExpression({functionName:i.propertyAccessExpression({expression:o,name:g.lte}),parameters:[An({isBigInt:n,value:t.maximum})]})),o},tx=({plugin:e,schema:t,state:r})=>{let n=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod")),o=[],s=t.required??[];for(let p in t.properties){let c=t.properties[p],m=s.includes(p),l=Nt({optional:!m,plugin:e,schema:c,state:r}).expression;ae.lastIndex=0;let f;ae.test(p)?f=p.startsWith("-")?S__default.default.factory.createStringLiteral(p):S__default.default.factory.createNumericLiteral(p):f=p,(p.match(/^[0-9]/)&&p.match(/\D+/g)||p.match(/\W/g))&&!p.startsWith("'")&&!p.endsWith("'")&&(f=`'${p}'`),o.push(i.propertyAssignment({initializer:l,name:f}));}if(t.additionalProperties&&(!t.properties||!Object.keys(t.properties).length)){let p=Nt({plugin:e,schema:t.additionalProperties,state:r}).expression;return {anyType:"AnyZodObject",expression:i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.record}),parameters:[p]})}}return {anyType:"AnyZodObject",expression:i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.object}),parameters:[S__default.default.factory.createObjectLiteralExpression(o,true)]})}},rx=({plugin:e,schema:t})=>{let r=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod"));if(typeof t.const=="string")return i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.literal}),parameters:[i.ots.string(t.const)]});let n=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.string})}),o=[];if(e.config.dates.offset&&o.push({key:"offset",value:true}),e.config.dates.local&&o.push({key:"local",value:true}),t.format)switch(t.format){case "date":n=i.callExpression({functionName:i.propertyAccessExpression({expression:n,name:g.date})});break;case "date-time":n=i.callExpression({functionName:i.propertyAccessExpression({expression:n,name:g.datetime}),parameters:o.length>0?[i.objectExpression({obj:o})]:[]});break;case "email":n=i.callExpression({functionName:i.propertyAccessExpression({expression:n,name:g.email})});break;case "ipv4":case "ipv6":n=i.callExpression({functionName:i.propertyAccessExpression({expression:n,name:g.ip})});break;case "time":n=i.callExpression({functionName:i.propertyAccessExpression({expression:n,name:g.time})});break;case "uri":n=i.callExpression({functionName:i.propertyAccessExpression({expression:n,name:g.url})});break;case "uuid":n=i.callExpression({functionName:i.propertyAccessExpression({expression:n,name:g.uuid})});break}return t.minLength===t.maxLength&&t.minLength!==void 0?n=i.callExpression({functionName:i.propertyAccessExpression({expression:n,name:g.length}),parameters:[i.valueToExpression({value:t.minLength})]}):(t.minLength!==void 0&&(n=i.callExpression({functionName:i.propertyAccessExpression({expression:n,name:g.min}),parameters:[i.valueToExpression({value:t.minLength})]})),t.maxLength!==void 0&&(n=i.callExpression({functionName:i.propertyAccessExpression({expression:n,name:g.max}),parameters:[i.valueToExpression({value:t.maxLength})]}))),t.pattern&&(n=i.callExpression({functionName:i.propertyAccessExpression({expression:n,name:g.regex}),parameters:[i.regularExpressionLiteral({text:t.pattern})]})),n},nx=({plugin:e,schema:t,state:r})=>{let n=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod"));if(t.const&&Array.isArray(t.const)){let a=t.const.map(c=>i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.literal}),parameters:[i.valueToExpression({value:c})]}));return i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.tuple}),parameters:[i.arrayLiteralExpression({elements:a})]})}let o=[];for(let a of t.items??[])o.push(Nt({plugin:e,schema:a,state:r}).expression);return i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.tuple}),parameters:[i.arrayLiteralExpression({elements:o})]})},ox=({plugin:e})=>{let t=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod"));return i.callExpression({functionName:i.propertyAccessExpression({expression:t.placeholder,name:g.undefined})})},Li=({plugin:e})=>{let t=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod"));return i.callExpression({functionName:i.propertyAccessExpression({expression:t.placeholder,name:g.unknown})})},sx=({plugin:e})=>{let t=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod"));return i.callExpression({functionName:i.propertyAccessExpression({expression:t.placeholder,name:g.void})})},ml=({plugin:e,schema:t,state:r})=>{switch(t.type){case "array":return {expression:Zh({plugin:e,schema:t,state:r})};case "boolean":return {expression:Xh({plugin:e,schema:t})};case "enum":return {expression:Gh({plugin:e,schema:t})};case "integer":case "number":return {expression:ex({plugin:e,schema:t})};case "never":return {expression:Jh({plugin:e})};case "null":return {expression:Yh({plugin:e})};case "object":return tx({plugin:e,schema:t,state:r});case "string":return {expression:rx({plugin:e,schema:t})};case "tuple":return {expression:nx({plugin:e,schema:t,state:r})};case "undefined":return {expression:ox({plugin:e})};case "unknown":return {expression:Li({plugin:e})};case "void":return {expression:sx({plugin:e})}}},Nt=({optional:e,plugin:t,schema:r,state:n})=>{let o=t.gen.ensureFile(t.output),s={},a=t.gen.selectSymbolFirstOrThrow(t.api.getSelector("import","zod"));if(r.$ref){let p=n.circularReferenceTracker.includes(r.$ref);n.circularReferenceTracker.push(r.$ref),n.currentReferenceTracker.push(r.$ref);let c=t.api.getSelector("ref",r.$ref),m=t.gen.selectSymbolFirst(c);if(p)m||(m=o.ensureSymbol({selector:c})),s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:g.lazy}),parameters:[i.arrowFunction({statements:[i.returnStatement({expression:i.identifier({text:m.placeholder})})]})]}),n.hasCircularReference=true;else if(!m){let l=t.context.resolveIrRef(r.$ref);qs({id:r.$ref,plugin:t,schema:l,state:n});}if(!p){let l=t.gen.selectSymbolFirstOrThrow(c);s.expression=i.identifier({text:l.placeholder});}n.circularReferenceTracker.pop(),n.currentReferenceTracker.pop();}else if(r.type){let p=ml({plugin:t,schema:r,state:n});s.expression=p.expression,s.typeName=p.anyType,t.config.metadata&&r.description&&(s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:s.expression,name:g.describe}),parameters:[i.stringLiteral({text:r.description})]}));}else if(r.items)if(r=Y({schema:r}),r.items){let p=r.items.map(c=>Nt({plugin:t,schema:c,state:n}).expression);if(r.logicalOperator==="and"){let c=r.items[0];c.logicalOperator==="or"||c.type&&c.type!=="object"?s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:g.intersection}),parameters:p}):(s.expression=p[0],p.slice(1).forEach(m=>{s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:s.expression,name:g.and}),parameters:[m]});}));}else s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:g.union}),parameters:[i.arrayLiteralExpression({elements:p})]});}else s=Nt({plugin:t,schema:r,state:n});else {let p=ml({plugin:t,schema:{type:"unknown"},state:n});s.expression=p.expression,s.typeName=p.anyType;}if(s.expression&&(r.accessScope==="read"&&(s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:s.expression,name:g.readonly})})),e&&(s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:s.expression,name:g.optional})})),r.default!==void 0)){let p=r.type==="integer"&&r.format==="int64",c=An({isBigInt:p,value:r.default});c&&(s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:s.expression,name:g.default}),parameters:[c]}));}return n.hasCircularReference?s.typeName||(s.typeName="ZodTypeAny"):s.typeName=void 0,s},qs=({id:e,plugin:t,schema:r,state:n})=>{n||(n={circularReferenceTracker:[e],currentReferenceTracker:[e],hasCircularReference:false});let o=t.api.getSelector("ref",e),s=t.gen.selectSymbolFirst(o);if(s&&!s.headless)return;let a=Nt({plugin:t,schema:r,state:n}),p=t.gen.ensureFile(t.output),c=V(e);s=p.ensureSymbol({selector:o}),s=s.update({name:R({config:t.config.definitions,name:c})});let m=t.config.definitions.types.infer.enabled?p.addSymbol({name:R({config:t.config.definitions.types.infer,name:c}),selector:t.api.getSelector("type-infer-ref",e)}):void 0;Ze({plugin:t,schema:r,symbol:s,typeInferSymbol:m,zodSchema:a});},ll=({plugin:e})=>{let t=e.gen.createFile(e.output,{extension:".ts",path:"{{path}}.gen",renderer:new M}),r=t.ensureSymbol({name:"z",selector:e.api.getSelector("import","zod")});t.addImport({aliases:{[r.name]:r.placeholder},from:zr({plugin:e}),names:[r.name]}),e.forEach("operation","parameter","requestBody","schema","webhook",n=>{switch(n.type){case "operation":Qr({getZodSchema:o=>Nt({plugin:e,schema:o,state:{circularReferenceTracker:[],currentReferenceTracker:[],hasCircularReference:false}}),operation:n.operation,plugin:e});break;case "parameter":qs({id:n.$ref,plugin:e,schema:n.parameter.schema});break;case "requestBody":qs({id:n.$ref,plugin:e,schema:n.requestBody.schema});break;case "schema":qs({id:n.$ref,plugin:e,schema:n.schema});break;case "webhook":Ur({getZodSchema:o=>Nt({plugin:e,schema:o,state:{circularReferenceTracker:[],currentReferenceTracker:[],hasCircularReference:false}}),operation:n.operation,plugin:e});break}}),e.config.exportFromIndex&&t.hasContent()&&e.gen.ensureFile("index").addExport({from:t,namespaceImport:true});};var ix=({plugin:e,schema:t,state:r})=>{let n={},o=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod")),s=i.propertyAccessExpression({expression:o.placeholder,name:g.array});if(!t.items)n.expression=i.callExpression({functionName:s,parameters:[Vi({plugin:e}).expression]});else {t=Y({schema:t});let a=t.items.map(p=>{let c=wt({plugin:e,schema:p,state:r});return c.hasCircularReference&&(n.hasCircularReference=true),c.expression});a.length===1?n.expression=i.callExpression({functionName:s,parameters:a}):(t.logicalOperator,n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:o.placeholder,name:g.array}),parameters:[i.callExpression({functionName:i.propertyAccessExpression({expression:o.placeholder,name:g.union}),parameters:[i.arrayLiteralExpression({elements:a})]})]}));}return t.minItems===t.maxItems&&t.minItems!==void 0?n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:n.expression,name:g.length}),parameters:[i.valueToExpression({value:t.minItems})]}):(t.minItems!==void 0&&(n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:n.expression,name:g.min}),parameters:[i.valueToExpression({value:t.minItems})]})),t.maxItems!==void 0&&(n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:n.expression,name:g.max}),parameters:[i.valueToExpression({value:t.maxItems})]}))),n},ax=({plugin:e,schema:t})=>{let r={},n=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod"));return typeof t.const=="boolean"?(r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.literal}),parameters:[i.ots.boolean(t.const)]}),r):(r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.boolean})}),r)},px=({plugin:e,schema:t})=>{let r={},n=[],o=false;for(let a of t.items??[])a.type==="string"&&typeof a.const=="string"?n.push(i.stringLiteral({text:a.const})):(a.type==="null"||a.const===null)&&(o=true);if(!n.length)return Vi({plugin:e});let s=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod"));return r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:s.placeholder,name:g.enum}),parameters:[i.arrayLiteralExpression({elements:n,multiLine:false})]}),o&&(r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:s.placeholder,name:g.nullable}),parameters:[r.expression]})),r},cx=({plugin:e})=>{let t={},r=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod"));return t.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.never})}),t},mx=({plugin:e})=>{let t={},r=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod"));return t.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.null})}),t},In=({isBigInt:e,value:t})=>{let r=i.valueToExpression({value:t});return e&&(typeof t=="bigint"||typeof t=="number"||typeof t=="string"||typeof t=="boolean")?i.callExpression({functionName:"BigInt",parameters:[r]}):r},lx=({plugin:e,schema:t})=>{let r={},n=t.type==="integer"&&t.format==="int64",o=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod"));return typeof t.const=="number"?(r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:o.placeholder,name:g.literal}),parameters:[i.ots.number(t.const)]}),r):(r.expression=i.callExpression({functionName:n?i.propertyAccessExpression({expression:i.propertyAccessExpression({expression:o.placeholder,name:g.coerce}),name:g.bigint}):i.propertyAccessExpression({expression:o.placeholder,name:g.number})}),!n&&t.type==="integer"&&(r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:o.placeholder,name:g.int})})),t.exclusiveMinimum!==void 0?r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.expression,name:g.gt}),parameters:[In({isBigInt:n,value:t.exclusiveMinimum})]}):t.minimum!==void 0&&(r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.expression,name:g.gte}),parameters:[In({isBigInt:n,value:t.minimum})]})),t.exclusiveMaximum!==void 0?r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.expression,name:g.lt}),parameters:[In({isBigInt:n,value:t.exclusiveMaximum})]}):t.maximum!==void 0&&(r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.expression,name:g.lte}),parameters:[In({isBigInt:n,value:t.maximum})]})),r)},fx=({plugin:e,schema:t,state:r})=>{let n={},o=[],s=t.required??[],a=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod"));for(let p in t.properties){let c=t.properties[p],m=s.includes(p),l=wt({optional:!m,plugin:e,schema:c,state:r});l.hasCircularReference&&(n.hasCircularReference=true),ae.lastIndex=0;let f;ae.test(p)?f=p.startsWith("-")?S__default.default.factory.createStringLiteral(p):S__default.default.factory.createNumericLiteral(p):f=p,(p.match(/^[0-9]/)&&p.match(/\D+/g)||p.match(/\W/g))&&!p.startsWith("'")&&!p.endsWith("'")&&(f=`'${p}'`),l.hasCircularReference?o.push(i.getAccessorDeclaration({name:f,returnType:l.typeName?i.propertyAccessExpression({expression:a.placeholder,name:l.typeName}):void 0,statements:[i.returnStatement({expression:l.expression})]})):o.push(i.propertyAssignment({initializer:l.expression,name:f}));}if(t.additionalProperties&&(!t.properties||!Object.keys(t.properties).length)){let p=wt({plugin:e,schema:t.additionalProperties,state:r});return n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:g.record}),parameters:[i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:g.string}),parameters:[]}),p.expression]}),p.hasCircularReference&&(n.hasCircularReference=true),n.hasCircularReference?{...n,typeName:"ZodType"}:n}return n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:g.object}),parameters:[S__default.default.factory.createObjectLiteralExpression(o,true)]}),n.hasCircularReference?{...n,typeName:"ZodType"}:n},ux=({plugin:e,schema:t})=>{let r={},n=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod"));if(typeof t.const=="string")return r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.literal}),parameters:[i.ots.string(t.const)]}),r;r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.string})});let o=[];if(e.config.dates.offset&&o.push({key:"offset",value:true}),e.config.dates.local&&o.push({key:"local",value:true}),t.format)switch(t.format){case "date":r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:i.propertyAccessExpression({expression:n.placeholder,name:g.iso}),name:g.date})});break;case "date-time":r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:i.propertyAccessExpression({expression:n.placeholder,name:g.iso}),name:g.datetime}),parameters:o.length>0?[i.objectExpression({obj:o})]:[]});break;case "email":r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.email})});break;case "ipv4":r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.ipv4})});break;case "ipv6":r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.ipv6})});break;case "time":r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:i.propertyAccessExpression({expression:n.placeholder,name:g.iso}),name:g.time})});break;case "uri":r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.url})});break;case "uuid":r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:n.placeholder,name:g.uuid})});break}return t.minLength===t.maxLength&&t.minLength!==void 0?r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.expression,name:g.length}),parameters:[i.valueToExpression({value:t.minLength})]}):(t.minLength!==void 0&&(r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.expression,name:g.min}),parameters:[i.valueToExpression({value:t.minLength})]})),t.maxLength!==void 0&&(r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.expression,name:g.max}),parameters:[i.valueToExpression({value:t.maxLength})]}))),t.pattern&&(r.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.expression,name:g.regex}),parameters:[i.regularExpressionLiteral({text:t.pattern})]})),r},dx=({plugin:e,schema:t,state:r})=>{let n={},o=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod"));if(t.const&&Array.isArray(t.const)){let a=t.const.map(p=>i.callExpression({functionName:i.propertyAccessExpression({expression:o.placeholder,name:g.literal}),parameters:[i.valueToExpression({value:p})]}));return n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:o.placeholder,name:g.tuple}),parameters:[i.arrayLiteralExpression({elements:a})]}),n}let s=[];for(let a of t.items??[]){let p=wt({plugin:e,schema:a,state:r});s.push(p.expression),p.hasCircularReference&&(n.hasCircularReference=true);}return n.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:o.placeholder,name:g.tuple}),parameters:[i.arrayLiteralExpression({elements:s})]}),n},yx=({plugin:e})=>{let t={},r=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod"));return t.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.undefined})}),t},Vi=({plugin:e})=>{let t={},r=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod"));return t.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.unknown})}),t},gx=({plugin:e})=>{let t={},r=e.gen.selectSymbolFirstOrThrow(e.api.getSelector("import","zod"));return t.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:r.placeholder,name:g.void})}),t},fl=({plugin:e,schema:t,state:r})=>{switch(t.type){case "array":return ix({plugin:e,schema:t,state:r});case "boolean":return ax({plugin:e,schema:t});case "enum":return px({plugin:e,schema:t});case "integer":case "number":return lx({plugin:e,schema:t});case "never":return cx({plugin:e});case "null":return mx({plugin:e});case "object":return fx({plugin:e,schema:t,state:r});case "string":return ux({plugin:e,schema:t});case "tuple":return dx({plugin:e,schema:t,state:r});case "undefined":return yx({plugin:e});case "unknown":return Vi({plugin:e});case "void":return gx({plugin:e})}},wt=({optional:e,plugin:t,schema:r,state:n})=>{let o=t.gen.ensureFile(t.output),s={},a=t.gen.selectSymbolFirstOrThrow(t.api.getSelector("import","zod"));if(r.$ref){let p=n.circularReferenceTracker.includes(r.$ref),c=n.currentReferenceTracker.includes(r.$ref);n.circularReferenceTracker.push(r.$ref),n.currentReferenceTracker.push(r.$ref);let m=t.api.getSelector("ref",r.$ref),l=t.gen.selectSymbolFirst(m);if(p)l||(l=o.ensureSymbol({selector:m})),c?s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:g.lazy}),parameters:[i.arrowFunction({returnType:i.keywordTypeNode({keyword:"any"}),statements:[i.returnStatement({expression:i.identifier({text:l.placeholder})})]})]}):s.expression=i.identifier({text:l.placeholder}),s.hasCircularReference=true;else if(!l){let f=t.context.resolveIrRef(r.$ref);$s({id:r.$ref,plugin:t,schema:f,state:n});}if(!p){let f=t.gen.selectSymbolFirstOrThrow(m);s.expression=i.identifier({text:f.placeholder});}n.circularReferenceTracker.pop(),n.currentReferenceTracker.pop();}else if(r.type){let p=fl({plugin:t,schema:r,state:n});s.expression=p.expression,s.hasCircularReference=p.hasCircularReference,t.config.metadata&&r.description&&(s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:s.expression,name:g.register}),parameters:[i.propertyAccessExpression({expression:a.placeholder,name:g.globalRegistry}),i.objectExpression({obj:[{key:"description",value:i.stringLiteral({text:r.description})}]})]}));}else if(r.items)if(r=Y({schema:r}),r.items){let p=r.items.map(c=>wt({plugin:t,schema:c,state:n}).expression);if(r.logicalOperator==="and"){let c=r.items[0];c.logicalOperator==="or"||c.type&&c.type!=="object"?s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:g.intersection}),parameters:p}):(s.expression=p[0],p.slice(1).forEach(m=>{s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:s.expression,name:g.and}),parameters:[m]});}));}else s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:g.union}),parameters:[i.arrayLiteralExpression({elements:p})]});}else s=wt({plugin:t,schema:r,state:n});else {let p=fl({plugin:t,schema:{type:"unknown"},state:n});s.expression=p.expression;}if(s.expression&&(r.accessScope==="read"&&(s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:s.expression,name:g.readonly})})),e&&(s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:a.placeholder,name:g.optional}),parameters:[s.expression]}),s.typeName=g.ZodOptional),r.default!==void 0)){let p=r.type==="integer"&&r.format==="int64",c=In({isBigInt:p,value:r.default});c&&(s.expression=i.callExpression({functionName:i.propertyAccessExpression({expression:s.expression,name:g.default}),parameters:[c]}));}return s},$s=({id:e,plugin:t,schema:r,state:n})=>{let o={circularReferenceTracker:[e],hasCircularReference:false,...n,currentReferenceTracker:[e]},s=t.api.getSelector("ref",e),a=t.gen.selectSymbolFirst(s);if(a&&!a.headless)return;let p=wt({plugin:t,schema:r,state:o}),c=t.gen.ensureFile(t.output),m=V(e);a=c.ensureSymbol({selector:s}),a=a.update({name:R({config:t.config.definitions,name:m})});let l=t.config.definitions.types.infer.enabled?c.addSymbol({name:R({config:t.config.definitions.types.infer,name:m}),selector:t.api.getSelector("type-infer-ref",e)}):void 0;Ze({plugin:t,schema:r,symbol:a,typeInferSymbol:l,zodSchema:p});},Hi=({plugin:e})=>{let t=e.gen.createFile(e.output,{extension:".ts",path:"{{path}}.gen",renderer:new M}),r=t.ensureSymbol({name:"z",selector:e.api.getSelector("import","zod")});t.addImport({aliases:{[r.name]:r.placeholder},from:zr({plugin:e}),names:[r.name]}),e.forEach("operation","parameter","requestBody","schema","webhook",n=>{switch(n.type){case "operation":Qr({getZodSchema:o=>wt({plugin:e,schema:o,state:{circularReferenceTracker:[],currentReferenceTracker:[],hasCircularReference:false}}),operation:n.operation,plugin:e});break;case "parameter":$s({id:n.$ref,plugin:e,schema:n.parameter.schema});break;case "requestBody":$s({id:n.$ref,plugin:e,schema:n.requestBody.schema});break;case "schema":$s({id:n.$ref,plugin:e,schema:n.schema});break;case "webhook":Ur({getZodSchema:o=>wt({plugin:e,schema:o,state:{circularReferenceTracker:[],currentReferenceTracker:[],hasCircularReference:false}}),operation:n.operation,plugin:e});break}}),e.config.exportFromIndex&&t.hasContent()&&e.gen.ensureFile("index").addExport({from:t,namespaceImport:true});};var ul=e=>{let{plugin:t}=e;switch(t.config.compatibilityVersion){case 3:return ll(e);case 4:return Hi(e);case "mini":return cl(e);default:return Hi(e)}};var Fs={api:new Ns({name:"zod"}),config:{case:"camelCase",comments:true,exportFromIndex:false,metadata:false},handler:ul,name:"zod",output:"zod",resolveConfig:(e,t)=>{let n=t.package.getVersion("zod"),o=()=>n&&(n.major===4||n.major===3)?n.major:4,s=a=>{if(!a)return o();if(!n)return a;if((a===4||a===3||a==="mini")&&!t.package.satisfies(n,">=3.25.0 <5.0.0")){let p=o();return console.warn(`\u{1F50C} ${Xe__default.default.yellow("Warning:")} Installed ${Xe__default.default.cyan("zod")} ${Xe__default.default.cyan(`v${n.version}`)} does not support compatibility version ${Xe__default.default.yellow(String(a))}, using ${Xe__default.default.yellow(String(p))}.`),p}return a};e.config.compatibilityVersion=s(e.config.compatibilityVersion),e.config.dates=t.valueToObject({defaultValue:{local:false,offset:false},value:e.config.dates}),e.config.types=t.valueToObject({defaultValue:{infer:{case:"PascalCase",enabled:false}},mappers:{object:(a,p)=>({...a,infer:t.valueToObject({defaultValue:{...p.infer,enabled:a.infer!==void 0?!!a.infer:p.infer.enabled},mappers:tt,value:a.infer})})},value:e.config.types}),e.config.definitions=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"z{{name}}",types:{...e.config.types,infer:{...e.config.types.infer,name:"{{name}}ZodType"}}},mappers:{...tt,object:(a,p)=>({...a,types:t.valueToObject({defaultValue:p.types,mappers:{object:(c,m)=>({...c,infer:t.valueToObject({defaultValue:{...m.infer,enabled:c.infer!==void 0?!!c.infer:m.infer.enabled},mappers:tt,value:c.infer})})},value:a.types})})},value:e.config.definitions}),e.config.requests=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"z{{name}}Data",types:{...e.config.types,infer:{...e.config.types.infer,name:"{{name}}DataZodType"}}},mappers:{...tt,object:(a,p)=>({...a,types:t.valueToObject({defaultValue:p.types,mappers:{object:(c,m)=>({...c,infer:t.valueToObject({defaultValue:{...m.infer,enabled:c.infer!==void 0?!!c.infer:m.infer.enabled},mappers:tt,value:c.infer})})},value:a.types})})},value:e.config.requests}),e.config.responses=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"z{{name}}Response",types:{...e.config.types,infer:{...e.config.types.infer,name:"{{name}}ResponseZodType"}}},mappers:{...tt,object:(a,p)=>({...a,types:t.valueToObject({defaultValue:p.types,mappers:{object:(c,m)=>({...c,infer:t.valueToObject({defaultValue:{...m.infer,enabled:c.infer!==void 0?!!c.infer:m.infer.enabled},mappers:tt,value:c.infer})})},value:a.types})})},value:e.config.responses}),e.config.webhooks=t.valueToObject({defaultValue:{case:e.config.case??"camelCase",enabled:true,name:"z{{name}}WebhookRequest",types:{...e.config.types,infer:{...e.config.types.infer,name:"{{name}}WebhookRequestZodType"}}},mappers:{...tt,object:(a,p)=>({...a,types:t.valueToObject({defaultValue:p.types,mappers:{object:(c,m)=>({...c,infer:t.valueToObject({defaultValue:{...m.infer,enabled:c.infer!==void 0?!!c.infer:m.infer.enabled},mappers:tt,value:c.infer})})},value:a.types})})},value:e.config.webhooks});},tags:["validator"]};var Ds={"@angular/common":jo,"@hey-api/client-angular":wo,"@hey-api/client-axios":$o,"@hey-api/client-fetch":Do,"@hey-api/client-next":Lo,"@hey-api/client-nuxt":Vo,"@hey-api/schemas":Uo,"@hey-api/sdk":Xo,"@hey-api/transformers":es,"@hey-api/typescript":ns,"@pinia/colada":cs,"@tanstack/angular-query-experimental":xs,"@tanstack/react-query":Ss,"@tanstack/solid-query":Rs,"@tanstack/svelte-query":Ps,"@tanstack/vue-query":Is,fastify:Es,"legacy/angular":Ho,"legacy/axios":_o,"legacy/fetch":Wo,"legacy/node":Ko,"legacy/xhr":zo,valibot:js,zod:Fs};var _i=["@hey-api/typescript","@hey-api/sdk"],xx=({dependencies:e,userPlugins:t,userPluginsConfig:r})=>{let n=new Set,o=new Set,s={},a=p=>{if(n.has(p))throw new Error(`Circular reference detected at '${p}'`);if(o.has(p))return;n.add(p);let c=Ds[p],m=r[p];if(!c&&!m)throw new Error(`unknown plugin dependency "${p}" - do you need to register a custom plugin with this name?`);let l={...c,...m,config:{...c?.config,...m?.config},dependencies:new Set([...c?.dependencies||[],...m?.dependencies||[]])};if(l.resolveConfig){let f={package:Gn(e),pluginByTag:(u,d={})=>{let{defaultPlugin:y,errorMessage:h}=d;for(let x of t){let b=Ds[x]||r[x];if(b&&b.tags?.includes(u)&&x!==p)return x}if(y){let x=Ds[y]||r[y];if(x&&x.tags?.includes(u)&&y!==p)return y}throw new Error(h||`missing plugin - no plugin with tag "${u}" found`)},valueToObject:Qt};l.resolveConfig(l,f);}for(let f of l.dependencies)a(f);n.delete(p),o.add(p),s[p]=l;};for(let p of t)a(p);return {pluginOrder:Array.from(o),plugins:s}},bx=e=>typeof e=="string"?e.startsWith("@hey-api/client")||e.startsWith("legacy/"):e.name.startsWith("@hey-api/client")||e.name.startsWith("legacy/")||e.tags&&e.tags.includes("client"),dl=({dependencies:e,userConfig:t})=>{let r={},n=_i;t.plugins&&(t.plugins=t.plugins.filter(s=>typeof s=="string"&&s||typeof s!="string"&&s.name),t.plugins.length===1&&bx(t.plugins[0])?n=[..._i,...t.plugins]:n=t.plugins);let o=n.map(s=>{if(typeof s=="string")return s;let a=s.name;return a&&(s.handler?r[a]=s:(r[a]={config:{...s}},delete r[a].config.name)),a}).filter(Boolean);return xx({dependencies:e,userPlugins:o,userPluginsConfig:r})};var yl=async e=>{let t;if(e?.configFile){let p=e.configFile.split(".");t=p.slice(0,p.length-1).join(".");}let{config:r,configFile:n}=await c12.loadConfig({configFile:t,name:"openapi-ts"}),o=Pa(Object.keys(r).length?n:void 0),s=Array.isArray(e)?e:Array.isArray(r)?r.map(p=>Ks(p,e)):[Ks(r,e)],a=[];for(let p of s){let{base:c,configFile:m="",dryRun:l=false,experimentalParser:f=true,exportCore:u=true,interactive:d=false,name:y,request:h,useOptions:x=true}=p,b=[],I=Dn(p);I.level==="debug"&&console.warn("userConfig:",p);let E=Oa(p),$=Ra(p),q=Ia(p);E.path||b.push(new et("missing input - which OpenAPI specification should we use to generate your output?")),$.path||b.push(new et("missing output - where should we generate your output?")),x||console.warn("\u2757\uFE0F Deprecation warning: useOptions set to false. This setting will be removed in future versions. Please migrate useOptions to true https://heyapi.dev/openapi-ts/migrating.html#v0-27-38"),$.path=U__default.default.resolve(process.cwd(),$.path);let N;try{N=dl({dependencies:o,userConfig:p});}catch(ie){b.push(ie),N={pluginOrder:[],plugins:{}};}let W=ga({...N,base:c,configFile:m,dryRun:l,experimentalParser:f,exportCore:false,input:E,interactive:d,logs:I,name:y,output:$,parser:q,request:h,useOptions:x});W.exportCore=K(W)?u:false,I.level==="debug"&&console.warn("config:",W),a.push({config:W,errors:b});}return {dependencies:o,results:a}};var Ms=e=>{switch(e){case "legacy/angular":return "AngularHttpRequest";case "legacy/axios":return "AxiosHttpRequest";case "legacy/fetch":return "FetchHttpRequest";case "legacy/node":return "NodeHttpRequest";case "legacy/xhr":return "XHRHttpRequest";default:return ""}};var gl=async(e,t,r,n)=>{let o=T(),s=A(o),a=n.client({$config:o,...r,httpRequest:Ms(s.name),models:dn(r.models),services:dn(r.services)});G(o)&&(Le(t),qe__default.default.writeFileSync(U__default.default.resolve(t,`${G(o)}.ts`),a));};var hl=async(e,t,r)=>{let n=T();if(n.exportCore){let o=A(n),s={httpRequest:Ms(o.name),server:n.base!==void 0?n.base:t.server,version:t.version};if(qe__default.default.rmSync(U__default.default.resolve(e),{force:true,recursive:true}),qe__default.default.mkdirSync(U__default.default.resolve(e),{recursive:true}),await qe__default.default.writeFileSync(U__default.default.resolve(e,"OpenAPI.ts"),r.core.settings({$config:n,...s})),await qe__default.default.writeFileSync(U__default.default.resolve(e,"ApiError.ts"),r.core.apiError({$config:n,...s})),await qe__default.default.writeFileSync(U__default.default.resolve(e,"ApiRequestOptions.ts"),r.core.apiRequestOptions({$config:n,...s})),await qe__default.default.writeFileSync(U__default.default.resolve(e,"ApiResult.ts"),r.core.apiResult({$config:n,...s})),o.name!=="legacy/angular"&&await qe__default.default.writeFileSync(U__default.default.resolve(e,"CancelablePromise.ts"),r.core.cancelablePromise({$config:n,...s})),await qe__default.default.writeFileSync(U__default.default.resolve(e,"request.ts"),r.core.request({$config:n,...s})),G(n)&&(await qe__default.default.writeFileSync(U__default.default.resolve(e,"BaseHttpRequest.ts"),r.core.baseHttpRequest({$config:n,...s})),await qe__default.default.writeFileSync(U__default.default.resolve(e,`${s.httpRequest}.ts`),r.core.httpRequest({$config:n,...s}))),n.request){let a=U__default.default.resolve(process.cwd(),n.request);if(!await qe__default.default.existsSync(a))throw new Error(`Custom request file "${a}" does not exists`);await qe__default.default.copyFileSync(a,U__default.default.resolve(e,"request.ts"));}}};var xl=({files:e})=>{let t=T();e.index=new Te({dir:t.output.path,id:"index",name:"index.ts"}),G(t)&&e.index.add(i.exportNamedDeclaration({exports:G(t),module:`./${G(t)}`})),t.exportCore&&(e.index.add(i.exportNamedDeclaration({exports:"ApiError",module:"./core/ApiError"})),t.plugins["@hey-api/sdk"]?.config.response==="response"&&e.index.add(i.exportNamedDeclaration({exports:{asType:true,name:"ApiResult"},module:"./core/ApiResult"})),G(t)&&e.index.add(i.exportNamedDeclaration({exports:"BaseHttpRequest",module:"./core/BaseHttpRequest"})),A(t).name!=="legacy/angular"&&e.index.add(i.exportNamedDeclaration({exports:["CancelablePromise","CancelError"],module:"./core/CancelablePromise"})),e.index.add(i.exportNamedDeclaration({exports:["OpenAPI",{asType:true,name:"OpenAPIConfig"}],module:"./core/OpenAPI"}))),Object.keys(e).sort().forEach(r=>{let n=e[r];r==="index"||n.isEmpty()||n.exportFromIndex&&e.index.add(i.exportAllDeclaration({module:`./${n.nameWithoutExtension()}`}));});};var bl=async({client:e,openApi:t,templates:r})=>{let n=T(),o=t;if(e){if(n.plugins["@hey-api/sdk"]?.config.include&&n.plugins["@hey-api/sdk"].config.asClass){let m=new RegExp(n.plugins["@hey-api/sdk"].config.include);e.services=e.services.filter(l=>m.test(l.name));}if(n.plugins["@hey-api/typescript"]?.config.include){let m=new RegExp(n.plugins["@hey-api/typescript"].config.include);e.models=e.models.filter(l=>m.test(l.name));}}let s=U__default.default.resolve(n.output.path);n.output.clean&&$n(s);let a=wn(Nn(n.output.tsConfigPath)),p=A(n);!K(n)&&"bundle"in p.config&&p.config.bundle&&Un({legacy:true,outputPath:s,plugin:p,tsConfig:a}),await gl(o,s,e,r),await hl(U__default.default.resolve(n.output.path,"core"),e,r);let c={};for(let m of n.pluginOrder){let l=n.plugins[m],f=(l.output??"").split("/"),u=U__default.default.resolve(n.output.path,...f.slice(0,f.length-1));c[l.name]=new Te({dir:u,id:`legacy-unused-${l.name}`,name:`${f[f.length-1]}.ts`}),l.handlerLegacy?.({client:e,files:c,openApi:o,plugin:l});}xl({files:c}),Object.entries(c).forEach(([m,l])=>{n.dryRun||(m==="index"?l.write(`
`,a):l.write(`

`,a));});};var Ol=async({context:e})=>{let t=U__default.default.resolve(e.config.output.path);e.config.output.clean&&$n(t);let r=wn(Nn(e.config.output.tsConfigPath)),n=r?.options.moduleResolution===S__default.default.ModuleResolutionKind.NodeNext,o=A(e.config);"bundle"in o.config&&o.config.bundle&&Un({outputPath:t,plugin:o,tsConfig:r});for(let s of e.registerPlugins())await s.run();if(!e.config.dryRun){let s=e.createFile({id:"_index",path:"index"});for(let a of Object.values(e.files))if(a.nameWithoutExtension()!==s.nameWithoutExtension()){if(!a.isEmpty()&&a.exportFromIndex&&e.config.output.indexFile){let c=s.relativePathToFile({context:e,id:a.id});n&&(c.startsWith("./")||c.startsWith("../"))&&(c==="./client"?c="./client/index.js":c=`${c}.js`),s.add(i.exportAllDeclaration({module:c}));}a.write(`

`,r);}s.isEmpty()||s.write(`
`,r);for(let a of e.gen.render({moduleResolution:r?.options.moduleResolution})){if(!a.content)continue;let p=U__default.default.resolve(t,a.path),c=U__default.default.dirname(p);qe__default.default.mkdirSync(c,{recursive:true}),qe__default.default.writeFileSync(p,a.content,{encoding:"utf8"});}}};var jx=e=>{let t=[];return e.forEach((r,n)=>{t.push([n,r]);}),t},Ls=(...e)=>{let t=new Headers;for(let r of e){if(!r)continue;let n=r instanceof Headers?jx(r):Object.entries(r);for(let[o,s]of n)if(s===null)t.delete(o);else if(Array.isArray(s))for(let a of s)t.append(o,a);else s!==void 0&&t.set(o,typeof s=="object"?JSON.stringify(s):s);}return t};var Tl=async({fetchOptions:e,inputPath:t,timeout:r,watch:n})=>{let o=new jsonSchemaRefParser.$RefParser,s=jsonSchemaRefParser.getResolvedInput({pathOrUrlOrSchema:t}),a,p,c;if(s.type==="url"){if(n.lastValue&&n.isHeadMethodSupported!==false){try{let l=await jsonSchemaRefParser.sendRequest({fetchOptions:{method:"HEAD",...e,headers:Ls(e?.headers,n.headers)},timeout:r,url:s.path});if(l.response.status>=300)return {error:"not-ok",response:l.response};c=l.response;}catch(l){return {error:"not-ok",response:new Response(l.message)}}if(!c.ok&&n.isHeadMethodSupported)return {error:"not-ok",response:c};if(n.isHeadMethodSupported===void 0&&(n.isHeadMethodSupported=c.ok),c.status===304)return {error:"not-modified",response:c};if(p===void 0){let l=c.headers.get("ETag");l&&(p=l!==n.headers.get("If-None-Match"),p&&n.headers.set("If-None-Match",l));}if(p===void 0){let l=c.headers.get("Last-Modified");l&&(p=l!==n.headers.get("If-Modified-Since"),p&&n.headers.set("If-Modified-Since",l));}if(p===false)return {error:"not-modified",response:c}}try{let l=await jsonSchemaRefParser.sendRequest({fetchOptions:{method:"GET",...e},timeout:r,url:s.path});if(l.response.status>=300)return {error:"not-ok",response:l.response};c=l.response;}catch(l){return {error:"not-ok",response:new Response(l.message)}}if(!c.ok)return {error:"not-ok",response:c};if(a=c.body?await c.arrayBuffer():new ArrayBuffer(0),p===void 0){let l=new TextDecoder().decode(a);p=l!==n.lastValue,n.lastValue=l;}}else n.lastValue?p=false:n.lastValue=s.type;return p===false?{error:"not-modified",response:c}:{data:await o.bundle({arrayBuffer:a,pathOrUrlOrSchema:void 0,resolvedInput:s})}};var Pl=({patchOptions:e,spec:t})=>{if(!e)return;let r=t;if("swagger"in r){if(e.version&&r.swagger&&(r.swagger=typeof e.version=="string"?e.version:e.version(r.swagger)),e.meta&&r.info&&e.meta(r.info),e.schemas&&r.definitions)for(let n in e.schemas){let o=r.definitions[n];if(!o||typeof o!="object")continue;let s=e.schemas[n];s(o);}if(e.operations&&r.paths)for(let n in e.operations){let[o,s]=n.split(" ");if(!o||!s)continue;let a=r.paths[s];if(!a)continue;let p=a[o.toLocaleLowerCase()]||a[o.toLocaleUpperCase()];if(!p||typeof p!="object")continue;let c=e.operations[n];c(p);}return}if(e.version&&r.openapi&&(r.openapi=typeof e.version=="string"?e.version:e.version(r.openapi)),e.meta&&r.info&&e.meta(r.info),r.components){if(e.schemas&&r.components.schemas)for(let n in e.schemas){let o=r.components.schemas[n];if(!o||typeof o!="object")continue;let s=e.schemas[n];s(o);}if(e.parameters&&r.components.parameters)for(let n in e.parameters){let o=r.components.parameters[n];if(!o||typeof o!="object")continue;let s=e.parameters[n];s(o);}if(e.requestBodies&&r.components.requestBodies)for(let n in e.requestBodies){let o=r.components.requestBodies[n];if(!o||typeof o!="object")continue;let s=e.requestBodies[n];s(o);}if(e.responses&&r.components.responses)for(let n in e.responses){let o=r.components.responses[n];if(!o||typeof o!="object")continue;let s=e.responses[n];s(o);}}if(e.operations&&r.paths)for(let n in e.operations){let[o,s]=n.split(" ");if(!o||!s)continue;let a=r.paths[s];if(!a)continue;let p=a[o.toLocaleLowerCase()]||a[o.toLocaleUpperCase()];if(!p||typeof p!="object")continue;let c=e.operations[n];c(p);}};var na=gu(uf()),ab={biome:{args:e=>["format","--write",e],command:"biome",name:"Biome (Format)"},prettier:{args:e=>["--ignore-unknown",e,"--write","--ignore-path","./.prettierignore"],command:"prettier",name:"Prettier"}},pb={biome:{args:e=>["lint","--apply",e],command:"biome",name:"Biome (Lint)"},eslint:{args:e=>[e,"--fix"],command:"eslint",name:"ESLint"},oxlint:{args:e=>["--fix",e],command:"oxlint",name:"oxlint"}},df=({config:e})=>{if(e.output.format){let t=ab[e.output.format];console.log(`\u2728 Running ${t.name}`),(0, na.sync)(t.command,t.args(e.output.path));}if(e.output.lint){let t=pb[e.output.lint];console.log(`\u2728 Running ${t.name}`),(0, na.sync)(t.command,t.args(e.output.path));}};function yf(e,t){return {...e,config:t,models:e.models.map(r=>cb(r)),services:mb(e.operations).map(lb),types:{}}}var cb=e=>({...e,$refs:e.$refs.filter((t,r,n)=>he(t,r,n)),enum:e.enum.filter((t,r,n)=>n.findIndex(o=>o.value===t.value)===r),enums:e.enums.filter((t,r,n)=>n.findIndex(o=>o.name===t.name)===r),imports:e.imports.filter((t,r,n)=>he(t,r,n)&&t!==e.name).sort(qr)}),mb=e=>{let t=T(),r=new Map;return e.forEach(n=>{(n.tags?.length&&(t.plugins["@hey-api/sdk"]?.config.asClass||G(t))?n.tags.filter(he):["Default"]).forEach(s=>{let a={...n,service:db(s)},p=r.get(a.service)||ub(a);p.$refs=[...p.$refs,...a.$refs],p.imports=[...p.imports,...a.imports],p.operations=[...p.operations,a],r.set(a.service,p);});}),Array.from(r.values())},lb=e=>{let t={...e};return t.operations=fb(t),t.operations.forEach(r=>{t.imports.push(...r.imports);}),t.imports=t.imports.filter(he).sort(qr),t},fb=e=>{let t=new Map;return e.operations.map(r=>{let n={...r};n.imports.push(...n.parameters.flatMap(p=>p.imports));let o=n.responses.filter(p=>p.responseTypes.includes("success"));n.imports.push(...o.flatMap(p=>p.imports));let s=n.name,a=t.get(s)||0;return a>0&&(n.name=`${s}${a}`),t.set(s,a+1),n})},ub=e=>({$refs:[],imports:[],name:e.service,operations:[]}),db=e=>k({case:"PascalCase",value:_e(e)});var oa=e=>e.startsWith($t),gb=e=>{let t={path:""};if(e.path&&(typeof e.path!="string"||!oa(e.path)))return t.path=e.path,t;let[r,n]=e.path.split("?"),s=(n||"").split("&").map(N=>N.split("=")),a=r||"";a.endsWith("/")&&(a=a.slice(0,a.length-1));let[,p]=a.split("://"),[c,m,l]=(p||"").split("/");t.organization=m||e.organization,t.project=l||e.project;let f=[],u="api_key";t.api_key=s.find(([N])=>N===u)?.[1]||e.api_key||process.env.HEY_API_TOKEN,t.api_key&&f.push(`${u}=${t.api_key}`);let d="branch";t.branch=s.find(([N])=>N===d)?.[1]||e.branch,t.branch&&f.push(`${d}=${t.branch}`);let y="commit_sha";t.commit_sha=s.find(([N])=>N===y)?.[1]||e.commit_sha,t.commit_sha&&f.push(`${y}=${t.commit_sha}`);let h="tags";t.tags=s.find(([N])=>N===h)?.[1]?.split(",")||e.tags,t.tags?.length&&f.push(`${h}=${t.tags.join(",")}`);let x="version";if(t.version=s.find(([N])=>N===x)?.[1]||e.version,t.version&&f.push(`${x}=${t.version}`),!t.organization)throw new Error("missing organization - from which Hey API Platform organization do you want to generate your output?");if(!t.project)throw new Error("missing project - from which Hey API Platform project do you want to generate your output?");let b=f.join("&"),I=c||"get.heyapi.dev",E=I.startsWith("localhost"),$=[E?"http":"https",I].join("://"),q=E?[$,"v1","get",t.organization,t.project].join("/"):[$,t.organization,t.project].join("/");return t.path=b?`${q}?${b}`:q,t},gf=e=>{let t=Xe__default.default.cyan("Generating from");if(typeof e.path=="string"){let r=oa(e.path)?`${e.organization??""}/${e.project??""}`:e.path;console.log(`\u23F3 ${t} ${r}`),oa(e.path)&&(e.branch&&console.log(`${Xe__default.default.gray("branch:")} ${Xe__default.default.green(e.branch)}`),e.commit_sha&&console.log(`${Xe__default.default.gray("commit:")} ${Xe__default.default.green(e.commit_sha)}`),e.tags?.length&&console.log(`${Xe__default.default.gray("tags:")} ${Xe__default.default.green(e.tags.join(", "))}`),e.version&&console.log(`${Xe__default.default.gray("version:")} ${Xe__default.default.green(e.version)}`));}else console.log(`\u23F3 ${t} raw OpenAPI specification`);},sa=async({config:e,dependencies:t,logger:r,templates:n,watch:o})=>{let s=gb(e.input),{timeout:a}=e.input.watch,p=o||{headers:new Headers};e.logs.level!=="silent"&&!o&&gf(s);let c=r.timeEvent("spec"),{data:m,error:l,response:f}=await Tl({fetchOptions:e.input.fetch,inputPath:s.path,timeout:a,watch:p});if(c.timeEnd(),l&&!o)throw new Error(`Request failed with status ${f.status}: ${f.statusText}`);let u,d;if(m){e.logs.level!=="silent"&&o&&(console.clear(),gf(s));let y=r.timeEvent("input.patch");Pl({patchOptions:e.parser.patch,spec:m}),y.timeEnd();let h=r.timeEvent("parser");if(e.experimentalParser&&!K(e)&&!G(e)&&(d=Kc({config:e,dependencies:t,logger:r,spec:m})),!d){let I=Wc({openApi:m});u=yf(I,e);}h.timeEnd();let x=r.timeEvent("generator");d?await Ol({context:d}):u&&await bl({client:u,openApi:m,templates:n}),x.timeEnd();let b=r.timeEvent("postprocess");if(!e.dryRun&&(df({config:e}),e.logs.level!=="silent")){let I=process.env.INIT_CWD?`./${U__default.default.relative(process.env.INIT_CWD,e.output.path)}`:e.output.path;console.log(`${Xe__default.default.green("\u{1F680} Done!")} Your output is in ${Xe__default.default.cyanBright(I)}`);}b.timeEnd();}return e.input.watch.enabled&&typeof s.path=="string"&&setTimeout(()=>{sa({config:e,dependencies:t,logger:r,templates:n,watch:p});},e.input.watch.interval),d||u};var hf={1:function(e,t,r,n,o){return `import { NgModule} from '@angular/core';
import { HttpClientModule } from '@angular/common/http';

import { AngularHttpRequest } from './core/AngularHttpRequest';
import { BaseHttpRequest } from './core/BaseHttpRequest';
import type { OpenAPIConfig } from './core/OpenAPI';
import { OpenAPI } from './core/OpenAPI';
import { Interceptors } from './core/OpenAPI';
`},3:function(e,t,r,n,o){var s,a=e.strict,p=e.lambda;return `import type { BaseHttpRequest } from './core/BaseHttpRequest';
import type { OpenAPIConfig } from './core/OpenAPI';
import { Interceptors } from './core/OpenAPI';
import { `+((s=p(a(t,"httpRequest",{start:{line:14,column:12},end:{line:14,column:23}}),t))!=null?s:"")+" } from './core/"+((s=p(a(t,"httpRequest",{start:{line:14,column:45},end:{line:14,column:56}}),t))!=null?s:"")+`';
`},5:function(e,t,r,n,o){var s,a=e.lookupProperty||function(p,c){if(Object.prototype.hasOwnProperty.call(p,c))return p[c]};return (s=a(r,"each").call(t??(e.nullContext||{}),a(t,"services"),{name:"each",hash:{},fn:e.program(6,o,0),inverse:e.noop,data:o,loc:{start:{line:18,column:0},end:{line:20,column:9}}}))!=null?s:""},6:function(e,t,r,n,o){var s,a=e.lookupProperty||function(p,c){if(Object.prototype.hasOwnProperty.call(p,c))return p[c]};return "import { "+((s=a(r,"transformServiceName").call(t??(e.nullContext||{}),a(t,"name"),{name:"transformServiceName",hash:{},data:o,loc:{start:{line:19,column:9},end:{line:19,column:40}}}))!=null?s:"")+` } from './sdk.gen';
`},8:function(e,t,r,n,o){var s,a=e.strict,p=e.lambda,c=e.lookupProperty||function(m,l){if(Object.prototype.hasOwnProperty.call(m,l))return m[l]};return `@NgModule({
	imports: [HttpClientModule],
	providers: [
		{
			provide: OpenAPI,
			useValue: {
				BASE: OpenAPI?.BASE ?? '`+((s=p(a(t,"server",{start:{line:30,column:31},end:{line:30,column:37}}),t))!=null?s:"")+`',
				VERSION: OpenAPI?.VERSION ?? '`+((s=p(a(t,"version",{start:{line:31,column:37},end:{line:31,column:44}}),t))!=null?s:"")+`',
				WITH_CREDENTIALS: OpenAPI?.WITH_CREDENTIALS ?? false,
				CREDENTIALS: OpenAPI?.CREDENTIALS ?? 'include',
				TOKEN: OpenAPI?.TOKEN,
				USERNAME: OpenAPI?.USERNAME,
				PASSWORD: OpenAPI?.PASSWORD,
				HEADERS: OpenAPI?.HEADERS,
				ENCODE_PATH: OpenAPI?.ENCODE_PATH,
				interceptors: {
					response: OpenAPI?.interceptors?.response ?? new Interceptors(),
				},
			} as OpenAPIConfig,
		},
		{
			provide: BaseHttpRequest,
			useClass: AngularHttpRequest,
		},
`+((s=c(r,"each").call(t??(e.nullContext||{}),c(t,"services"),{name:"each",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o,loc:{start:{line:48,column:2},end:{line:50,column:11}}}))!=null?s:"")+`	]
})
export class `+((s=p(a(c(c(o,"root"),"$config"),"name",{start:{line:53,column:16},end:{line:53,column:34}}),t))!=null?s:"")+` {}
`},9:function(e,t,r,n,o){var s,a=e.lookupProperty||function(p,c){if(Object.prototype.hasOwnProperty.call(p,c))return p[c]};return "		"+((s=a(r,"transformServiceName").call(t??(e.nullContext||{}),a(t,"name"),{name:"transformServiceName",hash:{},data:o,loc:{start:{line:49,column:2},end:{line:49,column:33}}}))!=null?s:"")+`,
`},11:function(e,t,r,n,o){var s,a=e.strict,p=e.lambda,c=t??(e.nullContext||{}),m=e.lookupProperty||function(l,f){if(Object.prototype.hasOwnProperty.call(l,f))return l[f]};return `type HttpRequestConstructor = new (config: OpenAPIConfig) => BaseHttpRequest;

export class `+((s=p(a(m(m(o,"root"),"$config"),"name",{start:{line:57,column:16},end:{line:57,column:34}}),t))!=null?s:"")+` {

`+((s=m(r,"each").call(c,m(t,"services"),{name:"each",hash:{},fn:e.program(12,o,0),inverse:e.noop,data:o,loc:{start:{line:59,column:1},end:{line:61,column:10}}}))!=null?s:"")+`
	public readonly request: BaseHttpRequest;

	constructor(config?: Partial<OpenAPIConfig>, HttpRequest: HttpRequestConstructor = `+((s=p(a(t,"httpRequest",{start:{line:65,column:87},end:{line:65,column:98}}),t))!=null?s:"")+`) {
		this.request = new HttpRequest({
			BASE: config?.BASE ?? '`+((s=p(a(t,"server",{start:{line:67,column:29},end:{line:67,column:35}}),t))!=null?s:"")+`',
			VERSION: config?.VERSION ?? '`+((s=p(a(t,"version",{start:{line:68,column:35},end:{line:68,column:42}}),t))!=null?s:"")+`',
			WITH_CREDENTIALS: config?.WITH_CREDENTIALS ?? false,
			CREDENTIALS: config?.CREDENTIALS ?? 'include',
			TOKEN: config?.TOKEN,
			USERNAME: config?.USERNAME,
			PASSWORD: config?.PASSWORD,
			HEADERS: config?.HEADERS,
			ENCODE_PATH: config?.ENCODE_PATH,
			interceptors: {
				request: config?.interceptors?.request ?? new Interceptors(),
				response: config?.interceptors?.response ?? new Interceptors(),
      },
		});

`+((s=m(r,"each").call(c,m(t,"services"),{name:"each",hash:{},fn:e.program(14,o,0),inverse:e.noop,data:o,loc:{start:{line:82,column:2},end:{line:84,column:11}}}))!=null?s:"")+`	}
}
`},12:function(e,t,r,n,o){var s,a=t??(e.nullContext||{}),p=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return "	public readonly "+((s=p(r,"camelCase").call(a,p(t,"name"),{name:"camelCase",hash:{},data:o,loc:{start:{line:60,column:17},end:{line:60,column:37}}}))!=null?s:"")+": "+((s=p(r,"transformServiceName").call(a,p(t,"name"),{name:"transformServiceName",hash:{},data:o,loc:{start:{line:60,column:39},end:{line:60,column:70}}}))!=null?s:"")+`;
`},14:function(e,t,r,n,o){var s,a=t??(e.nullContext||{}),p=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return "		this."+((s=p(r,"camelCase").call(a,p(t,"name"),{name:"camelCase",hash:{},data:o,loc:{start:{line:83,column:7},end:{line:83,column:27}}}))!=null?s:"")+" = new "+((s=p(r,"transformServiceName").call(a,p(t,"name"),{name:"transformServiceName",hash:{},data:o,loc:{start:{line:83,column:34},end:{line:83,column:65}}}))!=null?s:"")+`(this.request);
`},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){var s,a=t??(e.nullContext||{}),p=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return ((s=p(r,"equals").call(a,p(p(p(p(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:1,column:0},end:{line:15,column:11}}}))!=null?s:"")+`
`+((s=p(r,"if").call(a,p(t,"services"),{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:17,column:0},end:{line:21,column:7}}}))!=null?s:"")+`
`+((s=p(r,"equals").call(a,p(p(p(p(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(8,o,0),inverse:e.program(11,o,0),data:o,loc:{start:{line:23,column:0},end:{line:87,column:11}}}))!=null?s:"")},useData:true};var xf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getHeaders = <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): Observable<HttpHeaders> => {
	return forkJoin({
		// @ts-ignore
		token: resolve(options, config.TOKEN),
		// @ts-ignore
		username: resolve(options, config.USERNAME),
		// @ts-ignore
		password: resolve(options, config.PASSWORD),
		// @ts-ignore
		additionalHeaders: resolve(options, config.HEADERS),
	}).pipe(
		map(({ token, username, password, additionalHeaders }) => {
			const headers = Object.entries({
				Accept: 'application/json',
				...additionalHeaders,
				...options.headers,
			})
				.filter(([, value]) => value !== undefined && value !== null)
				.reduce((headers, [key, value]) => ({
					...headers,
					[key]: String(value),
				}), {} as Record<string, string>);

			if (isStringWithValue(token)) {
				headers['Authorization'] = \`Bearer \${token}\`;
			}

			if (isStringWithValue(username) && isStringWithValue(password)) {
				const credentials = base64(\`\${username}:\${password}\`);
				headers['Authorization'] = \`Basic \${credentials}\`;
			}

			if (options.body !== undefined) {
				if (options.mediaType) {
					headers['Content-Type'] = options.mediaType;
				} else if (isBlob(options.body)) {
					headers['Content-Type'] = options.body.type || 'application/octet-stream';
				} else if (isString(options.body)) {
					headers['Content-Type'] = 'text/plain';
				} else if (!isFormData(options.body)) {
					headers['Content-Type'] = 'application/json';
				}
			}

			return new HttpHeaders(headers);
		}),
	);
};`},useData:true};var bf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getRequestBody = (options: ApiRequestOptions): unknown => {
	if (options.body) {
		if (options.mediaType?.includes('application/json') || options.mediaType?.includes('+json')) {
			return JSON.stringify(options.body);
		} else if (isString(options.body) || isBlob(options.body) || isFormData(options.body)) {
			return options.body;
		} else {
			return JSON.stringify(options.body);
		}
	}
	return undefined;
};`},useData:true};var Sf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getResponseBody = <T>(response: HttpResponse<T>): T | undefined => {
	if (response.status !== 204 && response.body !== null) {
		return response.body;
	}
	return undefined;
};`},useData:true};var Of={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getResponseHeader = <T>(response: HttpResponse<T>, responseHeader?: string): string | undefined => {
	if (responseHeader) {
		const value = response.headers.get(responseHeader);
		if (isString(value)) {
			return value;
		}
	}
	return undefined;
};`},useData:true};var Rf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){var s,a=e.lookupProperty||function(p,c){if(Object.prototype.hasOwnProperty.call(p,c))return p[c]};return `import { HttpClient, HttpHeaders } from '@angular/common/http';
import type { HttpResponse, HttpErrorResponse } from '@angular/common/http';
import { forkJoin, of, throwError } from 'rxjs';
import { catchError, map, switchMap } from 'rxjs/operators';
import type { Observable } from 'rxjs';

import { ApiError } from './ApiError';
import type { ApiRequestOptions } from './ApiRequestOptions';
import type { ApiResult } from './ApiResult';
import type { OpenAPIConfig } from './OpenAPI';

`+((s=e.invokePartial(a(n,"functions/isString"),t,{name:"functions/isString",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/isStringWithValue"),t,{name:"functions/isStringWithValue",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/isBlob"),t,{name:"functions/isBlob",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/isFormData"),t,{name:"functions/isFormData",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/base64"),t,{name:"functions/base64",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/getQueryString"),t,{name:"functions/getQueryString",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/getUrl"),t,{name:"functions/getUrl",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/getFormData"),t,{name:"functions/getFormData",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/resolve"),t,{name:"functions/resolve",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"angular/getHeaders"),t,{name:"angular/getHeaders",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"angular/getRequestBody"),t,{name:"angular/getRequestBody",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"angular/sendRequest"),t,{name:"angular/sendRequest",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"angular/getResponseHeader"),t,{name:"angular/getResponseHeader",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"angular/getResponseBody"),t,{name:"angular/getResponseBody",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(a(n,"functions/catchErrorCodes"),t,{name:"functions/catchErrorCodes",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

/**
 * Request method
 * @param config The OpenAPI configuration object
 * @param http The Angular HTTP client
 * @param options The request options from the service
 * @returns Observable<T>
 * @throws ApiError
 */
export const request = <T>(config: OpenAPIConfig, http: HttpClient, options: ApiRequestOptions<T>): Observable<T> => {
	const url = getUrl(config, options);
	const formData = getFormData(options);
	const body = getRequestBody(options);

	return getHeaders(config, options).pipe(
		switchMap(headers => {
			return sendRequest<T>(config, options, http, url, body, formData, headers);
		}),
		switchMap(async response => {
			for (const fn of config.interceptors.response._fns) {
				response = await fn(response);
			}
			const responseBody = getResponseBody(response);
			const responseHeader = getResponseHeader(response, options.responseHeader);

			let transformedBody = responseBody;
			if (options.responseTransformer && response.ok) {
				transformedBody = await options.responseTransformer(responseBody)
			}

			return {
				url,
				ok: response.ok,
				status: response.status,
				statusText: response.statusText,
				body: responseHeader ?? transformedBody,
			} as ApiResult;
		}),
		catchError((error: HttpErrorResponse) => {
			if (!error.status) {
				return throwError(() => error);
			}
			return of({
				url,
				ok: error.ok,
				status: error.status,
				statusText: error.statusText,
				body: error.error ?? error.statusText,
			} as ApiResult);
		}),
		map(result => {
			catchErrorCodes(options, result);
			return result.body as T;
		}),
		catchError((error: ApiError) => {
			return throwError(() => error);
		}),
	);
};`},usePartial:true,useData:true};var Tf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const sendRequest = <T>(
	config: OpenAPIConfig,
	options: ApiRequestOptions<T>,
	http: HttpClient,
	url: string,
	body: unknown,
	formData: FormData | undefined,
	headers: HttpHeaders
): Observable<HttpResponse<T>> => {
	return http.request<T>(options.method, url, {
		headers,
		body: body ?? formData,
		withCredentials: config.WITH_CREDENTIALS,
		observe: 'response',
	});
};`},useData:true};var Pf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `import type { ApiRequestOptions } from './ApiRequestOptions';
import type { ApiResult } from './ApiResult';

export class ApiError extends Error {
	public readonly url: string;
	public readonly status: number;
	public readonly statusText: string;
	public readonly body: unknown;
	public readonly request: ApiRequestOptions;

	constructor(request: ApiRequestOptions, response: ApiResult, message: string) {
		super(message);

		this.name = 'ApiError';
		this.url = response.url;
		this.status = response.status;
		this.statusText = response.statusText;
		this.body = response.body;
		this.request = request;
	}
}`},useData:true};var Af={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export type ApiRequestOptions<T = unknown> = {
	readonly body?: any;
	readonly cookies?: Record<string, unknown>;
	readonly errors?: Record<number | string, string>;
	readonly formData?: Record<string, unknown> | any[] | Blob | File;
	readonly headers?: Record<string, unknown>;
	readonly mediaType?: string;
	readonly method:
		| 'DELETE'
		| 'GET'
		| 'HEAD'
		| 'OPTIONS'
		| 'PATCH'
		| 'POST'
		| 'PUT';
	readonly path?: Record<string, unknown>;
	readonly query?: Record<string, unknown>;
	readonly responseHeader?: string;
	readonly responseTransformer?: (data: unknown) => Promise<T>;
	readonly url: string;
};`},useData:true};var If={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export type ApiResult<TData = any> = {
	readonly body: TData;
	readonly ok: boolean;
	readonly status: number;
	readonly statusText: string;
	readonly url: string;
};`},useData:true};var Cf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getHeaders = async <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): Promise<Record<string, string>> => {
	const [token, username, password, additionalHeaders] = await Promise.all([
		// @ts-ignore
		resolve(options, config.TOKEN),
		// @ts-ignore
		resolve(options, config.USERNAME),
		// @ts-ignore
		resolve(options, config.PASSWORD),
		// @ts-ignore
		resolve(options, config.HEADERS),
	]);

	const headers = Object.entries({
		Accept: 'application/json',
		...additionalHeaders,
		...options.headers,
	})
	.filter(([, value]) => value !== undefined && value !== null)
	.reduce((headers, [key, value]) => ({
		...headers,
		[key]: String(value),
	}), {} as Record<string, string>);

	if (isStringWithValue(token)) {
		headers['Authorization'] = \`Bearer \${token}\`;
	}

	if (isStringWithValue(username) && isStringWithValue(password)) {
		const credentials = base64(\`\${username}:\${password}\`);
		headers['Authorization'] = \`Basic \${credentials}\`;
	}

	if (options.body !== undefined) {
		if (options.mediaType) {
			headers['Content-Type'] = options.mediaType;
		} else if (isBlob(options.body)) {
			headers['Content-Type'] = options.body.type || 'application/octet-stream';
		} else if (isString(options.body)) {
			headers['Content-Type'] = 'text/plain';
		} else if (!isFormData(options.body)) {
			headers['Content-Type'] = 'application/json';
		}
	} else if (options.formData !== undefined) {
		if (options.mediaType) {
			headers['Content-Type'] = options.mediaType;
		}
	}

	return headers;
};`},useData:true};var Ef={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getRequestBody = (options: ApiRequestOptions): unknown => {
	if (options.body) {
		return options.body;
	}
	return undefined;
};`},useData:true};var vf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getResponseBody = (response: AxiosResponse<unknown>): unknown => {
	if (response.status !== 204) {
		return response.data;
	}
	return undefined;
};`},useData:true};var kf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getResponseHeader = (response: AxiosResponse<unknown>, responseHeader?: string): string | undefined => {
	if (responseHeader) {
		const content = response.headers[responseHeader];
		if (isString(content)) {
			return content;
		}
	}
	return undefined;
};`},useData:true};var jf={1:function(e,t,r,n,o){return "ApiResult<T>"},3:function(e,t,r,n,o){return "T"},5:function(e,t,r,n,o){return "result.body"},7:function(e,t,r,n,o){return "result"},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){var s,a=t??(e.nullContext||{}),p=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return `import axios from 'axios';
import type { AxiosError, AxiosRequestConfig, AxiosResponse, AxiosInstance } from 'axios';

import { ApiError } from './ApiError';
import type { ApiRequestOptions } from './ApiRequestOptions';
import type { ApiResult } from './ApiResult';
import { CancelablePromise } from './CancelablePromise';
import type { OnCancel } from './CancelablePromise';
import type { OpenAPIConfig } from './OpenAPI';

`+((s=e.invokePartial(p(n,"functions/isString"),t,{name:"functions/isString",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/isStringWithValue"),t,{name:"functions/isStringWithValue",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/isBlob"),t,{name:"functions/isBlob",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/isFormData"),t,{name:"functions/isFormData",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/isSuccess"),t,{name:"functions/isSuccess",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/base64"),t,{name:"functions/base64",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/getQueryString"),t,{name:"functions/getQueryString",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/getUrl"),t,{name:"functions/getUrl",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/getFormData"),t,{name:"functions/getFormData",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/resolve"),t,{name:"functions/resolve",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"axios/getHeaders"),t,{name:"axios/getHeaders",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"axios/getRequestBody"),t,{name:"axios/getRequestBody",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"axios/sendRequest"),t,{name:"axios/sendRequest",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"axios/getResponseHeader"),t,{name:"axios/getResponseHeader",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"axios/getResponseBody"),t,{name:"axios/getResponseBody",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/catchErrorCodes"),t,{name:"functions/catchErrorCodes",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

/**
 * Request method
 * @param config The OpenAPI configuration object
 * @param options The request options from the service
 * @param axiosClient The axios client instance to use
 * @returns CancelablePromise<`+((s=p(r,"ifServicesResponse").call(a,"response",{name:"ifServicesResponse",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:64,column:30},end:{line:64,column:108}}}))!=null?s:"")+`>
 * @throws ApiError
 */
export const request = <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>, axiosClient: AxiosInstance = axios): CancelablePromise<`+((s=p(r,"ifServicesResponse").call(a,"response",{name:"ifServicesResponse",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:67,column:136},end:{line:67,column:214}}}))!=null?s:"")+`> => {
	return new CancelablePromise(async (resolve, reject, onCancel) => {
		try {
			const url = getUrl(config, options);
			const formData = getFormData(options);
			const body = getRequestBody(options);
			const headers = await getHeaders(config, options);

			if (!onCancel.isCancelled) {
				let response = await sendRequest<T>(config, options, url, body, formData, headers, onCancel, axiosClient);

				for (const fn of config.interceptors.response._fns) {
					response = await fn(response);
				}

				const responseBody = getResponseBody(response);
				const responseHeader = getResponseHeader(response, options.responseHeader);

				let transformedBody = responseBody;
				if (options.responseTransformer && isSuccess(response.status)) {
					transformedBody = await options.responseTransformer(responseBody)
				}

				const result: ApiResult = {
					url,
					ok: isSuccess(response.status),
					status: response.status,
					statusText: response.statusText,
					body: responseHeader ?? transformedBody,
				};

				catchErrorCodes(options, result);

				resolve(`+((s=p(r,"ifServicesResponse").call(a,"body",{name:"ifServicesResponse",hash:{},fn:e.program(5,o,0),inverse:e.program(7,o,0),data:o,loc:{start:{line:100,column:12},end:{line:100,column:90}}}))!=null?s:"")+`);
			}
		} catch (error) {
			reject(error);
		}
	});
};`},usePartial:true,useData:true};var Nf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const sendRequest = async <T>(
	config: OpenAPIConfig,
	options: ApiRequestOptions<T>,
	url: string,
	body: unknown,
	formData: FormData | undefined,
	headers: Record<string, string>,
	onCancel: OnCancel,
	axiosClient: AxiosInstance
): Promise<AxiosResponse<T>> => {
	const controller = new AbortController();

	let requestConfig: AxiosRequestConfig = {
		data: body ?? formData,
		headers,
		method: options.method,
		signal: controller.signal,
		url,
		withCredentials: config.WITH_CREDENTIALS,
	};

	onCancel(() => controller.abort());

	for (const fn of config.interceptors.request._fns) {
		requestConfig = await fn(requestConfig);
	}

	try {
		return await axiosClient.request(requestConfig);
	} catch (error) {
		const axiosError = error as AxiosError<T>;
		if (axiosError.response) {
			return axiosError.response;
		}
		throw error;
	}
};`},useData:true};var wf={1:function(e,t,r,n,o){return `import type { HttpClient } from '@angular/common/http';
import type { Observable } from 'rxjs';

import type { ApiRequestOptions } from './ApiRequestOptions';
import type { OpenAPIConfig } from './OpenAPI';
`},3:function(e,t,r,n,o){return `import type { ApiRequestOptions } from './ApiRequestOptions';
import type { CancelablePromise } from './CancelablePromise';
import type { OpenAPIConfig } from './OpenAPI';
`},5:function(e,t,r,n,o){return `	constructor(
		public readonly config: OpenAPIConfig,
		public readonly http: HttpClient,
	) {}
`},7:function(e,t,r,n,o){return `	constructor(public readonly config: OpenAPIConfig) {}
`},9:function(e,t,r,n,o){return `	public abstract request<T>(options: ApiRequestOptions<T>): Observable<T>;
`},11:function(e,t,r,n,o){return `	public abstract request<T>(options: ApiRequestOptions<T>): CancelablePromise<T>;
`},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){var s,a=t??(e.nullContext||{}),p=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return ((s=p(r,"equals").call(a,p(p(p(p(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:1,column:0},end:{line:11,column:11}}}))!=null?s:"")+`
export abstract class BaseHttpRequest {

`+((s=p(r,"equals").call(a,p(p(p(p(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(5,o,0),inverse:e.program(7,o,0),data:o,loc:{start:{line:15,column:1},end:{line:22,column:12}}}))!=null?s:"")+`
`+((s=p(r,"equals").call(a,p(p(p(p(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(9,o,0),inverse:e.program(11,o,0),data:o,loc:{start:{line:24,column:1},end:{line:28,column:12}}}))!=null?s:"")+"}"},useData:true};var qf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export class CancelError extends Error {
	constructor(message: string) {
		super(message);
		this.name = 'CancelError';
	}

	public get isCancelled(): boolean {
		return true;
	}
}

export interface OnCancel {
	readonly isResolved: boolean;
	readonly isRejected: boolean;
	readonly isCancelled: boolean;

	(cancelHandler: () => void): void;
}

export class CancelablePromise<T> implements Promise<T> {
	private _isResolved: boolean;
	private _isRejected: boolean;
	private _isCancelled: boolean;
	readonly cancelHandlers: (() => void)[];
	readonly promise: Promise<T>;
	private _resolve?: (value: T | PromiseLike<T>) => void;
	private _reject?: (reason?: unknown) => void;

	constructor(
		executor: (
			resolve: (value: T | PromiseLike<T>) => void,
			reject: (reason?: unknown) => void,
			onCancel: OnCancel
		) => void
	) {
		this._isResolved = false;
		this._isRejected = false;
		this._isCancelled = false;
		this.cancelHandlers = [];
		this.promise = new Promise<T>((resolve, reject) => {
			this._resolve = resolve;
			this._reject = reject;

			const onResolve = (value: T | PromiseLike<T>): void => {
				if (this._isResolved || this._isRejected || this._isCancelled) {
					return;
				}
				this._isResolved = true;
				if (this._resolve) this._resolve(value);
			};

			const onReject = (reason?: unknown): void => {
				if (this._isResolved || this._isRejected || this._isCancelled) {
					return;
				}
				this._isRejected = true;
				if (this._reject) this._reject(reason);
			};

			const onCancel = (cancelHandler: () => void): void => {
				if (this._isResolved || this._isRejected || this._isCancelled) {
					return;
				}
				this.cancelHandlers.push(cancelHandler);
			};

			Object.defineProperty(onCancel, 'isResolved', {
				get: (): boolean => this._isResolved,
			});

			Object.defineProperty(onCancel, 'isRejected', {
				get: (): boolean => this._isRejected,
			});

			Object.defineProperty(onCancel, 'isCancelled', {
				get: (): boolean => this._isCancelled,
			});

			return executor(onResolve, onReject, onCancel as OnCancel);
		});
	}

	get [Symbol.toStringTag](): string {
		return "Cancellable Promise";
	}

	public then<TResult1 = T, TResult2 = never>(
		onFulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | null,
		onRejected?: ((reason: unknown) => TResult2 | PromiseLike<TResult2>) | null
	): Promise<TResult1 | TResult2> {
		return this.promise.then(onFulfilled, onRejected);
	}

	public catch<TResult = never>(
		onRejected?: ((reason: unknown) => TResult | PromiseLike<TResult>) | null
	): Promise<T | TResult> {
		return this.promise.catch(onRejected);
	}

	public finally(onFinally?: (() => void) | null): Promise<T> {
		return this.promise.finally(onFinally);
	}

	public cancel(): void {
		if (this._isResolved || this._isRejected || this._isCancelled) {
			return;
		}
		this._isCancelled = true;
		if (this.cancelHandlers.length) {
			try {
				for (const cancelHandler of this.cancelHandlers) {
					cancelHandler();
				}
			} catch (error) {
				console.warn('Cancellation threw an error', error);
				return;
			}
		}
		this.cancelHandlers.length = 0;
		if (this._reject) this._reject(new CancelError('Request aborted'));
	}

	public get isCancelled(): boolean {
		return this._isCancelled;
	}
}`},useData:true};var $f={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getHeaders = async <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): Promise<Headers> => {
	const [token, username, password, additionalHeaders] = await Promise.all([
		// @ts-ignore
		resolve(options, config.TOKEN),
		// @ts-ignore
		resolve(options, config.USERNAME),
		// @ts-ignore
		resolve(options, config.PASSWORD),
		// @ts-ignore
		resolve(options, config.HEADERS),
	]);

	const headers = Object.entries({
		Accept: 'application/json',
		...additionalHeaders,
		...options.headers,
	})
		.filter(([, value]) => value !== undefined && value !== null)
		.reduce((headers, [key, value]) => ({
			...headers,
			[key]: String(value),
		}), {} as Record<string, string>);

	if (isStringWithValue(token)) {
		headers['Authorization'] = \`Bearer \${token}\`;
	}

	if (isStringWithValue(username) && isStringWithValue(password)) {
		const credentials = base64(\`\${username}:\${password}\`);
		headers['Authorization'] = \`Basic \${credentials}\`;
	}

	if (options.body !== undefined) {
		if (options.mediaType) {
			headers['Content-Type'] = options.mediaType;
		} else if (isBlob(options.body)) {
			headers['Content-Type'] = options.body.type || 'application/octet-stream';
		} else if (isString(options.body)) {
			headers['Content-Type'] = 'text/plain';
		} else if (!isFormData(options.body)) {
			headers['Content-Type'] = 'application/json';
		}
	}

	return new Headers(headers);
};`},useData:true};var Ff={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getRequestBody = (options: ApiRequestOptions): unknown => {
	if (options.body !== undefined) {
		if (options.mediaType?.includes('application/json') || options.mediaType?.includes('+json')) {
			return JSON.stringify(options.body);
		} else if (isString(options.body) || isBlob(options.body) || isFormData(options.body)) {
			return options.body;
		} else {
			return JSON.stringify(options.body);
		}
	}
	return undefined;
};`},useData:true};var Df={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getResponseBody = async (response: Response): Promise<unknown> => {
	if (response.status !== 204) {
		try {
			const contentType = response.headers.get('Content-Type');
			if (contentType) {
				const binaryTypes = ['application/octet-stream', 'application/pdf', 'application/zip', 'audio/', 'image/', 'video/'];
				if (contentType.includes('application/json') || contentType.includes('+json')) {
					return await response.json();
				} else if (binaryTypes.some(type => contentType.includes(type))) {
					return await response.blob();
				} else if (contentType.includes('multipart/form-data')) {
					return await response.formData();
				} else if (contentType.includes('text/')) {
					return await response.text();
				}
			}
		} catch (error) {
			console.error(error);
		}
	}
	return undefined;
};`},useData:true};var Mf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getResponseHeader = (response: Response, responseHeader?: string): string | undefined => {
	if (responseHeader) {
		const content = response.headers.get(responseHeader);
		if (isString(content)) {
			return content;
		}
	}
	return undefined;
};`},useData:true};var Lf={1:function(e,t,r,n,o){return `import fetch, { FormData, Headers } from 'node-fetch';
import type { RequestInit, Response } from 'node-fetch';

`},3:function(e,t,r,n,o){return "ApiResult<T>"},5:function(e,t,r,n,o){return "T"},7:function(e,t,r,n,o){return "result.body"},9:function(e,t,r,n,o){return "result"},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){var s,a=t??(e.nullContext||{}),p=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return ((s=p(r,"equals").call(a,p(p(p(p(o,"root"),"$config"),"client"),"name"),"legacy/node",{name:"equals",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:5,column:11}}}))!=null?s:"")+`import { ApiError } from './ApiError';
import type { ApiRequestOptions } from './ApiRequestOptions';
import type { ApiResult } from './ApiResult';
import { CancelablePromise } from './CancelablePromise';
import type { OnCancel } from './CancelablePromise';
import type { OpenAPIConfig } from './OpenAPI';

`+((s=e.invokePartial(p(n,"functions/isString"),t,{name:"functions/isString",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/isStringWithValue"),t,{name:"functions/isStringWithValue",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/isBlob"),t,{name:"functions/isBlob",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/isFormData"),t,{name:"functions/isFormData",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/base64"),t,{name:"functions/base64",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/getQueryString"),t,{name:"functions/getQueryString",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/getUrl"),t,{name:"functions/getUrl",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/getFormData"),t,{name:"functions/getFormData",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/resolve"),t,{name:"functions/resolve",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"fetch/getHeaders"),t,{name:"fetch/getHeaders",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"fetch/getRequestBody"),t,{name:"fetch/getRequestBody",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"fetch/sendRequest"),t,{name:"fetch/sendRequest",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"fetch/getResponseHeader"),t,{name:"fetch/getResponseHeader",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"fetch/getResponseBody"),t,{name:"fetch/getResponseBody",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/catchErrorCodes"),t,{name:"functions/catchErrorCodes",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

/**
 * Request method
 * @param config The OpenAPI configuration object
 * @param options The request options from the service
 * @returns CancelablePromise<`+((s=p(r,"ifServicesResponse").call(a,"response",{name:"ifServicesResponse",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o,loc:{start:{line:62,column:30},end:{line:62,column:108}}}))!=null?s:"")+`>
 * @throws ApiError
 */
export const request = <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): CancelablePromise<`+((s=p(r,"ifServicesResponse").call(a,"response",{name:"ifServicesResponse",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o,loc:{start:{line:65,column:100},end:{line:65,column:178}}}))!=null?s:"")+`> => {
	return new CancelablePromise(async (resolve, reject, onCancel) => {
		try {
			const url = getUrl(config, options);
			const formData = getFormData(options);
			const body = getRequestBody(options);
			const headers = await getHeaders(config, options);

			if (!onCancel.isCancelled) {
				let response = await sendRequest(config, options, url, body, formData, headers, onCancel);

				for (const fn of config.interceptors.response._fns) {
					response = await fn(response);
				}

				const responseBody = await getResponseBody(response);
				const responseHeader = getResponseHeader(response, options.responseHeader);

				let transformedBody = responseBody;
				if (options.responseTransformer && response.ok) {
					transformedBody = await options.responseTransformer(responseBody)
				}

				const result: ApiResult = {
					url,
					ok: response.ok,
					status: response.status,
					statusText: response.statusText,
					body: responseHeader ?? transformedBody,
				};

				catchErrorCodes(options, result);

				resolve(`+((s=p(r,"ifServicesResponse").call(a,"body",{name:"ifServicesResponse",hash:{},fn:e.program(7,o,0),inverse:e.program(9,o,0),data:o,loc:{start:{line:98,column:12},end:{line:98,column:90}}}))!=null?s:"")+`);
			}
		} catch (error) {
			reject(error);
		}
	});
};`},usePartial:true,useData:true};var Bf={1:function(e,t,r,n,o){return `	if (config.WITH_CREDENTIALS) {
		request.credentials = config.CREDENTIALS;
	}
`},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){var s,a=e.lookupProperty||function(p,c){if(Object.prototype.hasOwnProperty.call(p,c))return p[c]};return `export const sendRequest = async (
	config: OpenAPIConfig,
	options: ApiRequestOptions,
	url: string,
	body: any,
	formData: FormData | undefined,
	headers: Headers,
	onCancel: OnCancel
): Promise<Response> => {
	const controller = new AbortController();

	let request: RequestInit = {
		headers,
		body: body ?? formData,
		method: options.method,
		signal: controller.signal,
	};

`+((s=a(r,"equals").call(t??(e.nullContext||{}),a(a(a(a(o,"root"),"$config"),"client"),"name"),"legacy/fetch",{name:"equals",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:19,column:1},end:{line:23,column:12}}}))!=null?s:"")+`
	for (const fn of config.interceptors.request._fns) {
		request = await fn(request);
	}

	onCancel(() => controller.abort());

	return await fetch(url, request);
};`},useData:true};var Vf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const base64 = (str: string): string => {
	try {
		return btoa(str);
	} catch (err) {
		// @ts-ignore
		return Buffer.from(str).toString('base64');
	}
};`},useData:true};var Hf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const catchErrorCodes = (options: ApiRequestOptions, result: ApiResult): void => {
	const errors: Record<number, string> = {
		400: 'Bad Request',
		401: 'Unauthorized',
		402: 'Payment Required',
		403: 'Forbidden',
		404: 'Not Found',
		405: 'Method Not Allowed',
		406: 'Not Acceptable',
		407: 'Proxy Authentication Required',
		408: 'Request Timeout',
		409: 'Conflict',
		410: 'Gone',
		411: 'Length Required',
		412: 'Precondition Failed',
		413: 'Payload Too Large',
		414: 'URI Too Long',
		415: 'Unsupported Media Type',
		416: 'Range Not Satisfiable',
		417: 'Expectation Failed',
		418: 'Im a teapot',
		421: 'Misdirected Request',
		422: 'Unprocessable Content',
		423: 'Locked',
		424: 'Failed Dependency',
		425: 'Too Early',
		426: 'Upgrade Required',
		428: 'Precondition Required',
		429: 'Too Many Requests',
		431: 'Request Header Fields Too Large',
		451: 'Unavailable For Legal Reasons',
		500: 'Internal Server Error',
		501: 'Not Implemented',
		502: 'Bad Gateway',
		503: 'Service Unavailable',
		504: 'Gateway Timeout',
		505: 'HTTP Version Not Supported',
		506: 'Variant Also Negotiates',
		507: 'Insufficient Storage',
		508: 'Loop Detected',
		510: 'Not Extended',
		511: 'Network Authentication Required',
		...options.errors,
	}

	const error = errors[result.status];
	if (error) {
		throw new ApiError(options, result, error);
	}

	if (!result.ok) {
		const errorStatus = result.status ?? 'unknown';
		const errorStatusText = result.statusText ?? 'unknown';
		const errorBody = (() => {
			try {
				return JSON.stringify(result.body, null, 2);
			} catch (e) {
				return undefined;
			}
		})();

		throw new ApiError(options, result,
			\`Generic Error: status: \${errorStatus}; status text: \${errorStatusText}; body: \${errorBody}\`
		);
	}
};`},useData:true};var _f={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getFormData = (options: ApiRequestOptions): FormData | undefined => {
	if (options.formData) {
		const formData = new FormData();

		const process = (key: string, value: unknown) => {
			if (isString(value) || isBlob(value)) {
				formData.append(key, value);
			} else {
				formData.append(key, JSON.stringify(value));
			}
		};

		Object.entries(options.formData)
			.filter(([, value]) => value !== undefined && value !== null)
			.forEach(([key, value]) => {
				if (Array.isArray(value)) {
					value.forEach(v => process(key, v));
				} else {
					process(key, value);
				}
			});

		return formData;
	}
	return undefined;
};`},useData:true};var Wf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getQueryString = (params: Record<string, unknown>): string => {
	const qs: string[] = [];

	const append = (key: string, value: unknown) => {
		qs.push(\`\${encodeURIComponent(key)}=\${encodeURIComponent(String(value))}\`);
	};

	const encodePair = (key: string, value: unknown) => {
		if (value === undefined || value === null) {
			return;
		}

		if (value instanceof Date) {
			append(key, value.toISOString());
		} else if (Array.isArray(value)) {
			value.forEach(v => encodePair(key, v));
		} else if (typeof value === 'object') {
			Object.entries(value).forEach(([k, v]) => encodePair(\`\${key}[\${k}]\`, v));
		} else {
			append(key, value);
		}
	};

	Object.entries(params).forEach(([key, value]) => encodePair(key, value));

	return qs.length ? \`?\${qs.join('&')}\` : '';
};`},useData:true};var Kf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `const getUrl = (config: OpenAPIConfig, options: ApiRequestOptions): string => {
	const encoder = config.ENCODE_PATH || encodeURI;

	const path = options.url
		.replace('{api-version}', config.VERSION)
		.replace(/{(.*?)}/g, (substring: string, group: string) => {
			if (options.path?.hasOwnProperty(group)) {
				return encoder(String(options.path[group]));
			}
			return substring;
		});

	const url = config.BASE + path;
	return options.query ? url + getQueryString(options.query) : url;
};`},useData:true};var zf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const isBlob = (value: any): value is Blob => {
	return value instanceof Blob;
};`},useData:true};var Qf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const isFormData = (value: unknown): value is FormData => {
	return value instanceof FormData;
};`},useData:true};var Uf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const isString = (value: unknown): value is string => {
	return typeof value === 'string';
};`},useData:true};var Zf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const isStringWithValue = (value: unknown): value is string => {
	return isString(value) && value !== '';
};`},useData:true};var Xf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const isSuccess = (status: number): boolean => {
	return status >= 200 && status < 300;
};`},useData:true};var Gf={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `type Resolver<T> = (options: ApiRequestOptions<T>) => Promise<T>;

export const resolve = async <T>(options: ApiRequestOptions<T>, resolver?: T | Resolver<T>): Promise<T | undefined> => {
	if (typeof resolver === 'function') {
		return (resolver as Resolver<T>)(options);
	}
	return resolver;
};`},useData:true};var Jf={1:function(e,t,r,n,o){return `import { Inject, Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import type { Observable } from 'rxjs';

import type { ApiRequestOptions } from './ApiRequestOptions';
import { BaseHttpRequest } from './BaseHttpRequest';
import type { OpenAPIConfig } from './OpenAPI';
import { OpenAPI } from './OpenAPI';
import { request as __request } from './request';
`},3:function(e,t,r,n,o){return `import type { ApiRequestOptions } from './ApiRequestOptions';
import { BaseHttpRequest } from './BaseHttpRequest';
import type { CancelablePromise } from './CancelablePromise';
import type { OpenAPIConfig } from './OpenAPI';
import { request as __request } from './request';
`},5:function(e,t,r,n,o){return `@Injectable()
`},7:function(e,t,r,n,o){return `	constructor(
		@Inject(OpenAPI)
		config: OpenAPIConfig,
		http: HttpClient,
	) {
		super(config, http);
	}
`},9:function(e,t,r,n,o){return `	constructor(config: OpenAPIConfig) {
		super(config);
	}
`},11:function(e,t,r,n,o){return `	/**
	 * Request method
	 * @param options The request options from the service
	 * @returns Observable<T>
	 * @throws ApiError
	 */
	public override request<T>(options: ApiRequestOptions<T>): Observable<T> {
		return __request(this.config, this.http, options);
	}
`},13:function(e,t,r,n,o){return `	/**
	 * Request method
	 * @param options The request options from the service
	 * @returns CancelablePromise<T>
	 * @throws ApiError
	 */
	public override request<T>(options: ApiRequestOptions<T>): CancelablePromise<T> {
		return __request(this.config, options);
	}
`},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){var s,a=t??(e.nullContext||{}),p=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return ((s=p(r,"equals").call(a,p(p(p(p(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:1,column:0},end:{line:17,column:11}}}))!=null?s:"")+`
`+((s=p(r,"equals").call(a,p(p(p(p(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:19,column:0},end:{line:21,column:11}}}))!=null?s:"")+"export class "+((s=e.lambda(e.strict(t,"httpRequest",{start:{line:22,column:15},end:{line:22,column:26}}),t))!=null?s:"")+` extends BaseHttpRequest {

`+((s=p(r,"equals").call(a,p(p(p(p(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(7,o,0),inverse:e.program(9,o,0),data:o,loc:{start:{line:24,column:1},end:{line:36,column:12}}}))!=null?s:"")+`
`+((s=p(r,"equals").call(a,p(p(p(p(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(11,o,0),inverse:e.program(13,o,0),data:o,loc:{start:{line:38,column:1},end:{line:58,column:12}}}))!=null?s:"")+"}"},useData:true};var Yf={1:function(e,t,r,n,o){return `import type { HttpResponse } from '@angular/common/http';
`},3:function(e,t,r,n,o){return `import type { AxiosRequestConfig, AxiosResponse } from 'axios';
`},5:function(e,t,r,n,o){return `import type { RequestInit, Response } from 'node-fetch';
`},7:function(e,t,r,n,o){return `		response: Interceptors<HttpResponse<any>>;
`},9:function(e,t,r,n,o){return `		request: Interceptors<AxiosRequestConfig>;
		response: Interceptors<AxiosResponse>;
`},11:function(e,t,r,n,o){return `		request: Interceptors<RequestInit>;
		response: Interceptors<Response>;
`},13:function(e,t,r,n,o){return `		request: Interceptors<XMLHttpRequest>;
		response: Interceptors<XMLHttpRequest>;
`},15:function(e,t,r,n,o){return `		request: new Interceptors(),
`},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){var s,a=t??(e.nullContext||{}),p=e.strict,c=e.lambda,m=e.lookupProperty||function(l,f){if(Object.prototype.hasOwnProperty.call(l,f))return l[f]};return ((s=m(r,"equals").call(a,m(m(m(m(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:3,column:11}}}))!=null?s:"")+((s=m(r,"equals").call(a,m(m(m(m(o,"root"),"$config"),"client"),"name"),"legacy/axios",{name:"equals",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:0},end:{line:6,column:11}}}))!=null?s:"")+((s=m(r,"equals").call(a,m(m(m(m(o,"root"),"$config"),"client"),"name"),"legacy/node",{name:"equals",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:7,column:0},end:{line:9,column:11}}}))!=null?s:"")+`import type { ApiRequestOptions } from './ApiRequestOptions';

type Headers = Record<string, string>;
type Middleware<T> = (value: T) => T | Promise<T>;
type Resolver<T> = (options: ApiRequestOptions<T>) => Promise<T>;

export class Interceptors<T> {
  _fns: Middleware<T>[];

  constructor() {
    this._fns = [];
  }

  eject(fn: Middleware<T>): void {
    const index = this._fns.indexOf(fn);
    if (index !== -1) {
      this._fns = [...this._fns.slice(0, index), ...this._fns.slice(index + 1)];
    }
  }

  use(fn: Middleware<T>): void {
    this._fns = [...this._fns, fn];
  }
}

export type OpenAPIConfig = {
	BASE: string;
	CREDENTIALS: 'include' | 'omit' | 'same-origin';
	ENCODE_PATH?: ((path: string) => string) | undefined;
	HEADERS?: Headers | Resolver<Headers> | undefined;
	PASSWORD?: string | Resolver<string> | undefined;
	TOKEN?: string | Resolver<string> | undefined;
	USERNAME?: string | Resolver<string> | undefined;
	VERSION: string;
	WITH_CREDENTIALS: boolean;
	interceptors: {
`+((s=m(r,"equals").call(a,m(m(m(m(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o,loc:{start:{line:46,column:2},end:{line:48,column:13}}}))!=null?s:"")+((s=m(r,"equals").call(a,m(m(m(m(o,"root"),"$config"),"client"),"name"),"legacy/axios",{name:"equals",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o,loc:{start:{line:49,column:2},end:{line:52,column:13}}}))!=null?s:"")+((s=m(r,"equals").call(a,m(m(m(m(o,"root"),"$config"),"client"),"name"),"legacy/fetch",{name:"equals",hash:{},fn:e.program(11,o,0),inverse:e.noop,data:o,loc:{start:{line:53,column:2},end:{line:56,column:13}}}))!=null?s:"")+((s=m(r,"equals").call(a,m(m(m(m(o,"root"),"$config"),"client"),"name"),"legacy/node",{name:"equals",hash:{},fn:e.program(11,o,0),inverse:e.noop,data:o,loc:{start:{line:57,column:2},end:{line:60,column:13}}}))!=null?s:"")+((s=m(r,"equals").call(a,m(m(m(m(o,"root"),"$config"),"client"),"name"),"legacy/xhr",{name:"equals",hash:{},fn:e.program(13,o,0),inverse:e.noop,data:o,loc:{start:{line:61,column:2},end:{line:64,column:13}}}))!=null?s:"")+`	};
};

export const OpenAPI: OpenAPIConfig = {
	BASE: '`+((s=c(p(t,"server",{start:{line:69,column:11},end:{line:69,column:17}}),t))!=null?s:"")+`',
	CREDENTIALS: 'include',
	ENCODE_PATH: undefined,
	HEADERS: undefined,
	PASSWORD: undefined,
	TOKEN: undefined,
	USERNAME: undefined,
	VERSION: '`+((s=c(p(t,"version",{start:{line:76,column:14},end:{line:76,column:21}}),t))!=null?s:"")+`',
	WITH_CREDENTIALS: false,
	interceptors: {
`+((s=m(r,"notEquals").call(a,m(m(m(m(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"notEquals",hash:{},fn:e.program(15,o,0),inverse:e.noop,data:o,loc:{start:{line:79,column:2},end:{line:81,column:16}}}))!=null?s:"")+`		response: new Interceptors(),
	},
};`},useData:true};var eu={1:function(e,t,r,n,o){var s,a=e.lookupProperty||function(p,c){if(Object.prototype.hasOwnProperty.call(p,c))return p[c]};return (s=e.invokePartial(a(n,"angular/request"),t,{name:"angular/request",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:""},3:function(e,t,r,n,o){var s,a=e.lookupProperty||function(p,c){if(Object.prototype.hasOwnProperty.call(p,c))return p[c]};return (s=e.invokePartial(a(n,"axios/request"),t,{name:"axios/request",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:""},5:function(e,t,r,n,o){var s,a=e.lookupProperty||function(p,c){if(Object.prototype.hasOwnProperty.call(p,c))return p[c]};return (s=e.invokePartial(a(n,"fetch/request"),t,{name:"fetch/request",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:""},7:function(e,t,r,n,o){var s,a=e.lookupProperty||function(p,c){if(Object.prototype.hasOwnProperty.call(p,c))return p[c]};return (s=e.invokePartial(a(n,"xhr/request"),t,{name:"xhr/request",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:""},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){var s,a=t??(e.nullContext||{}),p=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return ((s=p(r,"equals").call(a,p(p(p(p(o,"root"),"$config"),"client"),"name"),"legacy/angular",{name:"equals",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:0},end:{line:1,column:87}}}))!=null?s:"")+((s=p(r,"equals").call(a,p(p(p(p(o,"root"),"$config"),"client"),"name"),"legacy/axios",{name:"equals",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:0},end:{line:2,column:83}}}))!=null?s:"")+((s=p(r,"equals").call(a,p(p(p(p(o,"root"),"$config"),"client"),"name"),"legacy/fetch",{name:"equals",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:3,column:0},end:{line:3,column:83}}}))!=null?s:"")+((s=p(r,"equals").call(a,p(p(p(p(o,"root"),"$config"),"client"),"name"),"legacy/node",{name:"equals",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:0},end:{line:4,column:82}}}))!=null?s:"")+((s=p(r,"equals").call(a,p(p(p(p(o,"root"),"$config"),"client"),"name"),"legacy/xhr",{name:"equals",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o,loc:{start:{line:5,column:0},end:{line:5,column:79}}}))!=null?s:"")},usePartial:true,useData:true};var tu={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getHeaders = async <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): Promise<Headers> => {
	const [token, username, password, additionalHeaders] = await Promise.all([
		// @ts-ignore
		resolve(options, config.TOKEN),
		// @ts-ignore
		resolve(options, config.USERNAME),
		// @ts-ignore
		resolve(options, config.PASSWORD),
		// @ts-ignore
		resolve(options, config.HEADERS),
	]);

	const headers = Object.entries({
		Accept: 'application/json',
		...additionalHeaders,
		...options.headers,
	})
		.filter(([, value]) => value !== undefined && value !== null)
		.reduce((headers, [key, value]) => ({
			...headers,
			[key]: String(value),
		}), {} as Record<string, string>);

	if (isStringWithValue(token)) {
		headers['Authorization'] = \`Bearer \${token}\`;
	}

	if (isStringWithValue(username) && isStringWithValue(password)) {
		const credentials = base64(\`\${username}:\${password}\`);
		headers['Authorization'] = \`Basic \${credentials}\`;
	}

	if (options.body !== undefined) {
		if (options.mediaType) {
			headers['Content-Type'] = options.mediaType;
		} else if (isBlob(options.body)) {
			headers['Content-Type'] = options.body.type || 'application/octet-stream';
		} else if (isString(options.body)) {
			headers['Content-Type'] = 'text/plain';
		} else if (!isFormData(options.body)) {
			headers['Content-Type'] = 'application/json';
		}
	}

	return new Headers(headers);
};`},useData:true};var ru={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getRequestBody = (options: ApiRequestOptions): unknown => {
	if (options.body !== undefined) {
		if (options.mediaType?.includes('application/json') || options.mediaType?.includes('+json')) {
			return JSON.stringify(options.body);
		} else if (isString(options.body) || isBlob(options.body) || isFormData(options.body)) {
			return options.body;
		} else {
			return JSON.stringify(options.body);
		}
	}
	return undefined;
};`},useData:true};var nu={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getResponseBody = (xhr: XMLHttpRequest): unknown => {
	if (xhr.status !== 204) {
		try {
			const contentType = xhr.getResponseHeader('Content-Type');
			if (contentType) {
				if (contentType.includes('application/json') || contentType.includes('+json')) {
					return JSON.parse(xhr.responseText);
				} else {
					return xhr.responseText;
				}
			}
		} catch (error) {
			console.error(error);
		}
	}
	return undefined;
};`},useData:true};var ou={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const getResponseHeader = (xhr: XMLHttpRequest, responseHeader?: string): string | undefined => {
	if (responseHeader) {
		const content = xhr.getResponseHeader(responseHeader);
		if (isString(content)) {
			return content;
		}
	}
	return undefined;
};`},useData:true};var su={1:function(e,t,r,n,o){return "ApiResult<T>"},3:function(e,t,r,n,o){return "T"},5:function(e,t,r,n,o){return "result.body"},7:function(e,t,r,n,o){return "result"},compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){var s,a=t??(e.nullContext||{}),p=e.lookupProperty||function(c,m){if(Object.prototype.hasOwnProperty.call(c,m))return c[m]};return `import { ApiError } from './ApiError';
import type { ApiRequestOptions } from './ApiRequestOptions';
import type { ApiResult } from './ApiResult';
import { CancelablePromise } from './CancelablePromise';
import type { OnCancel } from './CancelablePromise';
import type { OpenAPIConfig } from './OpenAPI';

`+((s=e.invokePartial(p(n,"functions/isString"),t,{name:"functions/isString",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/isStringWithValue"),t,{name:"functions/isStringWithValue",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/isBlob"),t,{name:"functions/isBlob",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/isFormData"),t,{name:"functions/isFormData",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/isSuccess"),t,{name:"functions/isSuccess",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/base64"),t,{name:"functions/base64",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/getQueryString"),t,{name:"functions/getQueryString",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/getUrl"),t,{name:"functions/getUrl",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/getFormData"),t,{name:"functions/getFormData",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/resolve"),t,{name:"functions/resolve",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"fetch/getHeaders"),t,{name:"fetch/getHeaders",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"xhr/getRequestBody"),t,{name:"xhr/getRequestBody",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"xhr/sendRequest"),t,{name:"xhr/sendRequest",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"xhr/getResponseHeader"),t,{name:"xhr/getResponseHeader",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"xhr/getResponseBody"),t,{name:"xhr/getResponseBody",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

`+((s=e.invokePartial(p(n,"functions/catchErrorCodes"),t,{name:"functions/catchErrorCodes",data:o,helpers:r,partials:n,decorators:e.decorators}))!=null?s:"")+`

/**
 * Request method
 * @param config The OpenAPI configuration object
 * @param options The request options from the service
 * @returns CancelablePromise<`+((s=p(r,"ifServicesResponse").call(a,"response",{name:"ifServicesResponse",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:60,column:30},end:{line:60,column:108}}}))!=null?s:"")+`>
 * @throws ApiError
 */
export const request = <T>(config: OpenAPIConfig, options: ApiRequestOptions<T>): CancelablePromise<`+((s=p(r,"ifServicesResponse").call(a,"response",{name:"ifServicesResponse",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:63,column:100},end:{line:63,column:178}}}))!=null?s:"")+`> => {
	return new CancelablePromise(async (resolve, reject, onCancel) => {
		try {
			const url = getUrl(config, options);
			const formData = getFormData(options);
			const body = getRequestBody(options);
			const headers = await getHeaders(config, options);

			if (!onCancel.isCancelled) {
				let response = await sendRequest(config, options, url, body, formData, headers, onCancel);

				for (const fn of config.interceptors.response._fns) {
					response = await fn(response);
				}

				const responseBody = getResponseBody(response);
				const responseHeader = getResponseHeader(response, options.responseHeader);

				let transformedBody = responseBody;
				if (options.responseTransformer && isSuccess(response.status)) {
					transformedBody = await options.responseTransformer(responseBody)
				}

				const result: ApiResult = {
					url,
					ok: isSuccess(response.status),
					status: response.status,
					statusText: response.statusText,
					body: responseHeader ?? transformedBody,
				};

				catchErrorCodes(options, result);

				resolve(`+((s=p(r,"ifServicesResponse").call(a,"body",{name:"ifServicesResponse",hash:{},fn:e.program(5,o,0),inverse:e.program(7,o,0),data:o,loc:{start:{line:96,column:12},end:{line:96,column:90}}}))!=null?s:"")+`);
			}
		} catch (error) {
			reject(error);
		}
	});
};`},usePartial:true,useData:true};var iu={compiler:[8,">= 4.3.0"],main:function(e,t,r,n,o){return `export const sendRequest = async (
	config: OpenAPIConfig,
	options: ApiRequestOptions,
	url: string,
	body: any,
	formData: FormData | undefined,
	headers: Headers,
	onCancel: OnCancel
): Promise<XMLHttpRequest> => {
	let xhr = new XMLHttpRequest();
	xhr.open(options.method, url, true);
	xhr.withCredentials = config.WITH_CREDENTIALS;

	headers.forEach((value, key) => {
		xhr.setRequestHeader(key, value);
	});

	return new Promise<XMLHttpRequest>(async (resolve, reject) => {
		xhr.onload = () => resolve(xhr);
		xhr.onabort = () => reject(new Error('Request aborted'));
		xhr.onerror = () => reject(new Error('Network error'));

		for (const fn of config.interceptors.request._fns) {
			xhr = await fn(xhr);
		}

		xhr.send(body ?? formData);

		onCancel(() => xhr.abort());
	});
};`},useData:true};var hb=()=>{O__default.default.registerHelper("camelCase",function(e){return k({case:"camelCase",value:e})}),O__default.default.registerHelper("equals",function(e,t,r){return e===t?r.fn(this):r.inverse(this)}),O__default.default.registerHelper("ifServicesResponse",function(e,t){return T().plugins["@hey-api/sdk"]?.config.response===e?t.fn(this):t.inverse(this)}),O__default.default.registerHelper("ifdef",function(...e){let t=e.pop();return e.every(r=>!r)?t.inverse(this):t.fn(this)}),O__default.default.registerHelper("notEquals",function(e,t,r){return e!==t?r.fn(this):r.inverse(this)}),O__default.default.registerHelper("transformServiceName",function(e){return _t({config:T(),name:e})});},au=()=>{hb();let e={client:O__default.default.template(hf),core:{apiError:O__default.default.template(Pf),apiRequestOptions:O__default.default.template(Af),apiResult:O__default.default.template(If),baseHttpRequest:O__default.default.template(wf),cancelablePromise:O__default.default.template(qf),httpRequest:O__default.default.template(Jf),request:O__default.default.template(eu),settings:O__default.default.template(Yf)}};return O__default.default.registerPartial("functions/base64",O__default.default.template(Vf)),O__default.default.registerPartial("functions/catchErrorCodes",O__default.default.template(Hf)),O__default.default.registerPartial("functions/getFormData",O__default.default.template(_f)),O__default.default.registerPartial("functions/getQueryString",O__default.default.template(Wf)),O__default.default.registerPartial("functions/getUrl",O__default.default.template(Kf)),O__default.default.registerPartial("functions/isBlob",O__default.default.template(zf)),O__default.default.registerPartial("functions/isFormData",O__default.default.template(Qf)),O__default.default.registerPartial("functions/isString",O__default.default.template(Uf)),O__default.default.registerPartial("functions/isStringWithValue",O__default.default.template(Zf)),O__default.default.registerPartial("functions/isSuccess",O__default.default.template(Xf)),O__default.default.registerPartial("functions/resolve",O__default.default.template(Gf)),O__default.default.registerPartial("fetch/getHeaders",O__default.default.template($f)),O__default.default.registerPartial("fetch/getRequestBody",O__default.default.template(Ff)),O__default.default.registerPartial("fetch/getResponseBody",O__default.default.template(Df)),O__default.default.registerPartial("fetch/getResponseHeader",O__default.default.template(Mf)),O__default.default.registerPartial("fetch/request",O__default.default.template(Lf)),O__default.default.registerPartial("fetch/sendRequest",O__default.default.template(Bf)),O__default.default.registerPartial("xhr/getHeaders",O__default.default.template(tu)),O__default.default.registerPartial("xhr/getRequestBody",O__default.default.template(ru)),O__default.default.registerPartial("xhr/getResponseBody",O__default.default.template(nu)),O__default.default.registerPartial("xhr/getResponseHeader",O__default.default.template(ou)),O__default.default.registerPartial("xhr/request",O__default.default.template(su)),O__default.default.registerPartial("xhr/sendRequest",O__default.default.template(iu)),O__default.default.registerPartial("axios/getHeaders",O__default.default.template(Cf)),O__default.default.registerPartial("axios/getRequestBody",O__default.default.template(Ef)),O__default.default.registerPartial("axios/getResponseBody",O__default.default.template(vf)),O__default.default.registerPartial("axios/getResponseHeader",O__default.default.template(kf)),O__default.default.registerPartial("axios/request",O__default.default.template(jf)),O__default.default.registerPartial("axios/sendRequest",O__default.default.template(Nf)),O__default.default.registerPartial("angular/getHeaders",O__default.default.template(xf)),O__default.default.registerPartial("angular/getRequestBody",O__default.default.template(bf)),O__default.default.registerPartial("angular/getResponseBody",O__default.default.template(Sf)),O__default.default.registerPartial("angular/getResponseHeader",O__default.default.template(Of)),O__default.default.registerPartial("angular/request",O__default.default.template(Rf)),O__default.default.registerPartial("angular/sendRequest",O__default.default.template(Tf)),e};var xb=0,pu=e=>`${e}-${xb++}`,ia=e=>`${e}-end`,cu=e=>`${e}-length`,aa=e=>`${e}-start`,bb=(e,t)=>{if(e>200)return {color:Xe__default.default.red,type:"duration"};if(t>30)return {color:Xe__default.default.red,type:"percentage"};if(e>50)return {color:Xe__default.default.yellow,type:"duration"};if(t>10)return {color:Xe__default.default.yellow,type:"percentage"}},vn=class{events=[];end(t){let r,n=this.events;for(let o of t.position)r=n[o],r?.events&&(n=r.events);r&&!r.end&&(r.end=performance.mark(ia(r.id)));}report(t=true){let r=this.events[0];if(!r)return;let n=this.events[this.events.length-1],o="root",s=pu(o),a=performance.measure(cu(s),aa(r.id),ia(n.id));return t&&this.reportEvent({end:n.end,events:this.events,id:s,indent:0,measure:a,name:o,start:r.start}),a}reportEvent({indent:t,...r}){let n=t?Xe__default.default.gray:Xe__default.default.cyan,o=r.events.length-1;r.events.forEach((s,a)=>{let p=performance.measure(cu(s.id),aa(s.id),ia(s.id)),c=Math.ceil(p.duration*100)/100,m=Math.ceil(p.duration/r.measure.duration*100*100)/100,l=t?bb(c,m):void 0,f=`${c.toFixed(2).padStart(8)}ms`;l?.type==="duration"&&(f=l.color(f));let u=a===o?"\u2514\u2500 ":"\u251C\u2500 ",d=t?"\u2502  ".repeat(t-1)+u:"",y=38-d.length,h=t?"\u21B3 ":"",b=`${t?" ".repeat(t-1)+h:""}${m.toFixed(2)}%`;l?.type==="percentage"&&(b=l.color(b)),console.log(Xe__default.default.gray(d)+n(`${s.name.padEnd(y)} ${f} (${b})`)),this.reportEvent({...s,indent:t+1,measure:p});});}start(t){return performance.mark(aa(t))}storeEvent({result:t,...r}){let n=r.events.length-1,o=r.events[n];if(o&&!o.end){t.position=[...t.position,n],this.storeEvent({...r,events:o.events,result:t});return}let s=r.events.push({...r,events:[]});t.position=[...t.position,s-1];}timeEvent(t){let r=pu(t),n=this.start(r),o={events:this.events,id:r,name:t,start:n},s={position:[]};return this.storeEvent({...o,result:s}),{mark:n,timeEnd:()=>this.end(s)}}};var Sb={stringCase:k};Xe__default.default.enabled=Rb__default.default().hasBasic;var OH=async(e,t=new vn)=>{let r=typeof e=="function"?await e():e,n=[];try{da();let o=t.timeEvent("createClient"),s=t.timeEvent("config"),a=await yl(r);for(let u of a.results)if(n.push(u.config),u.errors.length)throw u.errors[0];s.timeEnd();let p=t.timeEvent("handlebars"),c=au();p.timeEnd();let l=(await Promise.all(n.map(u=>sa({config:u,dependencies:a.dependencies,logger:t,templates:c})))).filter(u=>!!u);o.timeEnd();let f=n[0];return t.report(f&&f.logs.level==="debug"),l}catch(o){let s=n[0],a=s?s.dryRun:r?.dryRun,p=s?s.interactive:r?.interactive,c=s?.logs??Dn(r),m;throw c.level!=="silent"&&c.file&&!a&&(m=ma(o,c.path??"")),c.level!=="silent"&&(fa({error:o,logPath:m}),await ua({error:o,isInteractive:p})&&await la(o)),o}},RH=async e=>typeof e=="function"?await e():e;exports.Logger=vn;exports.clientDefaultConfig=Ke;exports.clientDefaultMeta=ze;exports.clientPluginHandler=Qe;exports.compiler=Zu;exports.createClient=OH;exports.defaultPaginationKeywords=Aa;exports.defaultPlugins=_i;exports.defineConfig=RH;exports.definePluginConfig=C;exports.tsc=i;exports.utils=Sb;//# sourceMappingURL=index.cjs.map
//# sourceMappingURL=index.cjs.map